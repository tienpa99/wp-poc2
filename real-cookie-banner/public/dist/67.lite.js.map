{"version":3,"file":"67.lite.js?ver=d16751ee6668e5d5","mappings":"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","sources":["webpack://devowl-local-files/real-cookie-banner/default-lite/internal/headless-content-unblocker@0.6.5/utils/isUrl.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/common/notices.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/headline.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/index.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/valueDifferFromPresetNotice.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/cookie-consent-web-client@0.3.9/utils/waitObject.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/valueDifferFromPresetTag.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/templateCenter/header.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/api-real-cookie-banner@0.7.1/entity/template/meta-data/meta-data.ts","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/templateCenter/filter.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner@0.3.9/utils/jsxJoin.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/templateCenter/card.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/templateCenter/cards.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/templateCenter/main.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/contexts/formContentBlocker.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/contexts/formService.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/contexts/templateCenter.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/hooks/useFormHandler.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner@0.3.9/components/common/groups/cookiePropertyList.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/index.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/utils/slugify.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/name.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/status.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/group.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/provider.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/purpose.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/providerPrivacyPolicyUrl.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/providerLegalNoticeUrl.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/legalBasis.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/dataProcessingInCountries.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/isEmbeddingOnlyExternalResources.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/general/compose.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/definitions/columns/type.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/definitions/columns/name.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/definitions/columns/host.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/utils/isHost.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/definitions/columns/duration.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/definitions/columns/purpose.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/technical/definitions/table.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/hooks/useFormServiceTechnicalDefinitionsTable.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/tagManagerEventName.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/headless-content-unblocker@0.6.5/dom/applyDynamicsToHtml.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/dynamicField.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/skipIfActiveNotice.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/executeCodeWhenNoTagManagerConsentIsGiven.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/codeOptIn.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/deleteTechnicalDefinitionsAfterOptOut.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/codeOpOut.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/codeOnPageLoad.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/handling/compose.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/createContentBlocker.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/fields/presetCheck.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/components/forms/service/form.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/src/components/config/cookies/form.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/src/hooks/useRouteCookie.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/internal/react-cookie-banner-admin@0.4.9/hooks/useFormServiceHandler.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/src/utils/base64EncodeUnicodeSafe.tsx","webpack://devowl-local-files/real-cookie-banner/default-lite/src/hooks/useRouteCookieGroup.tsx"],"sourcesContent":["/**\n * Check if a given string is an URL.\n *\n * @see https://www.w3resource.com/javascript-exercises/javascript-regexp-exercise-9.php\n */\nfunction isUrl(url) {\n  const pattern = /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\n  return !!pattern.test(url);\n}\nexport { isUrl };","const Notices = _ref => {\n  let {\n    notices\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, notices?.map(_ref2 => {\n    let {\n      message,\n      severity\n    } = _ref2;\n    return message ? severity ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `notice notice-${severity} below-h2 notice-alt`,\n      key: message\n    }, typeof message === \"string\" ? /*#__PURE__*/React.createElement(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: message\n      }\n    }) : /*#__PURE__*/React.createElement(\"p\", null, message)) : message : null;\n  }));\n};\nexport { Notices };","import _Form from \"antd/es/form\";\nconst FormHeadline = _ref => {\n  let {\n    children,\n    description,\n    extra,\n    offset\n  } = _ref;\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset\n    },\n    style: {\n      borderBottom: \"1px solid #e7e7e7\"\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      margin: `0 0 ${description ? 3 : 15}px 0`\n    }\n  }, children), !!description && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    style: {\n      marginBottom: 15\n    }\n  }, description), extra);\n};\nexport { FormHeadline };","export const FormServiceLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nexport * from \"./fields\";\nexport * from \"./form\";","import _Form from \"antd/es/form\";\nimport _Tag from \"antd/es/tag\";\nimport { useCallback, useLayoutEffect, useState } from \"react\";\nimport { useFormContentBlocker, useFormService, useI18n } from \"../../contexts\";\nimport { FormServiceLayout, FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT } from \".\";\nimport { Notices } from \"../common\";\nimport { waitObject } from \"@devowl-wp/cookie-consent-web-client\";\nconst FORM_VALUE_DIFFER_FROM_PRESET_NOTICE_PSEUDO_ELEMENT_CLASS_NAME = \"rcb-value-differ-from-preset-pseudo\";\nconst FormValueDifferFromPresetNotice = _ref => {\n  let {\n    containerRef,\n    form\n  } = _ref;\n  const {\n    __,\n    _i\n  } = useI18n();\n  const {\n    isTemplateUpdate\n  } = form === \"service\" ? useFormService() : useFormContentBlocker();\n  const [pseudoElements, setPseudoElements] = useState([]);\n  const [applied, setApplied] = useState(false);\n  const updatePseudoElements = useCallback(() => {\n    if (containerRef.current) {\n      const p = [...containerRef.current.querySelectorAll(`.${FORM_VALUE_DIFFER_FROM_PRESET_NOTICE_PSEUDO_ELEMENT_CLASS_NAME}`)];\n      setPseudoElements(p);\n      return p;\n    }\n    return [];\n  }, [applied]);\n  useLayoutEffect(() => {\n    const interval = setInterval(updatePseudoElements, 800);\n    waitObject(() => containerRef.current, 100).then(updatePseudoElements);\n    document.addEventListener(FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT, updatePseudoElements);\n    return () => {\n      clearInterval(interval);\n      document.removeEventListener(FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT, updatePseudoElements);\n    };\n  }, []);\n  const handleApply = () => {\n    const p = updatePseudoElements();\n    p.forEach(p => p.click());\n    setPseudoElements([]);\n    setApplied(true);\n  };\n  return isTemplateUpdate && (pseudoElements.length > 0 || applied) ? /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span,\n      span: FormServiceLayout.wrapperCol.span\n    },\n    style: {\n      marginBottom: 0\n    }\n  }, /*#__PURE__*/React.createElement(Notices, {\n    notices: [{\n      severity: \"info\",\n      message: /*#__PURE__*/React.createElement(React.Fragment, null, _i(__(\"The blocker template has been updated to provide current legal and technical information. Fields with outdated values or values you manually adjusted are marked with {{tag/}}. You can apply all changes with one click!\"), {\n        tag: /*#__PURE__*/React.createElement(_Tag, {\n          color: \"blue\"\n        }, __(\"Differing from template\"))\n      }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n        className: `button ${pseudoElements.length === 0 && applied ? \"button-disabled\" : \"\"}`,\n        onClick: handleApply,\n        style: {\n          marginTop: 5\n        }\n      }, pseudoElements.length === 0 && applied ? __(\"Applied!\") : __(\"Use default values\")))\n    }]\n  })) : null;\n};\nexport { FORM_VALUE_DIFFER_FROM_PRESET_NOTICE_PSEUDO_ELEMENT_CLASS_NAME, FormValueDifferFromPresetNotice };","/**\n * Wait for a given object which is calculated through a callback.\n */\nasync function waitObject(getObject) {\n  let delayNextCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n  let maxTries = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  let i = 0;\n  while (!getObject()) {\n    if (maxTries > 0 && i >= maxTries) {\n      return undefined;\n    }\n    await new Promise(r => setTimeout(r, delayNextCheck));\n    i++;\n  }\n  return getObject();\n}\nexport { waitObject };","import _Form from \"antd/es/form\";\nimport _Popover from \"antd/es/popover\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Modal from \"antd/es/modal\";\nimport _Tag from \"antd/es/tag\";\nimport { useState } from \"react\";\nimport { useFormContentBlocker, useFormService, useI18n } from \"../../contexts\";\nimport { FORM_VALUE_DIFFER_FROM_PRESET_NOTICE_PSEUDO_ELEMENT_CLASS_NAME } from \".\";\nimport Diff from \"react-code-diff-lite\";\nconst FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT = \"RCB/FormValueDifferFromPresetTag/Apply\";\nfunction FormValueDifferFromPresetTag(_ref) {\n  let {\n    useModal,\n    form,\n    valueName,\n    difference,\n    apply,\n    newValueText,\n    renderDiff,\n    widthOfRef,\n    placement = \"bottomLeft\",\n    noBr = false,\n    className,\n    style,\n    ignoreEmptyDefaultValue,\n    popoverProps\n  } = _ref;\n  const {\n    __\n  } = useI18n();\n  const {\n    defaultPresetValues: {\n      [valueName]: defaultValue\n    }\n  } = form === \"service\" ? useFormService() : useFormContentBlocker();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  // Memoize width as it could be `undefined` due to UI lacks\n  let width;\n  if (ignoreEmptyDefaultValue && typeof defaultValue === \"string\" && defaultValue === \"\") {\n    return null;\n  }\n  return typeof defaultValue !== \"undefined\" && /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues[valueName] !== nextValues[valueName]\n  }, _ref2 => {\n    let {\n      getFieldValue,\n      setFieldsValue\n    } = _ref2;\n    const value = getFieldValue(valueName);\n    const diff = difference ? difference(value, defaultValue) : value !== defaultValue ? true : undefined;\n    const handleApply = () => {\n      if (typeof apply === \"function\") {\n        apply(diff, setFieldsValue, value);\n      } else {\n        setFieldsValue({\n          [valueName]: defaultValue\n        });\n      }\n      document.dispatchEvent(new CustomEvent(FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT));\n      setIsModalVisible(false);\n    };\n    width = widthOfRef?.current?.clientWidth || width;\n    if (!diff) {\n      return null;\n    }\n    const descriptionComponent = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"description\",\n      style: {\n        marginBottom: 10\n      }\n    }, __(\"The value you entered is different from the value in the template.\"));\n    const contentComponent = /*#__PURE__*/React.createElement(React.Fragment, null, newValueText !== false && /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, newValueText || __(\"New value:\"))), typeof renderDiff === \"function\" ? renderDiff(defaultValue, diff) : /*#__PURE__*/React.createElement(Diff, {\n      oldStr: value,\n      newStr: defaultValue,\n      context: 100,\n      outputFormat: \"line-by-line\"\n    }));\n    const tagComponent = /*#__PURE__*/React.createElement(_Tag, {\n      color: \"blue\",\n      style: {\n        cursor: \"pointer\",\n        ...style\n      },\n      className: className,\n      onClick: () => useModal && setIsModalVisible(true)\n    }, __(\"Differing from template\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: FORM_VALUE_DIFFER_FROM_PRESET_NOTICE_PSEUDO_ELEMENT_CLASS_NAME,\n      style: {\n        display: \"none\"\n      },\n      onClick: handleApply\n    }));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, useModal ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Modal, {\n      open: isModalVisible,\n      onOk: handleApply,\n      onCancel: () => setIsModalVisible(false),\n      okText: __(\"Use default value\"),\n      cancelText: __(\"Cancel\"),\n      width: \"calc(100% - 50px)\"\n    }, descriptionComponent, contentComponent), tagComponent) : /*#__PURE__*/React.createElement(_Popover, _extends({\n      destroyTooltipOnHide: true,\n      overlayStyle: {\n        width\n      },\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wp-clearfix\"\n      }, descriptionComponent, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: \"10px 0\"\n        }\n      }, contentComponent), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"button button-primary alignright\",\n        onClick: handleApply\n      }, __(\"Use default value\"))),\n      title: undefined,\n      placement: placement\n    }, popoverProps), tagComponent), !noBr && /*#__PURE__*/React.createElement(\"br\", null));\n  });\n}\nexport { FormValueDifferFromPresetTag, FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT };","import _Card from \"antd/es/card\";\nimport { PlusOutlined, SearchOutlined } from \"@ant-design/icons\";\nimport { useI18n, useTemplateCenter } from \"../../contexts\";\nimport { COOKIE_EXPERTS_LOGO_URL, useCookieExpertsModal } from \"../../hooks\";\nconst {\n  Meta\n} = _Card;\nconst TemplateCenterHeader = _ref => {\n  let {\n    onSelect\n  } = _ref;\n  const {\n    __\n  } = useI18n();\n  const {\n    quickLinks\n  } = useTemplateCenter();\n  const {\n    openDialog: openCookieExperts\n  } = useCookieExpertsModal();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, quickLinks.map(link => {\n    if (typeof link === \"string\") {\n      switch (link) {\n        case \"cookie-experts\":\n          return {\n            id: \"cookie-experts\",\n            cover: /*#__PURE__*/React.createElement(\"img\", {\n              src: COOKIE_EXPERTS_LOGO_URL,\n              style: {\n                display: \"block\",\n                paddingTop: 15,\n                margin: \"auto\",\n                height: 95\n              }\n            }),\n            title: \"Cookie Experts\",\n            description: __(\"help you with the setup\"),\n            onClick: openCookieExperts\n          };\n        case \"service-individual\":\n          return {\n            id: \"from-scratch\",\n            cover: /*#__PURE__*/React.createElement(PlusOutlined, {\n              style: {\n                paddingTop: 25,\n                fontSize: 70\n              }\n            }),\n            title: __(\"Create from scratch\"),\n            description: __(\"an individual service\"),\n            onClick: () => onSelect(undefined)\n          };\n        case \"blocker-individual\":\n          return {\n            id: \"from-scratch\",\n            cover: /*#__PURE__*/React.createElement(PlusOutlined, {\n              style: {\n                paddingTop: 25,\n                fontSize: 70\n              }\n            }),\n            title: __(\"Create from scratch\"),\n            description: __(\"an individual content blocker\"),\n            onClick: () => onSelect(undefined)\n          };\n        case \"service-scanner\":\n          return {\n            id: \"scanner\",\n            cover: /*#__PURE__*/React.createElement(SearchOutlined, {\n              style: {\n                paddingTop: 25,\n                fontSize: 70\n              }\n            }),\n            title: __(\"Scan website\"),\n            description: __(\"and find used service\"),\n            onClick: () => window.location.hash = \"#/scanner\"\n          };\n        default:\n          break;\n      }\n    }\n    return link;\n  }).map(_ref2 => {\n    let {\n      id,\n      cover,\n      description,\n      onClick,\n      title\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(_Card, {\n      key: id,\n      hoverable: true,\n      style: {\n        margin: 5,\n        width: 240,\n        display: \"inline-block\"\n      },\n      onClick: onClick,\n      cover: cover\n    }, /*#__PURE__*/React.createElement(Meta, {\n      title: title,\n      description: description\n    }));\n  }));\n};\nexport { TemplateCenterHeader };","var EExtendsMergeStrategy = /*#__PURE__*/function (EExtendsMergeStrategy) {\n  EExtendsMergeStrategy[\"Append\"] = \"append\";\n  EExtendsMergeStrategy[\"Overwrite\"] = \"overwrite\";\n  EExtendsMergeStrategy[\"Clear\"] = \"clear\";\n  EExtendsMergeStrategy[\"Keep\"] = \"keep\";\n  return EExtendsMergeStrategy;\n}(EExtendsMergeStrategy || {});\nvar ETemplateStatus = /*#__PURE__*/function (ETemplateStatus) {\n  ETemplateStatus[\"Draft\"] = \"draft\";\n  ETemplateStatus[\"Published\"] = \"published\";\n  return ETemplateStatus;\n}(ETemplateStatus || {});\nvar ERcbTier = /*#__PURE__*/function (ERcbTier) {\n  ERcbTier[\"Free\"] = \"free\";\n  ERcbTier[\"Pro\"] = \"pro\";\n  return ERcbTier;\n}(ERcbTier || {});\nvar EWhenOneOfCondition = /*#__PURE__*/function (EWhenOneOfCondition) {\n  EWhenOneOfCondition[\"IsWordPressPluginOrThemeActive\"] = \"is-wordpress-plugin-or-theme-active\";\n  return EWhenOneOfCondition;\n}(EWhenOneOfCondition || {});\nexport { EExtendsMergeStrategy, ETemplateStatus, ERcbTier, EWhenOneOfCondition };","import _Row from \"antd/es/row\";\nimport _Divider from \"antd/es/divider\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport _Col from \"antd/es/col\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport _Input from \"antd/es/input\";\nimport { SyncOutlined } from \"@ant-design/icons\";\nimport { ERcbTier } from \"@devowl-wp/api-real-cookie-banner\";\nimport { jsxJoin } from \"@devowl-wp/react-cookie-banner/src\";\nimport { useEffect, useState } from \"react\";\nimport { useI18n, useTemplateCenter, useUpsell } from \"../../contexts\";\nfunction TemplateCenterFilter(_ref) {\n  let {\n    children,\n    onFetched\n  } = _ref;\n  const [busy, setBusy] = useState(false);\n  const {\n    __\n  } = useI18n();\n  const {\n    isPro,\n    isLicensed\n  } = useUpsell();\n  const {\n    fetchTemplates,\n    enableLocalFilter,\n    syncTemplates\n  } = useTemplateCenter();\n  const [term, setTerm] = useState(\"\");\n  const [isShowOnlyFree, setShowOnlyFree] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [latestSync, setLatestSync] = useState();\n  const handleSync = async () => {\n    setIsSyncing(true);\n    try {\n      await syncTemplates();\n      setLatestSync(new Date());\n    } finally {\n      setIsSyncing(false);\n    }\n  };\n  useEffect(() => {\n    if (isLicensed) {\n      setBusy(true);\n      fetchTemplates({\n        term,\n        isShowOnlyFree\n      }).then(items => {\n        let result = items;\n        if (enableLocalFilter) {\n          result = result.filter(_ref2 => {\n            let {\n              tier\n            } = _ref2;\n            return isPro ? true : isShowOnlyFree ? tier !== ERcbTier.Pro : true;\n          }).filter(_ref3 => {\n            let {\n              headline,\n              subHeadline\n            } = _ref3;\n            return term.trim().length ? term.split(\" \").filter(Boolean).filter(singleTerm =>\n            // Include description in search index\n            `${headline} ${subHeadline || \"\"}`.toLowerCase().indexOf(singleTerm.trim().toLowerCase()) > -1).length > 0 : true;\n          });\n        }\n        onFetched(result);\n      }).finally(() => {\n        setBusy(false);\n      });\n    }\n  }, [onFetched, term, isShowOnlyFree, isLicensed, latestSync]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 20\n    }\n  }, children, /*#__PURE__*/React.createElement(_Input.Search, {\n    autoFocus: true,\n    loading: busy,\n    style: {\n      maxWidth: 400\n    },\n    placeholder: __(\"Search template by name...\"),\n    onChange: e => setTerm(e.target.value),\n    disabled: !isLicensed\n  }), /*#__PURE__*/React.createElement(_Row, {\n    style: {\n      marginTop: 10\n    },\n    justify: \"center\",\n    align: \"middle\",\n    gutter: [10, 16]\n  }, jsxJoin([!isPro && /*#__PURE__*/React.createElement(_Col, {\n    key: \"isShowOnlyFree\"\n  }, /*#__PURE__*/React.createElement(_Checkbox, {\n    key: \"isShowOnlyFree\",\n    onChange: () => setShowOnlyFree(!isShowOnlyFree),\n    disabled: !isLicensed,\n    style: {\n      marginRight: -8\n    }\n  }, __(\"Show only free templates\"))), !!syncTemplates && isLicensed && /*#__PURE__*/React.createElement(_Col, {\n    key: \"sync\"\n  }, /*#__PURE__*/React.createElement(_Tooltip, {\n    title: __(\"The templates are downloaded from a cloud, and temporarily cached on your WordPress instance. Your website visitors do not receive any data from this cloud, only you during the creation of a service or content blocker.\"),\n    key: \"sync\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    style: {\n      textDecoration: \"none\",\n      cursor: \"pointer\"\n    },\n    onClick: isSyncing ? undefined : handleSync\n  }, /*#__PURE__*/React.createElement(SyncOutlined, {\n    spin: isSyncing\n  }), \"\\xA0\", __(\"Sync templates\"))))].filter(Boolean), /*#__PURE__*/React.createElement(_Col, null, /*#__PURE__*/React.createElement(_Divider, {\n    type: \"vertical\"\n  })))));\n}\nexport { TemplateCenterFilter };","import { Fragment } from \"react\";\n\n/**\n * Join together a set of JSX elements with a separator.\n *\n * @see https://stackoverflow.com/q/33577448/5506547\n */\nfunction jsxJoin(components, separator) {\n  // Just to be sure, remove falsy values so we can add conditionals to the components array\n  const filtered = components.filter(Boolean);\n  return filtered.length === 0 ? null : filtered.reduce((acc, curr, i) => acc.length ? [...acc,\n  /*#__PURE__*/\n  // Wrap the separator in a fragment to avoid `missing key` issues\n  React.createElement(Fragment, {\n    key: i\n  }, separator), curr] : [curr], []);\n}\nexport { jsxJoin };","import _Tooltip from \"antd/es/tooltip\";\nimport _Tag from \"antd/es/tag\";\nimport _Card from \"antd/es/card\";\nimport { ERcbTier } from \"@devowl-wp/api-real-cookie-banner\";\nimport { UPSELL_TAG_BACKGROUND_COLOR, useI18n, useUpsell, useUpsellModal } from \"../..\";\nconst {\n  Meta\n} = _Card;\nfunction TemplateCenterCard(_ref) {\n  let {\n    template,\n    renderActions,\n    onSelect\n  } = _ref;\n  const {\n    __\n  } = useI18n();\n  const {\n    isPro,\n    isDemoEnv\n  } = useUpsell();\n  const {\n    headline,\n    subHeadline,\n    logoUrl,\n    tier,\n    consumerData: {\n      tags,\n      isDisabled\n    }\n  } = template;\n  const disabledTranslatedText = __(\"Disabled\");\n  const showProBadge = tier === ERcbTier.Pro && !isPro;\n  const {\n    open: openProModal,\n    modal\n  } = useUpsellModal({\n    title: __(\"Want to use %s template?\", headline),\n    feature: \"preset\",\n    description: `${__(\"Only a limited number of templates for services and content blockers are available in the %s version of Real Cookie Banner. Get the PRO version now and create a service or content blocker from this template with just one click!\", (isDemoEnv ? __(\"Demo\") : __(\"Free\")).toLowerCase())}${isDemoEnv ? \"\" : `\n\n${__(\"You can create this service yourself in the free version without any restrictions and research the necessary information.\")}`}`\n  },\n  // PRO Presets are deactivate on try.devowl.io\n  isDemoEnv ? false : undefined);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, modal, /*#__PURE__*/React.createElement(_Tooltip, {\n    title: isDisabled ? /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: tags[disabledTranslatedText]\n      }\n    }) : undefined\n  }, /*#__PURE__*/React.createElement(_Card, {\n    className: \"rcb-antd-preset-card\",\n    hoverable: !isDisabled,\n    style: {\n      opacity: isDisabled || isDisabled ? 0.6 : 1\n    },\n    onClick: e => {\n      // This event is bubbled also for the external URLs table in the modal dialog\n      // Check if the click comes directly from the card\n      if (!e.target.closest(\".rcb-antd-card\")) {\n        return;\n      }\n      if (showProBadge) {\n        openProModal();\n      } else if (!isDisabled) {\n        onSelect?.(template);\n      }\n    },\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: \"90%\"\n      },\n      src: logoUrl\n    }),\n    actions: renderActions ? renderActions(template) : []\n  }, /*#__PURE__*/React.createElement(Meta, {\n    title: /*#__PURE__*/React.createElement(\"span\", null, showProBadge && /*#__PURE__*/React.createElement(_Tag, {\n      color: UPSELL_TAG_BACKGROUND_COLOR\n    }, \"PRO\"), !!tags && Object.keys(tags).map(key => /*#__PURE__*/React.createElement(_Tooltip, {\n      title: key === disabledTranslatedText ? undefined : /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: tags[key]\n        }\n      }),\n      key: key\n    }, /*#__PURE__*/React.createElement(_Tag, null, key))), /*#__PURE__*/React.createElement(\"br\", null), headline),\n    description: subHeadline ? subHeadline : /*#__PURE__*/React.createElement(\"i\", null, __(\"No description\"))\n  }))));\n}\nexport { TemplateCenterCard };","import _extends from \"@babel/runtime/helpers/extends\";\nimport { TemplateCenterCard } from \"../..\";\nfunction TemplateCenterCards(_ref) {\n  let {\n    templates,\n    showHidden,\n    showDisabled = true,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, templates.filter(_ref2 => {\n    let {\n      isHidden\n    } = _ref2;\n    return showHidden ? true : !isHidden;\n  }).filter(_ref3 => {\n    let {\n      consumerData: {\n        isDisabled\n      }\n    } = _ref3;\n    return showDisabled ? true : !isDisabled;\n  }).map(template => /*#__PURE__*/React.createElement(TemplateCenterCard, _extends({\n    template: template,\n    key: template.identifier\n  }, rest))));\n}\nexport { TemplateCenterCards };","import _Spin from \"antd/es/spin\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { ASSETS_URL, LearnMoreTag, useI18n, useTemplateCenter, useUpsell, UpsellModal } from \"../..\";\nimport { TemplateCenterCards, TemplateCenterFilter, TemplateCenterHeader } from \".\";\nfunction TemplateCenter() {\n  const {\n    __\n  } = useI18n();\n  const [busy, setBusy] = useState(false);\n  const {\n    type,\n    fetchUse,\n    initialSelection,\n    onSelect\n  } = useTemplateCenter();\n  const {\n    isPro,\n    isLicensed\n  } = useUpsell();\n  const [noLicenseInContainerRef, setNoLicenseInContainerRef] = useState();\n  const [templates, setTemplates] = useState([]);\n\n  // Initial selection, e.g. by React Router parameter\n  useEffect(() => {\n    if (initialSelection) {\n      (async () => {\n        if (initialSelection === \"scratch\") {\n          onSelect(undefined, true);\n        } else {\n          setBusy(true);\n          try {\n            const use = await fetchUse(initialSelection);\n            onSelect(use, true);\n          } finally {\n            setBusy(false);\n          }\n        }\n      })();\n    }\n  }, [initialSelection]);\n  const handleSelect = useCallback(async template => {\n    setBusy(true);\n    try {\n      const use = await fetchUse(template.identifier, template);\n      onSelect(use);\n    } finally {\n      setBusy(false);\n    }\n  }, [onSelect]);\n  if (initialSelection) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      }\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      spinning: true\n    }));\n  }\n  return /*#__PURE__*/React.createElement(_Spin, {\n    spinning: busy\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, /*#__PURE__*/React.createElement(TemplateCenterHeader, {\n    onSelect: handleSelect\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      margin: \"20px 0\"\n    }\n  }, __(\"...or create it from one of our templates\")), /*#__PURE__*/React.createElement(TemplateCenterFilter, {\n    onFetched: setTemplates\n  }, type === \"service\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LearnMoreTag, {\n    url: __(\"https://devowl.io/knowledge-base/real-cookie-banner-find-all-cookies/\"),\n    label: __(\"How do I find all services (cookies) on my website?\"),\n    style: {\n      marginBottom: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", null))), !isLicensed && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UpsellModal, {\n    title: __(\"We offer a wide range of ready-made and ready-to-use templates!\"),\n    inContainer: true,\n    inContainerElement: noLicenseInContainerRef,\n    mode: \"license-activation\",\n    feature: \"templates\",\n    description: __(\"This functionality is only available with a valid license activation, as the templates must be downloaded regularly from our cloud service. The templates are downloaded from a cloud, and temporarily cached on your WordPress instance. Your website visitors do not receive any data from this cloud, only you during the creation of a service or content blocker.\") + (isPro ? \"\" : ` ${__(\"We also offer you a lot of templates in the free version, you can activate your free licence at any time, without any costs.\")}`)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: setNoLicenseInContainerRef,\n    className: \"rcb-modal-mount\",\n    style: {\n      height: 800,\n      backgroundImage: `url('${ASSETS_URL}templates-blured.jpg')`,\n      backgroundSize: \"50% auto\",\n      backgroundRepeat: \"repeat\",\n      backgroundPosition: \"top left\"\n    }\n  })), /*#__PURE__*/React.createElement(TemplateCenterCards, {\n    templates: templates,\n    onSelect: handleSelect\n  })));\n}\nexport { TemplateCenter };","import { createContext, useContext } from \"react\";\n/**\n * Create a side-effect-free context provider.\n */\nclass FormContentBlockerContextFactory {\n  static Context() {\n    return this.context = this.context || /*#__PURE__*/createContext({});\n  }\n}\nFormContentBlockerContextFactory.context = void 0;\nfunction useFormContentBlocker() {\n  return useContext(FormContentBlockerContextFactory.Context());\n}\nexport { FormContentBlockerContextFactory, useFormContentBlocker };","import { createContext, useContext } from \"react\";\n/**\n * Create a side-effect-free context provider.\n */\nclass FormServiceContextFactory {\n  static Context() {\n    return this.context = this.context || /*#__PURE__*/createContext({});\n  }\n}\nFormServiceContextFactory.context = void 0;\nfunction useFormService() {\n  return useContext(FormServiceContextFactory.Context());\n}\nexport { FormServiceContextFactory, useFormService };","import { createContext, useContext } from \"react\";\n/**\n * Create a side-effect-free context provider.\n */\nclass TemplateCenterContextFactory {\n  static Context() {\n    return this.context = this.context || /*#__PURE__*/createContext({});\n  }\n}\nTemplateCenterContextFactory.context = void 0;\nfunction useTemplateCenter() {\n  return useContext(TemplateCenterContextFactory.Context());\n}\nexport { TemplateCenterContextFactory, useTemplateCenter };","import _message from \"antd/es/message\";\nimport _Form from \"antd/es/form\";\nimport { useCallback, useState } from \"react\";\nfunction useFormHandler(_ref) {\n  let {\n    defaultValues,\n    handleSave,\n    i18n,\n    initialHasChanges,\n    trackFieldsDifferFromDefaultValues = []\n  } = _ref;\n  const [form] = _Form.useForm();\n  const [isBusy, setIsBusy] = useState(false);\n  const [hasChanges, setHasChanges] = useState(initialHasChanges || false);\n\n  // Do not hold in state as it could lead to input focus loss due to reactivity. Use `hasTrackedFieldDifferenceToDefaultValue` instead.\n  const trackedFieldsDifferFromDefaultValues = [];\n  const hasTrackedFieldDifferenceToDefaultValue = field => trackedFieldsDifferFromDefaultValues.indexOf(field) > -1;\n  const onFinish = useCallback(async values => {\n    setIsBusy(true);\n    try {\n      await handleSave(values);\n      form.resetFields();\n      _message.success(i18n.successMessage);\n      setHasChanges(false);\n    } catch (e) {\n      _message.error(e);\n    } finally {\n      setIsBusy(false);\n    }\n  }, [form, handleSave]);\n  const onFinishFailed = useCallback(errorInfo => {\n    _message.error(i18n.validationError);\n    if (errorInfo.errorFields.length) {\n      // form.scrollToField() does not play nicely with some controls (e.g. `RadioGroup`), so use custom implementation\n      const instance = form.getFieldInstance(errorInfo.errorFields[0].name);\n      instance.parentElement.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\"\n      });\n    }\n  }, [form, i18n]);\n  const onBeforeUnload = useCallback(() => !hasChanges ? true : initialHasChanges && i18n.unloadConfirmInitialActive ? i18n.unloadConfirmInitialActive : i18n.unloadConfirm, [hasChanges, i18n, initialHasChanges]);\n  const onValuesChange = useCallback((changedValues, values) => {\n    if (trackFieldsDifferFromDefaultValues && defaultValues) {\n      // Change without reactivity and keep reference so `hasTrackedFieldDifferenceToDefaultValue` keeps intact\n      trackedFieldsDifferFromDefaultValues.splice(0, trackedFieldsDifferFromDefaultValues.length);\n      for (const trackFieldChange of trackFieldsDifferFromDefaultValues) {\n        const currentValue = values[trackFieldChange];\n        const defaultValue = defaultValues[trackFieldChange];\n        if (currentValue !== defaultValue) {\n          trackedFieldsDifferFromDefaultValues.push(trackFieldChange);\n        }\n      }\n    }\n    setHasChanges(true);\n  }, [trackFieldsDifferFromDefaultValues, defaultValues]);\n  return {\n    form,\n    isBusy,\n    setIsBusy,\n    hasChanges,\n    hasTrackedFieldDifferenceToDefaultValue,\n    onFinish,\n    /**\n     * Cast to avoid this error:\n     *\n     * ```\n     * The inferred type of 'useFormContentBlockerHandler' cannot be named without a reference to '.pnpm/rc-field-form@1.27.4_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-field-form/lib/interface'. This is likely not portable. A type annotation is necessary.\n     * ```\n     */\n    onFinishFailed: onFinishFailed,\n    onBeforeUnload,\n    onValuesChange\n  };\n}\nexport { useFormHandler };","import { Fragment } from \"react\";\nimport { CookieProperty } from \".\";\nimport { useBannerOrBlocker } from \"../../../hooks\";\nimport { applyDynamicsToHtml } from \"@devowl-wp/headless-content-unblocker\";\nconst CookiePropertyList = _ref => {\n  let {\n    cookie: {\n      purpose,\n      provider,\n      providerPrivacyPolicyUrl,\n      providerLegalNoticeUrl,\n      legalBasis,\n      ePrivacyUSA,\n      isEmbeddingOnlyExternalResources,\n      technicalDefinitions,\n      codeDynamics\n    },\n    isEssentialGroup\n  } = _ref;\n  const {\n    i18n,\n    ePrivacyUSA: ePrivacyUSAEnabled\n  } = useBannerOrBlocker();\n  const types = getCookieTypeLocalizationMap();\n  return /*#__PURE__*/React.createElement(Fragment, null, !!purpose && /*#__PURE__*/React.createElement(CookieProperty, {\n    label: i18n.purpose,\n    value: purpose\n  }), /*#__PURE__*/React.createElement(CookieProperty, {\n    label: i18n.legalBasis,\n    value: legalBasis === \"legal-requirement\" ? i18n.legalRequirement : legalBasis === \"legitimate-interest\" || isEssentialGroup ? i18n.legitimateInterest : i18n.consent\n  }), /*#__PURE__*/React.createElement(CookieProperty, {\n    label: i18n.provider,\n    value: provider\n  }), !!providerPrivacyPolicyUrl && /*#__PURE__*/React.createElement(CookieProperty, {\n    label: i18n.providerPrivacyPolicyUrl,\n    value: providerPrivacyPolicyUrl\n  }), !!providerLegalNoticeUrl && /*#__PURE__*/React.createElement(CookieProperty, {\n    label: i18n.providerLegalNoticeUrl,\n    value: providerLegalNoticeUrl\n  }), !!ePrivacyUSAEnabled && /*#__PURE__*/React.createElement(CookieProperty, {\n    label: i18n.ePrivacyUSA,\n    value: ePrivacyUSA,\n    printValueAs: \"boolean\"\n  }), !isEmbeddingOnlyExternalResources && technicalDefinitions.map(_ref2 => {\n    let {\n      type,\n      name,\n      host,\n      duration,\n      durationUnit,\n      isSessionDuration,\n      purpose\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(CookieProperty, {\n      key: name,\n      label: i18n.technicalCookieDefinition,\n      value: /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontFamily: \"monospace\"\n        }\n      }, applyDynamicsToHtml(name, codeDynamics))\n    }, /*#__PURE__*/React.createElement(CookieProperty, {\n      label: i18n.type,\n      value: types[type].name\n    }), !!purpose && /*#__PURE__*/React.createElement(CookieProperty, {\n      label: i18n.purpose,\n      value: purpose\n    }), !!host && /*#__PURE__*/React.createElement(CookieProperty, {\n      label: i18n.host,\n      value: /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontFamily: \"monospace\"\n        }\n      }, host)\n    }), /*#__PURE__*/React.createElement(CookieProperty, {\n      label: i18n.duration,\n      value: [\"local\", \"indexedDb\"].indexOf(type) > -1 ? i18n.noExpiration : isSessionDuration || type === \"session\" ? \"Session\" : `${duration} ${i18n.durationUnit[durationUnit]}`\n    }));\n  }));\n};\nfunction getCookieTypeLocalizationMap() {\n  return {\n    http: {\n      name: \"HTTP Cookie\",\n      abbr: \"HTTP\",\n      backgroundColor: \"black\"\n    },\n    local: {\n      name: \"Local Storage\",\n      abbr: \"Local\",\n      backgroundColor: \"#b3983c\"\n    },\n    session: {\n      name: \"Session Storage\",\n      abbr: \"Session\",\n      backgroundColor: \"#3c99b3\"\n    },\n    indexedDb: {\n      name: \"IndexedDB\",\n      abbr: \"I-DB\",\n      backgroundColor: \"#4ab33c\"\n    }\n  };\n}\nexport { CookiePropertyList, getCookieTypeLocalizationMap };","export const TECHNICAL_DEFINITION_DEFAULTS = {\n  type: \"http\",\n  name: \"\",\n  host: \"\",\n  duration: undefined,\n  durationUnit: \"y\",\n  isSessionDuration: false,\n  purpose: \"\"\n};\nexport * from \"./definitions\";","/**\n * Slugify a given text.\n *\n * @see https://gist.github.com/codeguy/6684588\n */\nfunction slugify(str) {\n  str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\n  str = str.toLowerCase();\n\n  // remove accents, swap ñ for n, etc\n  const from = \"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\";\n  const to = \"aaaaeeeeiiiioooouuuunc------\";\n  for (let i = 0, l = from.length; i < l; i++) {\n    str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n  }\n  str = str.replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\n  .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\n  .replace(/-+/g, \"-\"); // collapse dashes\n\n  return str;\n}\nexport { slugify };","import _Spin from \"antd/es/spin\";\nimport _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useRef, useCallback, useState } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nimport { slugify } from \"../../../../../utils\";\nconst FormServiceFieldGeneralName = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    hasServiceByUniqueName\n  } = useFormService();\n  const ref = useRef();\n  const [hover, setHover] = useState(false);\n  const [uniqueNameValidating, setUniqueNameValidating] = useState(false);\n  const validateUniqueName = useCallback(async (slug, overwrite) => {\n    setUniqueNameValidating(true);\n    try {\n      const found = slug ? await hasServiceByUniqueName(slug) : false;\n      if (found) {\n        if (!overwrite) {\n          throw __(\"A service with the same unique name already exists.\");\n        } else {\n          // Consent Forwarding is deactivated, so we need to generate an unique name for the user\n          const matchRegexp = /^(.*)-(\\d+)$/;\n          let uniqueName = slug;\n          let foundGenerated = found;\n          while (foundGenerated) {\n            uniqueName = uniqueName.match(matchRegexp) ? uniqueName.replace(matchRegexp, (_, g1, g2) => `${g1}-${+g2 + 1}`) : `${uniqueName}-1`;\n            foundGenerated = await hasServiceByUniqueName(uniqueName);\n          }\n\n          // Overwrite in form\n          overwrite(uniqueName);\n        }\n      }\n    } finally {\n      setUniqueNameValidating(false);\n    }\n  }, [hasServiceByUniqueName]);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Name\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"name\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please provide a name!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(_Spin, {\n    spinning: uniqueNameValidating\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onMouseEnter: () => setHover(true),\n    onMouseLeave: () => setHover(false),\n    style: {\n      marginTop: \"-1px\",\n      opacity: hover ? 1 : 0.7,\n      transition: \"opacity 200ms\"\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.name !== nextValues.name\n  }, _ref => {\n    let {\n      getFieldValue,\n      setFieldsValue\n    } = _ref;\n    const name = getFieldValue(\"name\");\n    const nameSlug = slugify(name);\n    return /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"uniqueName\",\n      noStyle: true,\n      validateTrigger: \"onBlur\",\n      rules: [{\n        validator: async (rules, value) => validateUniqueName(value, uniqueName => setFieldsValue({\n          uniqueName\n        }))\n      }]\n    }, /*#__PURE__*/React.createElement(_Input, {\n      addonBefore: __(\"Unique identifier\"),\n      placeholder: nameSlug,\n      size: \"small\"\n    }));\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"name\",\n    widthOfRef: ref,\n    renderDiff: value => /*#__PURE__*/React.createElement(_Input, {\n      value: value,\n      readOnly: true\n    })\n  }), __('Each service used should have a descriptive name that is understandable to a non-professional user. Example: \"Google Analytics\". In addition, each service must have a unique identifier that you use for e.g. consent forwarding or the developer API (automatically generated if empty).')));\n};\nexport { FormServiceFieldGeneralName };","import _Form from \"antd/es/form\";\nimport _Radio from \"antd/es/radio\";\nimport { useI18n } from \"../../../../../contexts\";\nconst FormServiceFieldGeneralStatus = () => {\n  const {\n    __\n  } = useI18n();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Status\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"status\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please choose an option!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Radio.Group, null, /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"publish\"\n  }, __(\"Enabled\")), /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"private\"\n  }, __(\"Disabled\")), /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"draft\"\n  }, __(\"Draft\")))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __('Services with the status \"Draft\" or \"Disabled\" are not visible to the public. In addition, a draft will be highlighted in the service table so that you do not forget to configure it.')));\n};\nexport { FormServiceFieldGeneralStatus };","import _Form from \"antd/es/form\";\nimport _Select from \"antd/es/select\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { Notices } from \"../../../../common\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nimport { getManagerDependingVariables } from \"@devowl-wp/cookie-consent-web-client\";\nconst FormServiceFieldGeneralGroup = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    serviceIsManager,\n    setCookiesViaManager,\n    essentialGroupId,\n    groups,\n    notices: {\n      group: groupNotices\n    }\n  } = useFormService();\n  const ref = useRef();\n  const {\n    managerLabel\n  } = getManagerDependingVariables(setCookiesViaManager);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Group\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"group\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please provide a group!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Select, null, groups.map(_ref => {\n    let {\n      id,\n      name\n    } = _ref;\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      key: id,\n      value: id\n    }, name);\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"group\",\n    widthOfRef: ref,\n    style: {\n      marginBottom: 3\n    },\n    renderDiff: value => /*#__PURE__*/React.createElement(_Select, {\n      value: value,\n      disabled: true\n    }, groups.map(_ref2 => {\n      let {\n        id,\n        name\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(_Select.Option, {\n        key: id,\n        value: id\n      }, name);\n    }))\n  }), __(\"Each service must be assigned to a group. All services that do not belong to the group of essential services can (but do not have to) be accepted by visitors. According to the ePrivacy Directive, only services without which the website would not work are considered as essential services if the visitor has explicitly requested the service used. A possible economic interest of the website operator in using a tool, e.g. Google Analytics, is irrelevant.\")), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, curValues) => prevValues.group !== curValues.group\n  }, _ref3 => {\n    let {\n      getFieldValue\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: serviceIsManager && getFieldValue(\"group\") !== essentialGroupId ? __(\"You have defined %1$s in a non-essential service group. In our legal opinion, this is the only way to use %1$s legally. However, please note that if a user doesn't consent to load %1$s, opt-in and opt-out events will not be sent to %1$s. Real Cookie Banner offers you the possibility to specify a fallback HTML/JavaScript for this case.\", managerLabel) : undefined,\n        severity: \"warning\"\n      }, ...groupNotices]\n    });\n  }));\n};\nexport { FormServiceFieldGeneralGroup };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useRef } from \"react\";\nimport { useI18n } from \"../../../../../contexts\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldGeneralProvider = () => {\n  const {\n    __\n  } = useI18n();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Provider\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"provider\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please name a provider!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"provider\",\n    widthOfRef: ref,\n    renderDiff: value => /*#__PURE__*/React.createElement(_Input, {\n      value: value,\n      readOnly: true\n    })\n  }), __('A service always has an \"owner\", who processes collected data or information saved in cookies etc. Please specify which provider creates cookies and processes personal data, e.g. \"Google Ireland Limited\". If you are the provider, please enter your legal name.')));\n};\nexport { FormServiceFieldGeneralProvider };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useRef } from \"react\";\nimport { useI18n } from \"../../../../../contexts\";\nimport { FormValueDifferFromPresetTag } from \"../../../valueDifferFromPresetTag\";\nconst FormServiceFieldGeneralPurpose = () => {\n  const {\n    __\n  } = useI18n();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Purpose\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"purpose\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Input.TextArea, {\n    autoSize: {\n      minRows: 3\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"purpose\",\n    widthOfRef: ref,\n    renderDiff: value => /*#__PURE__*/React.createElement(_Input.TextArea, {\n      autoSize: {\n        minRows: 3\n      },\n      value: value,\n      readOnly: true\n    })\n  }), __(\"The ePrivacy Directive and the GDPR require that a non-professional user understands the purpose of this service, how personal data is collected and how cookies are used for this purpose.\")));\n};\nexport { FormServiceFieldGeneralPurpose };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { Notices } from \"../../../../common\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldGeneralProviderPrivacyPolicyUrl = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    notices: {\n      providerPrivacyPolicyUrl: providerPrivacyPolicyUrlNotices\n    }\n  } = useFormService();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Privacy policy of the provider\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"providerPrivacyPolicyUrl\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      type: \"url\",\n      message: __(\"Please provide a valid URL!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"providerPrivacyPolicyUrl\",\n    widthOfRef: ref,\n    renderDiff: value => /*#__PURE__*/React.createElement(_Input, {\n      value: value,\n      readOnly: true\n    })\n  }), __(\"Provide a direct link to the privacy policy of the provider that runs this service (in the language of your website).\")), /*#__PURE__*/React.createElement(Notices, {\n    notices: providerPrivacyPolicyUrlNotices\n  }));\n};\nexport { FormServiceFieldGeneralProviderPrivacyPolicyUrl };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useRef } from \"react\";\nimport { useI18n } from \"../../../../../contexts\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldGeneralProviderLegalNoticeUrl = () => {\n  const {\n    __\n  } = useI18n();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Legal notice of the provider\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"providerLegalNoticeUrl\",\n    noStyle: true,\n    rules: [{\n      type: \"url\",\n      message: __(\"Please provide a valid URL!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"providerLegalNoticeUrl\",\n    widthOfRef: ref,\n    ignoreEmptyDefaultValue: true,\n    renderDiff: value => /*#__PURE__*/React.createElement(_Input, {\n      value: value,\n      readOnly: true\n    })\n  }), __(\"Provide a direct link to the legal notice or contact of the provider who operates this service (in the language of your website).\")));\n};\nexport { FormServiceFieldGeneralProviderLegalNoticeUrl };","import _Form from \"antd/es/form\";\nimport _Radio from \"antd/es/radio\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { LearnMoreTag, Notices } from \"../../../../common\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst Field = props => {\n  const {\n    __\n  } = useI18n();\n  const {\n    allowLegalBasisLegalRequirement\n  } = useFormService();\n  return /*#__PURE__*/React.createElement(_Radio.Group, props, /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"consent\"\n  }, __(\"Consent (Opt-in)\")), /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"legitimate-interest\"\n  }, __(\"Legitimate interest (Opt-out)\")), allowLegalBasisLegalRequirement && /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"legal-requirement\"\n  }, __(\"Compliance with a legal obligation\")));\n};\nconst FormServiceFieldGeneralLegalBasis = () => {\n  const {\n    __,\n    _i\n  } = useI18n();\n  const {\n    allowLegalBasisLegalRequirement,\n    essentialGroupId\n  } = useFormService();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.group !== nextValues.group\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    const isEssentialGroup = getFieldValue(\"group\") === essentialGroupId;\n    return /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"Legal basis\"),\n      required: true\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"legalBasis\",\n      noStyle: true,\n      rules: [{\n        required: true\n      }]\n    }, /*#__PURE__*/React.createElement(Field, {\n      disabled: isEssentialGroup\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"description\",\n      ref: ref\n    }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n      form: \"service\",\n      valueName: \"legalBasis\",\n      widthOfRef: ref,\n      style: {\n        marginBottom: 3\n      },\n      renderDiff: value => /*#__PURE__*/React.createElement(Field, {\n        disabled: true,\n        value: value\n      })\n    }), /*#__PURE__*/React.createElement(LearnMoreTag, {\n      url: __(\"https://devowl.io/2021/opt-in-opt-out-double-opt-in-definition/\")\n    }), /*#__PURE__*/React.createElement(\"br\", null), _i(__('Services can be used on various legal bases according to {{aGdpr}}Art. 6 GDPR{{/aGdpr}}. \"Consent\" means that the user must explicitly agree to the service (opt-in). \"Legitimate interest\" means that your interest as a website operator prevails to use the service and the user must explicitly disagree (opt-out). Unless it is an essential service. Then an objection is not possible. {{strong}}A legitimate interest exists only in rare cases and only for data processing. If you are not sure, it is better to obtain consent to be on the safe side.{{/strong}}'), {\n      strong: /*#__PURE__*/React.createElement(\"strong\", null),\n      aGdpr: /*#__PURE__*/React.createElement(\"a\", {\n        href: __(\"https://gdpr-info.eu/art-6-gdpr/\"),\n        target: \"_blank\",\n        rel: \"noreferrer\"\n      })\n    })), isEssentialGroup && !allowLegalBasisLegalRequirement && /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: __('Your service is currently grouped as \"Essential\". This group implies the legitimate interest, with the only difference that this service cannot be opted out.'),\n        severity: \"info\"\n      }]\n    }));\n  });\n};\nexport { FormServiceFieldGeneralLegalBasis };","import _Form from \"antd/es/form\";\nimport _Switch from \"antd/es/switch\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { Notices } from \"../../../../common\";\nimport { FormServiceLayout } from \"../..\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldGeneralDataProcessingCountries = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    essentialGroupId,\n    isDataProcessingInUnsafeCountries\n  } = useFormService();\n  const ref = useRef();\n  const dataProcessingInCountriesLabel = __(\"This service processes data in the USA or transfers data to US companies or servers\");\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.group !== nextValues.group || prevValues.ePrivacyUSA !== nextValues.ePrivacyUSA\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    return /*#__PURE__*/React.createElement(_Form.Item, {\n      wrapperCol: {\n        offset: FormServiceLayout.labelCol.span,\n        span: FormServiceLayout.wrapperCol.span\n      },\n      style: {\n        display: isDataProcessingInUnsafeCountries ? undefined : \"none\"\n      }\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"ePrivacyUSA\",\n      valuePropName: \"checked\",\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", dataProcessingInCountriesLabel), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      }\n    }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n      form: \"service\",\n      valueName: \"ePrivacyUSA\",\n      widthOfRef: ref,\n      renderDiff: value => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Switch, {\n        disabled: true,\n        checked: value\n      }), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", dataProcessingInCountriesLabel)),\n      noBr: true\n    })), getFieldValue(\"ePrivacyUSA\") && getFieldValue(\"group\") === essentialGroupId && /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: __(\"A transfer of personal data (e.g. IP address of the website visitor) to third countries that are insecure in terms of data protection law, such as the USA, is only permitted with prior consent. Consequently, such a service can never be essential under data protection law, since essential services are used on a different (in the case, non-existent) legal basis. In practice, however, it will not always be possible to avoid such use.\"),\n        severity: \"warning\"\n      }]\n    }));\n  });\n};\nexport { FormServiceFieldGeneralDataProcessingCountries };","import _Form from \"antd/es/form\";\nimport _Switch from \"antd/es/switch\";\nimport { useRef } from \"react\";\nimport { useI18n } from \"../../../../../contexts\";\nimport { FormServiceLayout } from \"../..\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldGeneralIsEmbeddingOnlyExternalResources = () => {\n  const {\n    __\n  } = useI18n();\n  const ref = useRef();\n  const isEmbeddingOnlyExternalResourcesLabel = __(\"This service does not set any technical cookies on the client of the visitor, but e.g. integrates a script.\");\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    required: true,\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span,\n      span: FormServiceLayout.wrapperCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"isEmbeddingOnlyExternalResources\",\n    valuePropName: \"checked\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", isEmbeddingOnlyExternalResourcesLabel), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: \"isEmbeddingOnlyExternalResources\",\n    widthOfRef: ref,\n    renderDiff: value => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Switch, {\n      disabled: true,\n      checked: value\n    }), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", isEmbeddingOnlyExternalResourcesLabel)),\n    noBr: true\n  })));\n};\nexport { FormServiceFieldGeneralIsEmbeddingOnlyExternalResources };","import { FormServiceFieldGeneralName, FormServiceFieldGeneralPurpose, FormServiceFieldGeneralStatus, FormServiceFieldGeneralProvider, FormServiceFieldGeneralProviderPrivacyPolicyUrl, FormServiceFieldGeneralProviderLegalNoticeUrl, FormServiceFieldGeneralGroup, FormServiceFieldGeneralIsEmbeddingOnlyExternalResources, FormServiceLayout, FormServiceFieldGeneralDataProcessingCountries, FormServiceFieldGeneralLegalBasis } from \"../..\";\nimport { useI18n } from \"../../../../../contexts\";\nimport { FormHeadline } from \"../../..\";\nimport { LearnMoreTag } from \"../../../../common\";\nconst FormServiceFieldGeneralCompose = () => {\n  const {\n    __\n  } = useI18n();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormHeadline, {\n    offset: FormServiceLayout.labelCol.span\n  }, __(\"General service configuration\"), \" \", /*#__PURE__*/React.createElement(LearnMoreTag, {\n    url: __(\"https://devowl.io/knowledge-base/real-cookie-banner-create-individual-cookie/\")\n  })), /*#__PURE__*/React.createElement(FormServiceFieldGeneralName, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralStatus, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralGroup, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralProvider, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralPurpose, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralProviderPrivacyPolicyUrl, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralProviderLegalNoticeUrl, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralLegalBasis, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralDataProcessingCountries, null), /*#__PURE__*/React.createElement(FormServiceFieldGeneralIsEmbeddingOnlyExternalResources, null));\n};\nexport { FormServiceFieldGeneralCompose };","import _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Select from \"antd/es/select\";\nimport { FormServiceFieldTechnicalDefinitionsLayout } from \"../table\";\nimport { useI18n } from \"../../../../../../../contexts\";\nimport { getCookieTypeLocalizationMap } from \"@devowl-wp/react-cookie-banner/src\";\nconst FormServiceFieldTechnicalDefinitionsCookieType = _ref => {\n  let {\n    field,\n    readOnly = false\n  } = _ref;\n  const {\n    __\n  } = useI18n();\n  const cookieTypeLocalized = getCookieTypeLocalizationMap();\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, FormServiceFieldTechnicalDefinitionsLayout, {\n    fieldKey: [field.fieldKey, \"type\"],\n    name: [field.name, \"type\"],\n    rules: [{\n      required: true,\n      message: __(\"Please provide a cookie type!\")\n    }]\n  }), /*#__PURE__*/React.createElement(_Select, {\n    disabled: readOnly\n  }, Object.keys(cookieTypeLocalized).map(key => /*#__PURE__*/React.createElement(_Select.Option, {\n    key: key,\n    value: key,\n    style: {\n      display: key === \"flash\" ? \"none\" : undefined\n    }\n  }, cookieTypeLocalized[key].name))));\n};\nexport { FormServiceFieldTechnicalDefinitionsCookieType };","import _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Input from \"antd/es/input\";\nimport { FormServiceFieldTechnicalDefinitionsLayout } from \"../table\";\nimport { useI18n } from \"../../../../../../../contexts\";\nimport { Notices } from \"../../../../../../common\";\nconst FormServiceFieldTechnicalDefinitionsCookieName = _ref => {\n  let {\n    field,\n    readOnly\n  } = _ref;\n  const {\n    __,\n    _i\n  } = useI18n();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, FormServiceFieldTechnicalDefinitionsLayout, {\n    fieldKey: [field.fieldKey, \"name\"],\n    name: [field.name, \"name\"],\n    rules: [{\n      required: true,\n      message: __(\"Please provide a technical cookie name!\")\n    }]\n  }), /*#__PURE__*/React.createElement(_Input, {\n    disabled: readOnly\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.technicalDefinitions[field.name]?.name !== nextValues.technicalDefinitions[field.name]?.name\n  }, _ref2 => {\n    let {\n      getFieldValue\n    } = _ref2;\n    const cookieName = getFieldValue([\"technicalDefinitions\", field.name, \"name\"]);\n    const notSupportedCookieNamePlaceholders = [/\\[/gm, [/([{]+)/gm, match => match.length === 1], /\\(/gm];\n    return notSupportedCookieNamePlaceholders.filter(r => Array.isArray(r) ? r[0].test(cookieName) && cookieName.match(r[0]).filter(r[1]).length > 0 : r.test(cookieName)).length > 0 && /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: _i(__(\"Are you sure this is the name of the cookie? It seems like you are using a placeholder that is not supported. Please use an asterisk ({{code}}*{{/code}}) as a placeholder if the cookie name is dynamically composed.\"), {\n          code: /*#__PURE__*/React.createElement(\"code\", null)\n        }),\n        severity: \"warning\"\n      }]\n    });\n  }));\n};\nexport { FormServiceFieldTechnicalDefinitionsCookieName };","import _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Input from \"antd/es/input\";\nimport { FormServiceFieldTechnicalDefinitionsLayout } from \"../table\";\nimport { useI18n } from \"../../../../../../../contexts\";\nimport { isUrl } from \"@devowl-wp/headless-content-unblocker\";\nimport { isHost } from \"../../../../../../../utils\";\nimport { Notices } from \"../../../../../../common\";\nconst FormServiceFieldTechnicalDefinitionsCookieHost = _ref => {\n  let {\n    field,\n    readOnly\n  } = _ref;\n  const {\n    __,\n    _i\n  } = useI18n();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.technicalDefinitions[field.name]?.type !== nextValues.technicalDefinitions[field.name]?.type || prevValues.technicalDefinitions[field.name]?.host !== nextValues.technicalDefinitions[field.name]?.host\n  }, _ref2 => {\n    let {\n      getFieldValue\n    } = _ref2;\n    const type = getFieldValue([\"technicalDefinitions\", field.name, \"type\"]);\n    const host = getFieldValue([\"technicalDefinitions\", field.name, \"host\"]);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, FormServiceFieldTechnicalDefinitionsLayout, {\n      fieldKey: [field.fieldKey, \"host\"],\n      name: [field.name, \"host\"],\n      rules: [{\n        validator: (_, value) => ([\"local\", \"session\", \"indexedDb\"].indexOf(type) > -1 ? isUrl(value) : isHost(value)) || value === \"\" && type !== \"http\" ? Promise.resolve() : Promise.reject(__(\"Please provide a valid hostname!\"))\n      }]\n    }), /*#__PURE__*/React.createElement(_Input, {\n      disabled: readOnly\n    })), host.startsWith(\"*.\") && host.length > 2 && /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: _i(__(\"You are using an invalid wildcard (placeholder) syntax {{code}}*.{{/code}} to match subdomains. Use {{code}}.%s{{/code}} to include subdomains.\", host.substr(2)), {\n          code: /*#__PURE__*/React.createElement(\"code\", null)\n        }),\n        severity: \"warning\"\n      }]\n    }));\n  }));\n};\nexport { FormServiceFieldTechnicalDefinitionsCookieHost };","/**\n * Is a passed host string valid?\n *\n * @param url\n * @see https://stackoverflow.com/a/106223/5506547\n */\nfunction isHost(url) {\n  return /^\\.?(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/gm.test(url);\n}\nexport { isHost };","import _Input from \"antd/es/input\";\nimport _Select from \"antd/es/select\";\nimport _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport { useMemo } from \"react\";\nimport { FormServiceFieldTechnicalDefinitionsLayout } from \"../table\";\nimport { useI18n } from \"../../../../../../../contexts\";\nconst FormServiceFieldTechnicalDefinitionsCookieDuration = _ref => {\n  let {\n    field,\n    readOnly\n  } = _ref;\n  const {\n    __\n  } = useI18n();\n  const durations = useMemo(() => ({\n    s: __(\"second(s)\"),\n    m: __(\"minute(s)\"),\n    h: __(\"hour(s)\"),\n    d: __(\"day(s)\"),\n    mo: __(\"month(s)\"),\n    y: __(\"year(s)\")\n  }), [__]);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.technicalDefinitions[field.name]?.type !== nextValues.technicalDefinitions[field.name]?.type || prevValues.technicalDefinitions[field.name]?.isSessionDuration !== nextValues.technicalDefinitions[field.name]?.isSessionDuration\n  }, _ref2 => {\n    let {\n      getFieldValue\n    } = _ref2;\n    const type = getFieldValue([\"technicalDefinitions\", field.name, \"type\"]);\n    const isSessionDuration = getFieldValue([\"technicalDefinitions\", field.name, \"isSessionDuration\"]);\n    if ([\"local\", \"session\", \"indexedDb\", \"flash\"].indexOf(type) > -1) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, {\n      key: \"isSessionDuration\",\n      fieldKey: [field.fieldKey, \"isSessionDuration\"],\n      name: [field.name, \"isSessionDuration\"],\n      noStyle: true,\n      valuePropName: \"checked\"\n    }), /*#__PURE__*/React.createElement(_Checkbox, {\n      style: {\n        float: \"left\",\n        marginTop: 5\n      },\n      disabled: readOnly\n    }, /*#__PURE__*/React.createElement(_Tooltip, {\n      title: __(\"This cookie is active as long as the session is active\")\n    }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Session\"))))), /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, FormServiceFieldTechnicalDefinitionsLayout, {\n      key: \"duration\",\n      fieldKey: [field.fieldKey, \"duration\"],\n      name: [field.name, \"duration\"],\n      rules: [{\n        required: !isSessionDuration,\n        message: __(\"Please provide a valid duration!\")\n      }]\n    }), /*#__PURE__*/React.createElement(_Input, {\n      disabled: readOnly,\n      min: \"0\",\n      addonAfter: /*#__PURE__*/React.createElement(_Form.Item, {\n        fieldKey: [field.fieldKey, \"durationUnit\"],\n        name: [field.name, \"durationUnit\"],\n        noStyle: true,\n        rules: [{\n          required: true,\n          message: __(\"Please provide an unit!\")\n        }]\n      }, /*#__PURE__*/React.createElement(_Select, {\n        disabled: readOnly\n      }, Object.keys(durations).map(key => /*#__PURE__*/React.createElement(_Select.Option, {\n        key: key,\n        value: key\n      }, durations[key])))),\n      type: \"number\",\n      style: {\n        maxWidth: 200,\n        display: isSessionDuration ? \"none\" : undefined\n      }\n    })));\n  });\n};\nexport { FormServiceFieldTechnicalDefinitionsCookieDuration };","import _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Input from \"antd/es/input\";\nimport { FormServiceFieldTechnicalDefinitionsLayout } from \"../table\";\nconst FormServiceFieldTechnicalDefinitionsCookiePurpose = _ref => {\n  let {\n    field,\n    readOnly\n  } = _ref;\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, FormServiceFieldTechnicalDefinitionsLayout, {\n    fieldKey: [field.fieldKey, \"purpose\"],\n    name: [field.name, \"purpose\"]\n  }), /*#__PURE__*/React.createElement(_Input.TextArea, {\n    disabled: readOnly,\n    rows: 1,\n    autoSize: {\n      maxRows: 3\n    }\n  }));\n};\nexport { FormServiceFieldTechnicalDefinitionsCookiePurpose };","import _Tooltip from \"antd/es/tooltip\";\nimport _Form from \"antd/es/form\";\nimport { DeleteOutlined, PlusOutlined, QuestionCircleFilled } from \"@ant-design/icons\";\nimport { FormServiceFieldTechnicalDefinitionsCookieDuration, FormServiceFieldTechnicalDefinitionsCookieHost, FormServiceFieldTechnicalDefinitionsCookieName, FormServiceFieldTechnicalDefinitionsCookiePurpose, FormServiceFieldTechnicalDefinitionsCookieType, TECHNICAL_DEFINITION_DEFAULTS } from \"..\";\nimport { FormServiceLayout } from \"../../..\";\nimport { useI18n } from \"../../../../../../contexts\";\nimport { useFormServiceTechnicalDefinitionsTable } from \"../../../../../../hooks\";\nimport { FormHeadline, FormValueDifferFromPresetTag } from \"../../../..\";\nconst FormServiceFieldTechnicalDefinitionsLayout = {\n  labelCol: {\n    span: 0\n  },\n  wrapperCol: {\n    span: 24\n  },\n  style: {\n    margin: 0\n  }\n};\nconst DiffTable = _ref => {\n  let {\n    technicalDefinitions\n  } = _ref;\n  const [form] = _Form.useForm();\n  return /*#__PURE__*/React.createElement(_Form, {\n    form: form,\n    initialValues: {\n      isEmbeddingOnlyExternalResources: false,\n      technicalDefinitions\n    }\n  }, /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsTable, {\n    isDiff: true\n  }));\n};\nconst diffCalculate = (oldValue, newValue) => {\n  // Compose entries by all available keys for \"modified\" calculation\n  const numberedIndexedForPosition = [];\n  const oldEntriesModified = oldValue.reduce((a, _ref2) => {\n    let {\n      name,\n      host,\n      duration,\n      durationUnit,\n      isSessionDuration,\n      type,\n      purpose\n    } = _ref2;\n    const idx = `${type}/${name}/${host}`;\n    a[idx] = `${duration}/${durationUnit}/${isSessionDuration}/${type}/${purpose}`;\n    numberedIndexedForPosition.push(idx);\n    return a;\n  }, {});\n  const modified = newValue.map(definition => {\n    const {\n      name,\n      host,\n      duration,\n      durationUnit,\n      isSessionDuration,\n      type,\n      purpose\n    } = definition;\n    const idxName = `${type}/${name}/${host}`;\n    const oldModified = oldEntriesModified[idxName];\n    return typeof oldModified === \"undefined\" || oldModified === `${duration}/${durationUnit}/${isSessionDuration}/${type}/${purpose}` ? undefined : {\n      ...definition,\n      position: numberedIndexedForPosition.indexOf(idxName)\n    };\n  }).filter(Boolean);\n\n  // Compose entries by name and host for \"addition\" calculation\n  const oldEntriesComposedAdded = oldValue.map(_ref3 => {\n    let {\n      type,\n      name,\n      host\n    } = _ref3;\n    return `${type}/${name}/${host}`;\n  });\n  const added = newValue.map((definition, position) => {\n    const {\n      type,\n      name,\n      host\n    } = definition;\n    return !oldEntriesComposedAdded.includes(`${type}/${name}/${host}`) ? {\n      ...definition,\n      position\n    } : undefined;\n  }).filter(Boolean);\n  return added.length || modified.length ? {\n    added,\n    modified\n  } : undefined;\n};\nconst FormServiceFieldTechnicalDefinitionsTable = _ref4 => {\n  let {\n    isDiff = false\n  } = _ref4;\n  const {\n    __,\n    _i\n  } = useI18n();\n  const {\n    SortableBodyConnected,\n    SortableItem,\n    DragHandle\n  } = useFormServiceTechnicalDefinitionsTable();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.isEmbeddingOnlyExternalResources !== nextValues.isEmbeddingOnlyExternalResources || prevValues.technicalDefinitions.length !== nextValues.technicalDefinitions.length\n  }, _ref5 => {\n    let {\n      getFieldValue\n    } = _ref5;\n    return getFieldValue(\"isEmbeddingOnlyExternalResources\") ? null : /*#__PURE__*/React.createElement(_Form.List, {\n      name: \"technicalDefinitions\"\n    }, (fields, _ref6) => {\n      let {\n        add,\n        remove,\n        move\n      } = _ref6;\n      return /*#__PURE__*/React.createElement(\"div\", null, !isDiff && /*#__PURE__*/React.createElement(FormHeadline, {\n        offset: FormServiceLayout.labelCol.span,\n        description: _i(__(\"For each service you use, you should specify all cookies that are used by it. You can find this out in the developer console of your browser. Please note that there are several types of cookies and according to {{aEprivacy}}ePrivacy Directive (Directive 2009/136/EC) Recital 66{{/aEprivacy}} you have to inform your visitors not only about (HTTP) cookies, but also about cookie-like information.\"), {\n          aEprivacy: /*#__PURE__*/React.createElement(\"a\", {\n            href: __(\"https://devowl.io/go/eu-directive-2009-136-ec\"),\n            target: \"_blank\",\n            rel: \"noreferrer\"\n          })\n        })\n      }, __(\"Technical cookie information\")), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"wp-list-table widefat fixed striped table-view-list\",\n        style: {\n          marginBottom: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n        width: 45,\n        align: \"right\"\n      }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"td\", {\n        width: 150\n      }, __(\"Cookie type\")), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: _i(__(\"Every cookie has a technical name, which you must provide. If a cookie name is dynamically composed, please use an asterisk ({{code}}*{{/code}}) as a wildcard (placeholder).\"), {\n          code: /*#__PURE__*/React.createElement(\"code\", null)\n        })\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Technical cookie name\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: __(\"Every cookie is associated to a domain or hostname.\")\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Technical cookie host\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", {\n        width: 290\n      }, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: __(\"A HTTP cookie is only valid for a certain time, which is defined when the cookie is set.\")\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Cookie duration\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: __(\"Each cookie serves a purpose (e.g. user identification for tracking), which should be explained.\")\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Purpose\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", {\n        width: 70,\n        align: \"right\"\n      }, \"\\xA0\"))), /*#__PURE__*/React.createElement(SortableBodyConnected, {\n        onSortEnd: move\n      }, fields.map((field, index) => /*#__PURE__*/React.createElement(SortableItem, {\n        key: field.key,\n        index: index\n      }, /*#__PURE__*/React.createElement(\"td\", null, fields.length > 1 && !isDiff ? /*#__PURE__*/React.createElement(DragHandle, null) : undefined), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsCookieType, {\n        field: field,\n        readOnly: isDiff\n      })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsCookieName, {\n        field: field,\n        readOnly: isDiff\n      })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsCookieHost, {\n        field: field,\n        readOnly: isDiff\n      })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsCookieDuration, {\n        field: field,\n        readOnly: isDiff\n      })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsCookiePurpose, {\n        field: field,\n        readOnly: isDiff\n      })), /*#__PURE__*/React.createElement(\"td\", null, fields.length > 1 && !isDiff ? /*#__PURE__*/React.createElement(\"a\", {\n        className: \"button button-small\",\n        onClick: () => {\n          remove(field.name);\n        }\n      }, /*#__PURE__*/React.createElement(DeleteOutlined, null)) : null)))), !isDiff && /*#__PURE__*/React.createElement(\"tfoot\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: 7,\n        align: \"right\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"button button-primary alignright\",\n        onClick: () => {\n          add(TECHNICAL_DEFINITION_DEFAULTS);\n        }\n      }, /*#__PURE__*/React.createElement(PlusOutlined, null), \" \", __(\"Add another cookie definition\")), /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n        useModal: true,\n        form: \"service\",\n        valueName: \"technicalDefinitions\",\n        noBr: true,\n        style: {\n          marginTop: 4\n        },\n        difference: diffCalculate,\n        apply: (_ref7, setFieldsValue, oldValue) => {\n          let {\n            added,\n            modified\n          } = _ref7;\n          const technicalDefinitions = oldValue;\n          modified.forEach(_ref8 => {\n            let {\n              position,\n              ...rest\n            } = _ref8;\n            technicalDefinitions[position] = rest;\n          });\n          added.forEach(_ref9 => {\n            let {\n              position,\n              ...rest\n            } = _ref9;\n            technicalDefinitions.splice(position, 0, rest);\n          });\n          setFieldsValue({\n            technicalDefinitions\n          });\n        },\n        newValueText: false,\n        renderDiff: (value, _ref10) => {\n          let {\n            added,\n            modified\n          } = _ref10;\n          return /*#__PURE__*/React.createElement(React.Fragment, null, added.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, __(\"Missing entries:\"))), /*#__PURE__*/React.createElement(DiffTable, {\n            technicalDefinitions: added\n          })), modified.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, __(\"Modified entries:\"))), /*#__PURE__*/React.createElement(DiffTable, {\n            technicalDefinitions: modified\n          })));\n        }\n      }))))));\n    });\n  });\n};\nexport { FormServiceFieldTechnicalDefinitionsLayout, FormServiceFieldTechnicalDefinitionsTable };","import _extends from \"@babel/runtime/helpers/extends\";\nimport { MenuOutlined } from \"@ant-design/icons\";\nimport { useRef, useMemo, useCallback } from \"react\";\nimport { SortableHandle, SortableElement, SortableContainer } from \"react-sortable-hoc\";\nfunction useFormServiceTechnicalDefinitionsTable() {\n  const tbodyRef = useRef();\n  const {\n    DragHandle,\n    SortableItem,\n    SortableBody\n  } = useMemo(() => ({\n    DragHandle: SortableHandle(() => /*#__PURE__*/React.createElement(MenuOutlined, {\n      style: {\n        cursor: \"grab\",\n        color: \"#999\",\n        marginTop: 5\n      },\n      className: \"button button-small button-link\"\n    })),\n    SortableItem: SortableElement(props => /*#__PURE__*/React.createElement(\"tr\", props)),\n    SortableBody: SortableContainer(props => /*#__PURE__*/React.createElement(\"tbody\", _extends({\n      ref: tbodyRef\n    }, props)))\n  }), []);\n  const handleSortStart = useCallback(_ref => {\n    let {\n      node,\n      helper\n    } = _ref;\n    node.childNodes.forEach((td, index) => {\n      helper.childNodes[index].style.width = `${td.offsetWidth}px`;\n    });\n  }, []);\n  const SortableBodyConnected = _ref2 => {\n    let {\n      onSortEnd,\n      children\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(SortableBody, {\n      useDragHandle: true,\n      onSortEnd: _ref3 => {\n        let {\n          oldIndex,\n          newIndex\n        } = _ref3;\n        return onSortEnd(oldIndex, newIndex);\n      },\n      onSortStart: handleSortStart,\n      helperContainer: () => tbodyRef.current\n    }, children);\n  };\n  return {\n    tbodyRef,\n    DragHandle,\n    SortableItem,\n    SortableBody,\n    SortableBodyConnected,\n    handleSortStart\n  };\n}\nexport { useFormServiceTechnicalDefinitionsTable };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { LearnMoreTag, Notices } from \"../../../../common\";\nimport { getManagerDependingVariables } from \"@devowl-wp/cookie-consent-web-client\";\nconst FormServiceFieldHandlingTagManagerEventName = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    setCookiesViaManager,\n    serviceIsManager,\n    hasManager\n  } = useFormService();\n  const {\n    managerLabel\n  } = getManagerDependingVariables(setCookiesViaManager);\n  return setCookiesViaManager !== \"none\" && !serviceIsManager && /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Event names for %s\", managerLabel),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"tagManagerOptInEventName\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Input, {\n    addonBefore: __(\"Opt-in\"),\n    style: {\n      maxWidth: 400,\n      marginRight: 10,\n      marginBottom: 5\n    }\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"tagManagerOptOutEventName\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Input, {\n    addonBefore: __(\"Opt-out\"),\n    style: {\n      maxWidth: 400,\n      marginRight: 10,\n      marginBottom: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, /*#__PURE__*/React.createElement(LearnMoreTag, {\n    url: __(\"https://devowl.io/knowledge-base/real-cookie-banner-with-google-tag-manager-or-matomo-tag-manager/\")\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, curValues) => prevValues.tagManagerOptInEventName !== curValues.tagManagerOptInEventName || prevValues.tagManagerOptOutEventName !== curValues.tagManagerOptOutEventName\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    const inEventName = getFieldValue(\"tagManagerOptInEventName\");\n    const outEventName = getFieldValue(\"tagManagerOptOutEventName\");\n    return (inEventName.length > 0 || outEventName.length > 0) && !hasManager && /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: __(\"You have not yet defined a %s service. To use event names, you must create a %s service.\", managerLabel, managerLabel),\n        severity: \"warning\"\n      }]\n    });\n  }));\n};\nexport { FormServiceFieldHandlingTagManagerEventName };","const DYNAMICS_VARIABLE_REGEXP = /{{([A-Za-z0-9_]+)}}/gm;\n\n/**\n * Takes any string and replaces `{{myVariable}}` with the value of the passed `dynamics` map.\n */\nfunction applyDynamicsToHtml(src, dynamics) {\n  return src.replace(DYNAMICS_VARIABLE_REGEXP, (fullMatch, variableName) => Object.prototype.hasOwnProperty.call(dynamics, variableName) ? dynamics[variableName] : fullMatch);\n}\nexport { applyDynamicsToHtml, DYNAMICS_VARIABLE_REGEXP };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { DYNAMICS_VARIABLE_REGEXP } from \"@devowl-wp/headless-content-unblocker\";\nimport { Notices } from \"../../../../common\";\nconst DYNAMICS_SEARCH_IN = [\"codeOptIn\", \"codeOptOut\", \"codeOnPageLoad\"];\nconst FormServiceFieldHandlingDynamicField = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    dynamicFields\n  } = useFormService();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => DYNAMICS_SEARCH_IN.map(k => prevValues[k] !== nextValues[k]).filter(Boolean).length > 0\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    const searchInResolved = DYNAMICS_SEARCH_IN.map(k => getFieldValue(k)).join(\"\");\n    const matches = Array.from(searchInResolved.matchAll(DYNAMICS_VARIABLE_REGEXP)).map(_ref2 => {\n      let [, m] = _ref2;\n      return m;\n    });\n    const added = [];\n    return matches ? matches.map(name => {\n      const formName = [\"codeDynamics\", name];\n      const {\n        label,\n        invalidMessage = __(\"Please fill in a value!\"),\n        example,\n        expression,\n        hint\n      } = dynamicFields?.find(dynamicField => dynamicField.name === name) || {};\n      if (added.indexOf(name) > -1) {\n        return null;\n      }\n      added.push(name);\n      return /*#__PURE__*/React.createElement(_Form.Item, {\n        key: name,\n        label: label || /*#__PURE__*/React.createElement(\"code\", null, name),\n        required: true\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        noStyle: true,\n        name: formName,\n        rules: [{\n          required: true,\n          pattern: expression ? new RegExp(expression) : undefined,\n          message: invalidMessage\n        }]\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: example\n      })), /*#__PURE__*/React.createElement(Notices, {\n        notices: [{\n          message: hint,\n          severity: \"info\"\n        }]\n      }));\n    }) : null;\n  });\n};\nexport { FormServiceFieldHandlingDynamicField };","import _Form from \"antd/es/form\";\nimport { useMemo } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { Notices } from \"../../../../common\";\nconst FormServiceFieldHandlingSkipIfActiveNotice = _ref => {\n  let {\n    name\n  } = _ref;\n  const {\n    __,\n    _i\n  } = useI18n();\n  const {\n    skipIfActiveComponents\n  } = useFormService();\n  const componentKeys = useMemo(() => Object.keys(skipIfActiveComponents), [skipIfActiveComponents]);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues[name] !== nextValues[name]\n  }, _ref2 => {\n    let {\n      getFieldValue\n    } = _ref2;\n    const value = getFieldValue(name);\n\n    // Find `skip-if-active` and their active components\n    const matches = [...value.matchAll(/\\s+(skip-if-active=\")([^\"]+)(\")/gm)].map(_ref3 => {\n      let [,, components] = _ref3;\n      return components.split(\",\").filter(plugin => componentKeys.indexOf(plugin) > -1);\n    }).flat();\n    const uniq = matches.filter((plugin, i) => matches.indexOf(plugin) === i);\n    if (uniq.length === 0) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      }\n    }, /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: _i(__(\"The code above contains HTML tags that are skipped when one of the following plugins is active: {{strong/}}. {{i}}What does this mean for me?{{/i}} In most cases, another plugin will take over the execution of the technical code, and you have to create a corresponding content blocker.\"), {\n          strong: /*#__PURE__*/React.createElement(\"strong\", null, uniq.map(plugin => skipIfActiveComponents[plugin]).join(\", \")),\n          i: /*#__PURE__*/React.createElement(\"i\", null)\n        }),\n        severity: \"info\"\n      }]\n    }));\n  });\n};\nexport { FormServiceFieldHandlingSkipIfActiveNotice };","import _Form from \"antd/es/form\";\nimport _Switch from \"antd/es/switch\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n, useUpsell } from \"../../../../../contexts\";\nimport { FormServiceLayout } from \"../..\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nimport { getManagerDependingVariables } from \"@devowl-wp/cookie-consent-web-client\";\nconst FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven = _ref => {\n  let {\n    name\n  } = _ref;\n  const {\n    __,\n    _i\n  } = useI18n();\n  const {\n    isPro\n  } = useUpsell();\n  const {\n    setCookiesViaManager,\n    serviceIsManager\n  } = useFormService();\n  const ref = useRef();\n  const {\n    managerLabel\n  } = getManagerDependingVariables(setCookiesViaManager);\n  const executeCodeWhenNoTagManagerConsentIsGivenLabel = _i(__(\"Only run this script if the user has {{u}}not{{/u}} allowed to use %s\", managerLabel), {\n    u: /*#__PURE__*/React.createElement(\"u\", null)\n  });\n  return setCookiesViaManager !== \"none\" && !serviceIsManager && isPro ? /*#__PURE__*/React.createElement(_Form.Item, {\n    required: true,\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span,\n      span: FormServiceLayout.wrapperCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: name,\n    valuePropName: \"checked\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", executeCodeWhenNoTagManagerConsentIsGivenLabel), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    form: \"service\",\n    valueName: name,\n    widthOfRef: ref,\n    renderDiff: value => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Switch, {\n      disabled: true,\n      checked: value\n    }), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", executeCodeWhenNoTagManagerConsentIsGivenLabel)),\n    noBr: true\n  }))) : null;\n};\nexport { FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven };","import _Form from \"antd/es/form\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { FormServiceFieldHandlingSkipIfActiveNotice, FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven } from \".\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldHandlingCodeOptIn = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    renderCodeMirror\n  } = useFormService();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Code executed on opt-in\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"codeOptIn\",\n    noStyle: true\n  }, renderCodeMirror()), /*#__PURE__*/React.createElement(FormServiceFieldHandlingSkipIfActiveNotice, {\n    name: \"codeOptIn\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    style: {\n      marginTop: 10\n    },\n    form: \"service\",\n    valueName: \"codeOptIn\",\n    widthOfRef: ref,\n    noBr: true\n  }))), /*#__PURE__*/React.createElement(FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven, {\n    name: \"executeCodeOptInWhenNoTagManagerConsentIsGiven\"\n  }));\n};\nexport { FormServiceFieldHandlingCodeOptIn };","import _Form from \"antd/es/form\";\nimport _Switch from \"antd/es/switch\";\nimport { useRef } from \"react\";\nimport { useI18n } from \"../../../../../contexts\";\nimport { FormServiceLayout } from \"../..\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldHandlingDeleteTechnicalDefinitionsAfterOptOut = () => {\n  const {\n    __\n  } = useI18n();\n  const ref = useRef();\n  const deleteTechnicalDefinitionsAfterOptOutLabel = __(\"Delete all first-party cookies after opt-out. First-party cookies are only cookies that are set by or for this domain.\");\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.isEmbeddingOnlyExternalResources !== nextValues.isEmbeddingOnlyExternalResources\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    return getFieldValue(\"isEmbeddingOnlyExternalResources\") ? null : /*#__PURE__*/React.createElement(_Form.Item, {\n      required: true,\n      wrapperCol: {\n        offset: FormServiceLayout.labelCol.span,\n        span: FormServiceLayout.wrapperCol.span\n      }\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"deleteTechnicalDefinitionsAfterOptOut\",\n      valuePropName: \"checked\",\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", deleteTechnicalDefinitionsAfterOptOutLabel), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      ref: ref\n    }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n      form: \"service\",\n      valueName: \"deleteTechnicalDefinitionsAfterOptOut\",\n      widthOfRef: ref,\n      renderDiff: value => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Switch, {\n        disabled: true,\n        checked: value\n      }), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", deleteTechnicalDefinitionsAfterOptOutLabel)),\n      noBr: true\n    })));\n  });\n};\nexport { FormServiceFieldHandlingDeleteTechnicalDefinitionsAfterOptOut };","import _Form from \"antd/es/form\";\nimport { useRef } from \"react\";\nimport { useCallback } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { FormServiceFieldHandlingSkipIfActiveNotice, FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven, FormServiceFieldHandlingDeleteTechnicalDefinitionsAfterOptOut } from \".\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldHandlingCodeOptOut = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    renderCodeMirror,\n    essentialGroupId\n  } = useFormService();\n  const ref = useRef();\n\n  // CodeMirror does not support \"display:none;\", we need to hide it in a hacky way\n  const createHiddenFormItemsWithCodeMirror = useCallback(visible => ({\n    opacity: visible ? undefined : 0,\n    height: visible ? undefined : 0,\n    margin: visible ? undefined : 0\n  }), []);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.group !== nextValues.group\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    const visible = getFieldValue(\"group\") !== essentialGroupId;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"Code executed on opt-out\"),\n      style: createHiddenFormItemsWithCodeMirror(visible)\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"codeOptOut\",\n      noStyle: true\n    }, renderCodeMirror()), /*#__PURE__*/React.createElement(FormServiceFieldHandlingSkipIfActiveNotice, {\n      name: \"codeOptOut\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: ref\n    }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n      style: {\n        marginTop: 10\n      },\n      form: \"service\",\n      valueName: \"codeOptOut\",\n      widthOfRef: ref,\n      noBr: true\n    }))), visible && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven, {\n      name: \"executeCodeOptOutWhenNoTagManagerConsentIsGiven\"\n    }), /*#__PURE__*/React.createElement(FormServiceFieldHandlingDeleteTechnicalDefinitionsAfterOptOut, null)));\n  });\n};\nexport { FormServiceFieldHandlingCodeOptOut };","import _Form from \"antd/es/form\";\nimport { useRef } from \"react\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { FormServiceFieldHandlingSkipIfActiveNotice } from \".\";\nimport { FormValueDifferFromPresetTag } from \"../../..\";\nconst FormServiceFieldHandlingCodeOnPageLoad = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    renderCodeMirror\n  } = useFormService();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Code executed on page load\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"codeOnPageLoad\",\n    noStyle: true\n  }, renderCodeMirror()), /*#__PURE__*/React.createElement(FormServiceFieldHandlingSkipIfActiveNotice, {\n    name: \"codeOnPageLoad\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetTag, {\n    style: {\n      marginTop: 10\n    },\n    form: \"service\",\n    valueName: \"codeOnPageLoad\",\n    widthOfRef: ref,\n    noBr: true\n  })));\n};\nexport { FormServiceFieldHandlingCodeOnPageLoad };","import _Form from \"antd/es/form\";\nimport { FormServiceLayout, FormServiceFieldHandlingCodeOnPageLoad, FormServiceFieldHandlingCodeOptIn, FormServiceFieldHandlingCodeOptOut, FormServiceFieldHandlingDynamicField, FormServiceFieldHandlingTagManagerEventName } from \"../..\";\nimport { useFormService, useI18n } from \"../../../../../contexts\";\nimport { FormHeadline } from \"../../..\";\nimport { Notices } from \"../../../../common\";\nimport { getManagerDependingVariables } from \"@devowl-wp/cookie-consent-web-client\";\nconst FormServiceFieldHandlingCompose = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    serviceGotScanned,\n    setCookiesViaManager,\n    contentBlockerTemplates,\n    notices: {\n      technicalHandling: technicalHandlingNotices\n    },\n    defaultPresetValues\n  } = useFormService();\n  const presetDefaultName = defaultPresetValues?.name || \"\";\n  const {\n    managerLabel\n  } = getManagerDependingVariables(setCookiesViaManager);\n  const notices = [...technicalHandlingNotices, serviceGotScanned && {\n    message: contentBlockerTemplates.length > 0 ? __('You are currently embedding \"%1$s\" outside of Real Cookie Banner. You can have it blocked via a content blocker before consenting. Alternatively, you can use the following opt-in script to load %1$s directly into Real Cookie Banner.<br /><br />If you want to embed \"%1$s\" via Real Cookie Banner, you have to deactivate the content blocker at the end of the form and remove \"%1$s\" outside Real Cookie Banner.<br /><br />If you prefer to keep the current integration, you only have to delete the opt-in script in this form.', presetDefaultName) : __(\"If you have already used %s before creating this service, please deactivate the script/plugin with which the service was loaded so far. The opt-in script will now take care of the correct integration.\", presetDefaultName),\n    severity: \"warning\"\n  }].filter(Boolean).filter(_ref => {\n    let {\n      message\n    } = _ref;\n    return message;\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormHeadline, {\n    offset: FormServiceLayout.labelCol.span,\n    description: setCookiesViaManager === \"none\" ? __(\"Define HTML and JavaScript code that is executed when a visitor decides to accept or reject this service or when a page is loaded. It is important to define the executed code correctly, as this ensures that scripts are executed and cookies are set only after the user's consent.\") : __(\"Define the %1$s event that should be thrown in the data layer when a visitor decides to accept or reject this service. The event can be used as a trigger in %1$s. For users who do not allow to use %1$s a fallback can be defined. You can define HTML and JavaScript code that is executed when a visitor decides to accept or reject this service, or when a page is loaded. It is important to define the event names and executed code correctly, as this will ensure that scripts are executed and cookies are only set with the user's consent.\", managerLabel)\n  }, __(\"Technical handling\")), /*#__PURE__*/React.createElement(FormServiceFieldHandlingTagManagerEventName, null), /*#__PURE__*/React.createElement(FormServiceFieldHandlingDynamicField, null), notices.length > 0 && /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span,\n      span: FormServiceLayout.wrapperCol.span\n    },\n    style: {\n      marginBottom: 0\n    }\n  }, /*#__PURE__*/React.createElement(Notices, {\n    notices: notices\n  })), /*#__PURE__*/React.createElement(FormServiceFieldHandlingCodeOptIn, null), /*#__PURE__*/React.createElement(FormServiceFieldHandlingCodeOptOut, null), /*#__PURE__*/React.createElement(FormServiceFieldHandlingCodeOnPageLoad, null));\n};\nexport { FormServiceFieldHandlingCompose };","import _Select from \"antd/es/select\";\nimport _Form from \"antd/es/form\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport { FormServiceLayout } from \"../..\";\nimport { useFormService, useI18n } from \"../../../../contexts\";\nimport { Notices } from \"../../../common\";\nconst FormServiceFieldCreateContentBlocker = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    essentialGroupId,\n    allowContentBlockerCreation,\n    contentBlockerTemplates,\n    notices: {\n      createContentBlocker: createContentBlockerNotices\n    }\n  } = useFormService();\n  return allowContentBlockerCreation && contentBlockerTemplates?.length > 0 && /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.group !== nextValues.group\n  }, _ref => {\n    let {\n      getFieldValue\n    } = _ref;\n    return /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      name: \"createContentBlocker\",\n      valuePropName: \"checked\",\n      dependencies: [\"group\"],\n      rules: [{\n        validator: (_, value) => getFieldValue(\"group\") === essentialGroupId && value ? Promise.reject(__('Services that should be associated with a content blocker cannot be in the \"Essential\" group, because it cannot be rejected.')) : Promise.resolve()\n      }]\n    }, /*#__PURE__*/React.createElement(_Checkbox, null, __(\"Create content blocker for this service.\")));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, nextValues) => prevValues.createContentBlocker !== nextValues.createContentBlocker\n  }, _ref2 => {\n    let {\n      getFieldValue\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, getFieldValue(\"createContentBlocker\") && /*#__PURE__*/React.createElement(React.Fragment, null, contentBlockerTemplates.length > 1 && /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      name: \"createContentBlockerId\",\n      rules: [{\n        required: true,\n        message: __(\"Please select a template for the Content Blocker!\")\n      }]\n    }, /*#__PURE__*/React.createElement(_Select, {\n      style: {\n        maxWidth: 500,\n        marginTop: 10,\n        display: \"block\"\n      },\n      placeholder: __(\"Select Content Blocker template...\")\n    }, contentBlockerTemplates.map(_ref3 => {\n      let {\n        identifier,\n        name,\n        subHeadline\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(_Select.Option, {\n        key: identifier,\n        value: identifier\n      }, `${name}${subHeadline ? ` (${subHeadline})` : \"\"}`);\n    })))), /*#__PURE__*/React.createElement(Notices, {\n      notices: [{\n        message: getFieldValue(\"createContentBlocker\") ? __(\"Immediately after submitting this form you will be forwarded to another form that allows you to create the Content Blocker.\") : undefined,\n        severity: \"info\"\n      }, ...createContentBlockerNotices]\n    }));\n  }));\n};\nexport { FormServiceFieldCreateContentBlocker };","import _Form from \"antd/es/form\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport { FormServiceLayout } from \"../..\";\nimport { useFormService, useI18n } from \"../../../../contexts\";\nimport { LearnMoreTag } from \"../../../common\";\nconst FormServiceFieldPresetCheck = () => {\n  const {\n    __\n  } = useI18n();\n  const {\n    presetCheck,\n    isTemplateUpdate\n  } = useFormService();\n  return !!(presetCheck || isTemplateUpdate) && /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"presetCheck\",\n    valuePropName: \"checked\",\n    required: true,\n    rules: [{\n      type: \"boolean\",\n      required: true,\n      transform: value => value || undefined,\n      message: __(\"Please confirm that you have checked the contents of the service.\")\n    }],\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Checkbox, null, __(\"I have checked the information in the service template myself for correctness and completeness and have added missing information or corrected information that does not fit my use case. I am aware that the manufacturer of Real Cookie Banner cannot take any liability in this respect.\"), \" \", /*#__PURE__*/React.createElement(LearnMoreTag, {\n    url: __(\"https://devowl.io/knowledge-base/is-real-cookie-banner-legally-compliant/\")\n  })));\n};\nexport { FormServiceFieldPresetCheck };","import _Form from \"antd/es/form\";\nimport { useRef } from \"react\";\nimport { FormServiceFieldGeneralCompose, FormServiceFieldPresetCheck, FormServiceFieldCreateContentBlocker, FormServiceFieldHandlingCompose, FormServiceFieldTechnicalDefinitionsTable, FormServiceLayout } from \".\";\nimport { useI18n } from \"../../../contexts\";\nimport { FormValueDifferFromPresetNotice } from \"..\";\nconst FormService = () => {\n  const {\n    __\n  } = useI18n();\n  const ref = useRef();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(FormValueDifferFromPresetNotice, {\n    containerRef: ref,\n    form: \"service\"\n  }), /*#__PURE__*/React.createElement(FormServiceFieldGeneralCompose, null), /*#__PURE__*/React.createElement(FormServiceFieldTechnicalDefinitionsTable, null), /*#__PURE__*/React.createElement(FormServiceFieldHandlingCompose, null), /*#__PURE__*/React.createElement(FormServiceFieldCreateContentBlocker, null), /*#__PURE__*/React.createElement(_Form.Item, {\n    className: \"rcb-form-sticky-submit\",\n    labelCol: {\n      span: 0\n    },\n    wrapperCol: {\n      span: 24\n    }\n  }, /*#__PURE__*/React.createElement(FormServiceFieldPresetCheck, null), /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: FormServiceLayout.labelCol.span\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"button button-primary\",\n    value: __(\"Save\")\n  })))));\n};\nexport { FormService };","import _Spin from \"antd/es/spin\";\nimport _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Skeleton from \"antd/es/skeleton\";\nimport { useCallback, useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { CookieModel } from \"../../../models\";\nimport { __, scrollTo, base64EncodeUnicodeSafe, request } from \"../../../utils\";\nimport { useStores } from \"../../../store\";\nimport { useHistory, Prompt } from \"react-router-dom\";\nimport { useRouteCookie } from \"../../../hooks\";\nimport { CodeMirror } from \"../..\";\nimport { FormService, useFormServiceHandler } from \"@devowl-wp/react-cookie-banner-admin\";\nimport { slugify, FormServiceContextFactory, FormServiceLayout } from \"@devowl-wp/react-cookie-banner-admin\";\nimport { locationRestForwardCookieGet } from \"../../../wp-api\";\nconst CookieEditForm = observer(_ref => {\n  let {\n    preset,\n    overwriteAttributes,\n    navigateAfterCreation = true,\n    scrollToTop = true,\n    onCreated\n  } = _ref;\n  const {\n    routeGroup: {\n      group,\n      link\n    },\n    cookie,\n    id,\n    queried,\n    fetched\n  } = useRouteCookie();\n  const history = useHistory();\n  const {\n    cookieStore,\n    optionStore: {\n      tcf,\n      ePrivacyUSA,\n      consentForwarding,\n      setCookiesViaManager,\n      hasManager,\n      others: {\n        useEncodedStringForScriptInputs,\n        activePlugins\n      }\n    }\n  } = useStores();\n  const {\n    essentialGroup\n  } = cookieStore;\n  const presetModel = cookie?.presetModel || cookieStore.presetsCookie.get(preset?.identifier);\n  const groups = cookieStore.groups.sortedGroups.map(_ref2 => {\n    let {\n      data: {\n        id,\n        name\n      }\n    } = _ref2;\n    return {\n      id,\n      name\n    };\n  });\n  const allowContentBlockerCreation = !!navigateAfterCreation;\n  const contentBlockerTemplates = presetModel?.data.contentBlockerTemplates || [];\n  const attributes = {\n    ...presetModel?.attributes,\n    ...overwriteAttributes\n  };\n  const {\n    form,\n    isBusy,\n    defaultValues,\n    onFinish,\n    onFinishFailed,\n    onBeforeUnload,\n    onValuesChange,\n    contextValue\n  } = useFormServiceHandler({\n    __,\n    attributes,\n    selectedGroup: group.key,\n    trackFieldsDifferFromDefaultValues: [\"group\"],\n    setCookiesViaManager,\n    groups,\n    preset: presetModel ? {\n      identifier: presetModel.data.identifier,\n      version: presetModel.data.version\n    } : undefined,\n    allowContentBlockerCreation,\n    shouldUncheckContentBlockerCheckbox: attributes?.shouldUncheckContentBlockerCheckbox,\n    contentBlockerTemplates,\n    handleSave: async values => {\n      try {\n        // Pass as base64-encoded string to avoid Cloudflare XSS issues\n        const codeToBase64 = str => useEncodedStringForScriptInputs ? `encodedScript:${base64EncodeUnicodeSafe(str)}` : str;\n        const {\n          name,\n          status,\n          purpose,\n          isEmbeddingOnlyExternalResources,\n          technicalDefinitions,\n          group,\n          codeDynamics,\n          createContentBlocker,\n          createContentBlockerId,\n          uniqueName,\n          codeOptIn,\n          codeOptOut,\n          codeOnPageLoad,\n          ...meta\n        } = values;\n        const newMeta = {\n          ...meta,\n          codeOptIn: codeToBase64(codeOptIn),\n          codeOptOut: codeToBase64(codeOptOut),\n          codeOnPageLoad: codeToBase64(codeOnPageLoad),\n          isEmbeddingOnlyExternalResources,\n          codeDynamics: JSON.stringify(codeDynamics),\n          // Still hold the data of `technicalDefinitions` in database so it is not cleared when activating this option\n          technicalDefinitions: JSON.stringify(isEmbeddingOnlyExternalResources ? initialValues.technicalDefinitions : technicalDefinitions),\n          uniqueName: uniqueName || slugify(name),\n          presetId: presetModel?.data.identifier,\n          presetVersion: presetModel?.data.version\n        };\n        delete newMeta.presetCheck;\n        if (queried) {\n          cookie.setName(name);\n          cookie.setStatus(status);\n          cookie.setPurpose(purpose);\n          cookie.setMeta(newMeta);\n          cookie.setGroup(group);\n          await cookie.patch();\n        } else {\n          const useGroup = cookieStore.groups.entries.get(group);\n          const draft = new CookieModel(useGroup.cookies, {\n            title: {\n              rendered: name\n            },\n            content: {\n              rendered: purpose,\n              protected: false\n            },\n            status,\n            meta: newMeta\n          });\n          await draft.persist();\n          onCreated?.(draft);\n        }\n\n        // Remove the item from the \"Services with empty privacy policy\" global notice\n        const noticeId = \"#rcb-services-with-empty-privacy-policy-notice\";\n        document.querySelector(`${noticeId} li[data-id=\"${id}\"]`)?.classList.add(\"hidden\");\n        if (!document.querySelectorAll(`${noticeId} > ul > li:not(.hidden)`).length) {\n          document.querySelector(noticeId)?.remove();\n        }\n\n        // Navigate back after creation\n        navigateAfterCreation && setTimeout(() => createContentBlocker ?\n        // Navigate to content blocker form and forward `navigateAfterCreation` if given\n        history.push(`/blocker/new?force=${createContentBlockerId || preset.identifier}&cookieCreationPrompt=1${typeof navigateAfterCreation === \"string\" ? `&navigateAfterCreation=${encodeURIComponent(navigateAfterCreation)}` : \"\"}`) :\n        // Navigate back to overview or custom link\n        typeof navigateAfterCreation === \"string\" ? window.location.href = navigateAfterCreation : history.push(`${link.slice(1)}/${group}`), 0);\n      } catch (e) {\n        throw e.responseJSON.message;\n      }\n    }\n  });\n  const createContentBlockerNotice = attributes?.createContentBlockerNotice || presetModel?.attributes?.createContentBlockerNotice;\n  const initialValues = fetched ? {\n    name: cookie.data.title.raw,\n    status: cookie.data.status,\n    group: group.key || undefined,\n    // Can be `0`, so fallback to no selection (e.g. Cookie form modal in Content Blocker)\n    purpose: cookie.data.content.raw,\n    provider: cookie.data.meta.provider,\n    providerPrivacyPolicyUrl: cookie.data.meta.providerPrivacyPolicyUrl,\n    providerLegalNoticeUrl: cookie.data.meta.providerLegalNoticeUrl,\n    uniqueName: cookie.data.meta.uniqueName || cookie.data.slug,\n    isEmbeddingOnlyExternalResources: cookie.data.meta.isEmbeddingOnlyExternalResources,\n    legalBasis: cookie.data.meta.legalBasis,\n    ePrivacyUSA: cookie.data.meta.ePrivacyUSA,\n    technicalDefinitions: JSON.parse(JSON.stringify(cookie.technicalDefinitions || \"[]\")),\n    codeDynamics: JSON.parse(JSON.stringify(cookie.codeDynamics || \"{}\")),\n    tagManagerOptInEventName: cookie.data.meta.tagManagerOptInEventName,\n    tagManagerOptOutEventName: cookie.data.meta.tagManagerOptOutEventName,\n    codeOptIn: cookie.data.meta.codeOptIn,\n    executeCodeOptInWhenNoTagManagerConsentIsGiven: cookie.data.meta.executeCodeOptInWhenNoTagManagerConsentIsGiven,\n    codeOptOut: cookie.data.meta.codeOptOut,\n    executeCodeOptOutWhenNoTagManagerConsentIsGiven: cookie.data.meta.executeCodeOptOutWhenNoTagManagerConsentIsGiven,\n    codeOnPageLoad: cookie.data.meta.codeOnPageLoad,\n    deleteTechnicalDefinitionsAfterOptOut: cookie.data.meta.deleteTechnicalDefinitionsAfterOptOut,\n    createContentBlocker: false,\n    createContentBlockerId: undefined,\n    presetCheck: undefined\n  } : defaultValues;\n\n  // Initially load the cookie if not yet done\n  useEffect(() => {\n    if (queried && !fetched) {\n      // Fetch the cookie within the correct group collection so it gets removed\n      // from the original cookie group when it got moved to another cookie group.\n      const groupToFetch = [...cookieStore.groups.entries.values()].filter(_ref3 => {\n        let {\n          cookies\n        } = _ref3;\n        return cookies.entries.get(id);\n      })[0] || group;\n      groupToFetch.cookies.getSingle({\n        params: {\n          id,\n          context: \"edit\"\n        }\n      });\n    }\n  }, [queried, fetched]);\n\n  // Lazy load attributes of preset model\n  useEffect(() => {\n    if (presetModel && !presetModel.attributes && !presetModel.busy) {\n      presetModel.fetchAttributes();\n    }\n  }, [presetModel]);\n\n  // Scroll to top when opening the form\n  useEffect(() => {\n    if (scrollToTop) {\n      scrollTo(0);\n    }\n  }, []);\n  const hasServiceByUniqueName = useCallback(async slug => {\n    try {\n      return (await request({\n        location: locationRestForwardCookieGet,\n        params: {\n          slug\n        }\n      })).filter(d => d.ID !== cookie.key).length > 0;\n    } catch (e) {\n      return false;\n    }\n  }, [cookie.key]);\n  const FormServiceContext = FormServiceContextFactory.Context();\n  if (queried && !fetched || presetModel && !presetModel.attributes) {\n    return /*#__PURE__*/React.createElement(_Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 8\n      }\n    });\n  }\n  const isTemplateUpdate = fetched && presetModel ? cookie.data?.meta?.presetVersion !== presetModel.data.version : false;\n  return /*#__PURE__*/React.createElement(FormServiceContext.Provider, {\n    value: {\n      ...contextValue,\n      isEdit: fetched,\n      isTemplateUpdate,\n      isTcf: tcf,\n      isDataProcessingInUnsafeCountries: ePrivacyUSA,\n      isConsentForwarding: consentForwarding,\n      hasServiceByUniqueName,\n      presetCheck: presetModel ? isTemplateUpdate || !fetched : false,\n      serviceGotScanned: !!(presetModel?.data.scanned && presetModel.attributes?.codeOptIn && [\"wordpress-comments\"].indexOf(presetModel.data.identifier) === -1),\n      hasManager: hasManager > 0,\n      dynamicFields: attributes?.dynamicFields || presetModel?.attributes?.dynamicFields,\n      essentialGroupId: essentialGroup.key,\n      skipIfActiveComponents: activePlugins,\n      // eslint-disable-next-line react/display-name\n      renderCodeMirror: () => /*#__PURE__*/React.createElement(CodeMirror, {\n        settings: window.cm_settings\n      }),\n      notices: {\n        group: [...contextValue.notices.group, {\n          message: attributes?.groupNotice || presetModel?.attributes?.groupNotice,\n          severity: \"info\"\n        }],\n        providerPrivacyPolicyUrl: [{\n          message: !fetched && presetModel?.attributes && !initialValues.providerPrivacyPolicyUrl ? __('You have not yet set a privacy policy in the settings, so this field could not be filled in automatically. Please enter the URL of your privacy policy here and <a href=\"%s\" target=\"_blank\">set the corresponding page in your settings.</a>', \"#/settings\") : undefined,\n          severity: \"warning\"\n        }],\n        createContentBlocker: [{\n          message: createContentBlockerNotice,\n          severity: \"info\"\n        }],\n        technicalHandling: [{\n          message: attributes?.technicalHandlingNotice || presetModel?.attributes?.technicalHandlingNotice,\n          severity: \"info\"\n        }]\n      }\n    }\n  }, /*#__PURE__*/React.createElement(_Spin, {\n    spinning: isBusy || presetModel?.busy || false\n  }, /*#__PURE__*/React.createElement(Prompt, {\n    message: onBeforeUnload\n  }), /*#__PURE__*/React.createElement(_Form, _extends({\n    name: `cookie-${group.key}-${id}`,\n    form: form\n  }, FormServiceLayout, {\n    initialValues: initialValues,\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    onValuesChange: onValuesChange\n  }), /*#__PURE__*/React.createElement(FormService, null))));\n});\nexport { CookieEditForm };","import { useRouteMatch } from \"react-router-dom\";\nimport { CookieModel } from \"../models\";\nimport { useRouteCookieGroup } from \".\";\nconst useRouteCookie = () => {\n  const routeGroup = useRouteCookieGroup();\n  const {\n    group\n  } = routeGroup;\n  const {\n    params\n  } = useRouteMatch();\n\n  // Get cookie or return draft object\n  const id = isNaN(+params.cookie) ? 0 : +params.cookie;\n  const queried = !!params.cookie;\n  const cookie = group.cookies.entries.get(+params.cookie) || new CookieModel(group.cookies, {\n    id: 0\n  });\n  return {\n    routeGroup,\n    cookie,\n    id,\n    queried,\n    fetched: cookie.key !== 0\n  };\n};\nexport { useRouteCookie };","import _Form from \"antd/es/form\";\nimport { useFormHandler } from \".\";\nimport { useCallback } from \"react\";\nimport { Notices, TECHNICAL_DEFINITION_DEFAULTS } from \"../components\";\nimport { getManagerDependingVariables } from \"@devowl-wp/cookie-consent-web-client\";\nimport { slugify } from \"../utils\";\nfunction useFormServiceHandler(opts) {\n  const {\n    setCookiesViaManager,\n    selectedGroup,\n    groups,\n    contentBlockerTemplates,\n    allowContentBlockerCreation,\n    shouldUncheckContentBlockerCheckbox,\n    preset,\n    attributes,\n    __\n  } = opts;\n\n  // Determine the group to use for a given preset, otherwise use current opened group tab\n  const useGroup = attributes ? attributes.group ? groups.filter(_ref => {\n    let {\n      name\n    } = _ref;\n    return name === attributes.group;\n  })?.[0]?.id || \"preset-group-not-found\" : undefined : selectedGroup;\n  const defaultValues = {\n    // General\n    name: attributes?.name || \"\",\n    status: \"publish\",\n    group: typeof useGroup === \"number\" ?\n    // Can be `0`, so fallback to no selection (e.g. Cookie form modal in Content Blocker)\n    useGroup || undefined : undefined,\n    purpose: attributes?.purpose || \"\",\n    provider: attributes?.provider || \"\",\n    providerPrivacyPolicyUrl: attributes?.providerPrivacyPolicyUrl || \"\",\n    providerLegalNoticeUrl: attributes?.providerLegalNoticeUrl || \"\",\n    uniqueName: attributes?.uniqueName || preset?.identifier || \"\",\n    isEmbeddingOnlyExternalResources: attributes?.isEmbeddingOnlyExternalResources || false,\n    legalBasis: attributes?.legalBasis || \"consent\",\n    ePrivacyUSA: attributes?.ePrivacyUSA || false,\n    // Technical\n    technicalDefinitions: attributes?.technicalDefinitions ? JSON.parse(JSON.stringify(attributes.technicalDefinitions)) : [TECHNICAL_DEFINITION_DEFAULTS],\n    // Handling\n    codeDynamics: attributes?.codeDynamics || {},\n    tagManagerOptInEventName: attributes?.tagManagerOptInEventName || \"\",\n    tagManagerOptOutEventName: attributes?.tagManagerOptOutEventName || \"\",\n    codeOptIn: attributes?.codeOptIn || \"\",\n    executeCodeOptInWhenNoTagManagerConsentIsGiven: attributes?.executeCodeOptInWhenNoTagManagerConsentIsGiven || false,\n    codeOptOut: attributes?.codeOptOut || \"\",\n    codeOnPageLoad: attributes?.codeOnPageLoad || \"\",\n    executeCodeOptOutWhenNoTagManagerConsentIsGiven: attributes?.executeCodeOptOutWhenNoTagManagerConsentIsGiven || false,\n    deleteTechnicalDefinitionsAfterOptOut: attributes?.deleteTechnicalDefinitionsAfterOptOut || false,\n    createContentBlocker: typeof attributes?.createContentBlocker === \"boolean\" ? attributes.createContentBlocker : contentBlockerTemplates.length > 0 && allowContentBlockerCreation && !shouldUncheckContentBlockerCheckbox,\n    createContentBlockerId: attributes?.createContentBlockerId,\n    presetCheck: !preset\n  };\n  const handlers = useFormHandler({\n    ...opts,\n    defaultValues,\n    i18n: {\n      successMessage: __(\"You have successfully saved the service.\"),\n      validationError: __(\"The service could not be saved due to missing/invalid form values.\"),\n      unloadConfirm: __('You have unsaved changes. If you click on \"confirm\", your changes will be discarded.')\n    }\n  });\n  const {\n    form,\n    setIsBusy\n  } = handlers;\n  const onValuesChange = useCallback((changedValues, values) => {\n    handlers.onValuesChange(changedValues, values);\n    const {\n      technicalDefinitions\n    } = changedValues;\n\n    // Listen to `isSessionDuration` changes and validate the `required` field\n    // Listen to `type` changes and validate the technical host field\n    const td = (technicalDefinitions || []).filter(Boolean);\n    if (td.length === 1) {\n      const tdChangedKeys = Object.keys(td[0]);\n      if (tdChangedKeys.length === 1 && [\"isSessionDuration\", \"type\"].indexOf(tdChangedKeys[0]) > -1) {\n        setTimeout(() => handlers.form.validateFields(), 100); // wait a bit so there are not false-positives\n      }\n    }\n  }, [handlers.onValuesChange, handlers.form]);\n  const {\n    serviceIsManager\n  } = getManagerDependingVariables(setCookiesViaManager, preset?.identifier);\n\n  // Overwrite onFinish to handle empty unique name and automatically generate it\n  const onFinish = useCallback(async values => {\n    const {\n      uniqueName,\n      name\n    } = values;\n    if (!uniqueName) {\n      setIsBusy(true);\n      form.setFieldsValue({\n        uniqueName: slugify(name)\n      });\n      const {\n        uniqueName\n      } = await form.validateFields([\"uniqueName\"]);\n      values.uniqueName = uniqueName;\n    }\n    await handlers.onFinish(values);\n  }, [handlers.onFinish, form, setIsBusy]);\n  return {\n    ...handlers,\n    onFinish,\n    onValuesChange,\n    useGroup,\n    defaultValues,\n    contextValue: {\n      setCookiesViaManager,\n      serviceIsManager,\n      presetCheck: !!preset,\n      defaultPresetValues: preset ? defaultValues : {},\n      allowLegalBasisLegalRequirement: preset?.identifier === \"real-cookie-banner\",\n      groups,\n      allowContentBlockerCreation,\n      contentBlockerTemplates,\n      notices: {\n        group: [{\n          message: useGroup === \"preset-group-not-found\" ? __(\"The service group in which this service is normally placed (%s) has been deleted by you. Please group the service yourself.\", attributes.group) : undefined,\n          severity: \"warning\"\n        }, {\n          message: /*#__PURE__*/React.createElement(_Form.Item, {\n            noStyle: true,\n            key: \"groupDiff\",\n            shouldUpdate: (prevValues, nextValues) => prevValues.group !== nextValues.group\n          }, _ref2 => {\n            let {\n              getFieldValue\n            } = _ref2;\n            return /*#__PURE__*/React.createElement(Notices, {\n              notices: [{\n                message: preset && typeof useGroup === \"number\" && handlers.hasTrackedFieldDifferenceToDefaultValue(\"group\") && getFieldValue(\"group\") !== useGroup ? __(\"The groups specified in service templates were chosen wisely. Are you sure that this service should be assigned to another group for your case?\") : undefined,\n                severity: \"warning\"\n              }]\n            });\n          })\n        }]\n      }\n    }\n  };\n}\nexport { useFormServiceHandler };","/**\n * Unicode-safe base64 encoding.\n *\n * @see https://stackoverflow.com/a/30106551/5506547\n */\nfunction base64EncodeUnicodeSafe(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (match, p1) => String.fromCharCode(parseInt(p1, 16))));\n}\nexport { base64EncodeUnicodeSafe };","import { useRouteMatch } from \"react-router-dom\";\nimport { useStores } from \"../store\";\nimport { useCallback } from \"react\";\nimport { CookieGroupModel } from \"../models\";\nconst useRouteCookieGroup = () => {\n  const {\n    params: {\n      cookieGroup\n    }\n  } = useRouteMatch();\n  const {\n    cookieStore\n  } = useStores();\n\n  // Get cookie group or return draft object\n  const id = isNaN(+cookieGroup) ? 0 : +cookieGroup;\n  const queried = !!cookieGroup;\n  const group = cookieStore.groups.entries.get(id) || new CookieGroupModel(cookieStore.groups, {\n    id: 0\n  });\n  const link = `#/cookies`;\n  const editLink = useCallback(_ref => {\n    let {\n      key\n    } = _ref;\n    return `#/cookies/${group.key}/edit/${key}`;\n  }, [group]);\n  const addCookieLink = `#/cookies/${group.key}/new`;\n  return {\n    group,\n    id,\n    queried,\n    fetched: group.key !== 0,\n    link,\n    editLink,\n    addCookieLink\n  };\n};\nexport { useRouteCookieGroup };"],"names":["isUrl","url","test","Notices","_ref","notices","React","createElement","Fragment","map","_ref2","message","severity","className","key","dangerouslySetInnerHTML","__html","FormHeadline","children","description","extra","offset","wrapperCol","style","borderBottom","margin","marginBottom","FormServiceLayout","labelCol","span","FORM_VALUE_DIFFER_FROM_PRESET_NOTICE_PSEUDO_ELEMENT_CLASS_NAME","FormValueDifferFromPresetNotice","containerRef","form","__","_i","isTemplateUpdate","pseudoElements","setPseudoElements","useState","applied","setApplied","updatePseudoElements","useCallback","current","p","querySelectorAll","useLayoutEffect","interval","setInterval","async","getObject","delayNextCheck","arguments","length","undefined","maxTries","i","Promise","r","setTimeout","waitObject","then","document","addEventListener","clearInterval","removeEventListener","tag","color","onClick","forEach","click","marginTop","FORM_VALUE_DIFFER_FROM_PRESET_TAG_APPLY_EVENT","FormValueDifferFromPresetTag","useModal","valueName","difference","apply","newValueText","renderDiff","widthOfRef","placement","noBr","ignoreEmptyDefaultValue","popoverProps","defaultPresetValues","defaultValue","isModalVisible","setIsModalVisible","width","noStyle","shouldUpdate","prevValues","nextValues","getFieldValue","setFieldsValue","value","diff","handleApply","dispatchEvent","CustomEvent","clientWidth","descriptionComponent","contentComponent","oldStr","newStr","context","outputFormat","tagComponent","cursor","display","open","onOk","onCancel","okText","cancelText","destroyTooltipOnHide","overlayStyle","content","title","Meta","TemplateCenterHeader","onSelect","quickLinks","openDialog","openCookieExperts","useCookieExpertsModal","u","link","id","cover","src","paddingTop","height","PlusOutlined","fontSize","SearchOutlined","window","location","hash","hoverable","ERcbTier","TemplateCenterFilter","onFetched","busy","setBusy","isPro","isLicensed","fetchTemplates","enableLocalFilter","syncTemplates","term","setTerm","isShowOnlyFree","setShowOnlyFree","isSyncing","setIsSyncing","latestSync","setLatestSync","useEffect","items","result","filter","tier","Pro","_ref3","headline","subHeadline","trim","split","Boolean","singleTerm","toLowerCase","indexOf","finally","autoFocus","loading","maxWidth","placeholder","onChange","e","target","disabled","justify","align","gutter","components","separator","filtered","reduce","acc","curr","jsxJoin","marginRight","textDecoration","Date","SyncOutlined","spin","type","TemplateCenterCard","template","renderActions","isDemoEnv","logoUrl","consumerData","tags","isDisabled","disabledTranslatedText","showProBadge","openProModal","modal","useUpsellModal","feature","opacity","closest","actions","Object","keys","TemplateCenterCards","templates","showHidden","showDisabled","rest","isHidden","identifier","TemplateCenter","fetchUse","initialSelection","noLicenseInContainerRef","setNoLicenseInContainerRef","setTemplates","use","handleSelect","textAlign","spinning","label","inContainer","inContainerElement","mode","ref","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","FormContentBlockerContextFactory","static","this","createContext","useFormContentBlocker","useContext","Context","FormServiceContextFactory","useFormService","TemplateCenterContextFactory","useTemplateCenter","useFormHandler","defaultValues","handleSave","i18n","initialHasChanges","trackFieldsDifferFromDefaultValues","isBusy","setIsBusy","hasChanges","setHasChanges","trackedFieldsDifferFromDefaultValues","onFinish","values","resetFields","successMessage","onFinishFailed","errorInfo","validationError","errorFields","getFieldInstance","name","parentElement","scrollIntoView","behavior","block","onBeforeUnload","unloadConfirmInitialActive","unloadConfirm","onValuesChange","changedValues","splice","trackFieldChange","push","hasTrackedFieldDifferenceToDefaultValue","field","getCookieTypeLocalizationMap","http","abbr","backgroundColor","local","session","indexedDb","TECHNICAL_DEFINITION_DEFAULTS","host","duration","durationUnit","isSessionDuration","purpose","slugify","str","replace","from","l","RegExp","charAt","FormServiceFieldGeneralName","hasServiceByUniqueName","useRef","hover","setHover","uniqueNameValidating","setUniqueNameValidating","validateUniqueName","slug","overwrite","found","matchRegexp","uniqueName","foundGenerated","match","_","g1","g2","required","rules","onMouseEnter","onMouseLeave","transition","nameSlug","validateTrigger","validator","addonBefore","size","readOnly","FormServiceFieldGeneralStatus","FormServiceFieldGeneralGroup","serviceIsManager","setCookiesViaManager","essentialGroupId","groups","group","groupNotices","managerLabel","getManagerDependingVariables","curValues","FormServiceFieldGeneralProvider","FormServiceFieldGeneralPurpose","autoSize","minRows","FormServiceFieldGeneralProviderPrivacyPolicyUrl","providerPrivacyPolicyUrl","providerPrivacyPolicyUrlNotices","FormServiceFieldGeneralProviderLegalNoticeUrl","Field","props","allowLegalBasisLegalRequirement","FormServiceFieldGeneralLegalBasis","isEssentialGroup","strong","aGdpr","href","rel","FormServiceFieldGeneralDataProcessingCountries","isDataProcessingInUnsafeCountries","dataProcessingInCountriesLabel","ePrivacyUSA","valuePropName","checked","FormServiceFieldGeneralIsEmbeddingOnlyExternalResources","isEmbeddingOnlyExternalResourcesLabel","FormServiceFieldGeneralCompose","FormServiceFieldTechnicalDefinitionsCookieType","cookieTypeLocalized","FormServiceFieldTechnicalDefinitionsLayout","fieldKey","FormServiceFieldTechnicalDefinitionsCookieName","technicalDefinitions","cookieName","Array","isArray","code","FormServiceFieldTechnicalDefinitionsCookieHost","resolve","reject","startsWith","substr","FormServiceFieldTechnicalDefinitionsCookieDuration","durations","useMemo","s","m","h","d","mo","y","float","min","addonAfter","FormServiceFieldTechnicalDefinitionsCookiePurpose","rows","maxRows","DiffTable","initialValues","isEmbeddingOnlyExternalResources","FormServiceFieldTechnicalDefinitionsTable","isDiff","diffCalculate","oldValue","newValue","numberedIndexedForPosition","oldEntriesModified","a","idx","modified","definition","idxName","oldModified","position","oldEntriesComposedAdded","added","includes","_ref4","SortableBodyConnected","SortableItem","DragHandle","tbodyRef","SortableBody","MenuOutlined","handleSortStart","node","helper","childNodes","td","index","offsetWidth","onSortEnd","useDragHandle","oldIndex","newIndex","onSortStart","helperContainer","useFormServiceTechnicalDefinitionsTable","_ref5","fields","_ref6","add","remove","move","aEprivacy","QuestionCircleFilled","DeleteOutlined","colSpan","_ref7","_ref8","_ref9","_ref10","FormServiceFieldHandlingTagManagerEventName","hasManager","tagManagerOptInEventName","tagManagerOptOutEventName","inEventName","outEventName","DYNAMICS_VARIABLE_REGEXP","DYNAMICS_SEARCH_IN","FormServiceFieldHandlingDynamicField","dynamicFields","k","searchInResolved","join","matches","matchAll","formName","invalidMessage","example","expression","hint","find","dynamicField","pattern","FormServiceFieldHandlingSkipIfActiveNotice","skipIfActiveComponents","componentKeys","plugin","flat","uniq","FormServiceFieldHandlingExecuteCodeWhenNoTagManagerConsentIsGiven","executeCodeWhenNoTagManagerConsentIsGivenLabel","FormServiceFieldHandlingCodeOptIn","renderCodeMirror","FormServiceFieldHandlingDeleteTechnicalDefinitionsAfterOptOut","deleteTechnicalDefinitionsAfterOptOutLabel","FormServiceFieldHandlingCodeOptOut","createHiddenFormItemsWithCodeMirror","visible","FormServiceFieldHandlingCodeOnPageLoad","FormServiceFieldHandlingCompose","serviceGotScanned","contentBlockerTemplates","technicalHandling","technicalHandlingNotices","presetDefaultName","FormServiceFieldCreateContentBlocker","allowContentBlockerCreation","createContentBlocker","createContentBlockerNotices","dependencies","FormServiceFieldPresetCheck","presetCheck","transform","FormService","CookieEditForm","preset","overwriteAttributes","navigateAfterCreation","scrollToTop","onCreated","routeGroup","cookie","queried","fetched","useRouteCookieGroup","params","useRouteMatch","isNaN","cookies","entries","get","useRouteCookie","history","useHistory","cookieStore","optionStore","tcf","consentForwarding","others","useEncodedStringForScriptInputs","activePlugins","essentialGroup","presetModel","presetsCookie","sortedGroups","data","attributes","contextValue","opts","selectedGroup","shouldUncheckContentBlockerCheckbox","useGroup","status","provider","providerLegalNoticeUrl","legalBasis","JSON","parse","stringify","codeDynamics","codeOptIn","executeCodeOptInWhenNoTagManagerConsentIsGiven","codeOptOut","codeOnPageLoad","executeCodeOptOutWhenNoTagManagerConsentIsGiven","deleteTechnicalDefinitionsAfterOptOut","createContentBlockerId","handlers","tdChangedKeys","validateFields","useFormServiceHandler","version","codeToBase64","btoa","encodeURIComponent","p1","String","fromCharCode","parseInt","base64EncodeUnicodeSafe","meta","newMeta","presetId","presetVersion","setName","setStatus","setPurpose","setMeta","setGroup","patch","draft","rendered","protected","persist","noticeId","querySelector","classList","slice","responseJSON","createContentBlockerNotice","raw","getSingle","fetchAttributes","scrollTo","request","ID","FormServiceContext","active","paragraph","Provider","isEdit","isTcf","isConsentForwarding","scanned","settings","cm_settings","groupNotice","technicalHandlingNotice","Prompt","cookieGroup","editLink","addCookieLink"],"sourceRoot":""}