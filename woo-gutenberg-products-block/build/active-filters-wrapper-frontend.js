(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[12],{111:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return l}));var r=c(42);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const l=e.filter(e=>e.attribute===c.taxonomy),a=l.length?l[0]:null;if(!(a&&a.slug&&Array.isArray(a.slug)&&a.slug.includes(n)))return;const i=a.slug.filter(e=>e!==n),s=e.filter(e=>e.attribute!==c.taxonomy);i.length>0&&(a.slug=i.sort(),s.push(a)),t(Object(r.a)(s).asc("attribute"))},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"in";if(!c||!c.taxonomy)return[];const a=e.filter(e=>e.attribute!==c.taxonomy);return 0===n.length?t(a):(a.push({attribute:c.taxonomy,operator:l,slug:n.map(e=>{let{slug:t}=e;return t}).sort()}),t(Object(r.a)(a).asc("attribute"))),a}},114:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var r=c(26),n=c(20);const l=e=>Object(r.a)(e)?JSON.parse(e)||{}:Object(n.a)(e)?e:{}},116:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return a}));var r=c(2);c(139),c(5);const n=Object(r.getSetting)("attributes",[]).reduce((e,t)=>{const c=(r=t)&&r.attribute_name?{id:parseInt(r.attribute_id,10),name:r.attribute_name,taxonomy:"pa_"+r.attribute_name,label:r.attribute_label}:null;var r;return c&&c.id&&e.push(c),e},[]),l=e=>{if(e)return n.find(t=>t.id===e)},a=e=>{if(e)return n.find(t=>t.taxonomy===e)}},138:function(e){e.exports=JSON.parse('{"name":"woocommerce/active-filters","version":"1.0.0","title":"Active Filters Controls","description":"Display the currently active filters.","category":"woocommerce","keywords":["WooCommerce"],"supports":{"html":false,"multiple":false,"inserter":false,"color":{"text":true,"background":false},"lock":false},"attributes":{"displayStyle":{"type":"string","default":"list"},"headingLevel":{"type":"number","default":3}},"textdomain":"woo-gutenberg-products-block","apiVersion":2,"$schema":"https://schemas.wp.org/trunk/block.json"}')},139:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"c",(function(){return l})),c.d(t,"a",(function(){return i}));var r=c(20);const n=e=>Object(r.b)(e,"count")&&Object(r.b)(e,"description")&&Object(r.b)(e,"id")&&Object(r.b)(e,"name")&&Object(r.b)(e,"parent")&&Object(r.b)(e,"slug")&&"number"==typeof e.count&&"string"==typeof e.description&&"number"==typeof e.id&&"string"==typeof e.name&&"number"==typeof e.parent&&"string"==typeof e.slug,l=e=>Array.isArray(e)&&e.every(n),a=e=>Object(r.b)(e,"attribute")&&Object(r.b)(e,"operator")&&Object(r.b)(e,"slug")&&"string"==typeof e.attribute&&"string"==typeof e.operator&&Array.isArray(e.slug)&&e.slug.every(e=>"string"==typeof e),i=e=>Array.isArray(e)&&e.every(a)},154:function(e,t,c){"use strict";var r=c(0),n=c(1),l=c(31),a=c(2),i=c(4),s=c.n(i),o=c(21),b=c(74),u=c(20),m=c(139),d=c(71),p=c(62);c(221);var O=c(116),j=c(40),f=c(54),g=c(22),y=c(111),_=e=>{let{attributeObject:t,slugs:c=[],operator:i="in",displayStyle:s,isLoadingCallback:o}=e;const{results:u,isLoading:d}=Object(f.a)({namespace:"/wc/store/v1",resourceName:"products/attributes/terms",resourceValues:[t.id]}),[p,O]=Object(l.b)("attributes",[]);if(Object(r.useEffect)(()=>{o(d)},[d,o]),!Array.isArray(u)||!Object(m.c)(u)||!Object(m.a)(p))return null;const _=t.label,v=Object(a.getSettingWithCoercion)("is_rendering_php_template",!1,b.a);return Object(r.createElement)("li",null,Object(r.createElement)("span",{className:"wc-block-active-filters__list-item-type"},_,":"),Object(r.createElement)("ul",null,c.map((e,c)=>{const l=u.find(t=>t.slug===e);if(!l)return null;let a="";return c>0&&"and"===i&&(a=Object(r.createElement)("span",{className:"wc-block-active-filters__list-item-operator"},Object(n.__)("All","woo-gutenberg-products-block"))),Object(j.f)({type:_,name:Object(g.decodeEntities)(l.name||e),prefix:a,isLoading:d,removeCallback:()=>{const c=p.find(e=>{let{attribute:c}=e;return c==="pa_"+t.name});1===(null==c?void 0:c.slug.length)?Object(j.e)("query_type_"+t.name,"filter_"+t.name):Object(j.e)({["filter_"+t.name]:e}),v||Object(y.a)(p,O,t,e)},showLabel:!1,displayStyle:s})})))},v=e=>{let{displayStyle:t,isLoading:c}=e;return c?Object(r.createElement)(r.Fragment,null,[...Array("list"===t?2:3)].map((e,c)=>Object(r.createElement)("li",{className:"list"===t?"show-loading-state-list":"show-loading-state-chips",key:c},Object(r.createElement)("span",{className:"show-loading-state__inner"})))):null},k=c(44);t.a=e=>{let{attributes:t,isEditor:c=!1}=e;const i=Object(k.b)(),f=function(){const e=Object(r.useRef)(!1);return Object(r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),Object(r.useCallback)(()=>e.current,[])}()(),g=Object(a.getSettingWithCoercion)("is_rendering_php_template",!1,b.a),[y,h]=Object(r.useState)(!0),w=Object(j.c)()&&!c&&y,[E,S]=Object(l.b)("attributes",[]),[N,A]=Object(l.b)("stock_status",[]),[x,L]=Object(l.b)("min_price"),[C,F]=Object(l.b)("max_price"),[R,Q]=Object(l.b)("rating"),B=Object(a.getSetting)("stockStatusOptions",[]),P=Object(a.getSetting)("attributes",[]),W=Object(r.useMemo)(()=>{if(w||0===N.length||(e=N,!Array.isArray(e)||!e.every(e=>["instock","outofstock","onbackorder"].includes(e)))||!(e=>Object(u.a)(e)&&Object.keys(e).every(e=>["instock","outofstock","onbackorder"].includes(e)))(B))return null;var e;const c=Object(n.__)("Stock Status","woo-gutenberg-products-block");return Object(r.createElement)("li",null,Object(r.createElement)("span",{className:"wc-block-active-filters__list-item-type"},c,":"),Object(r.createElement)("ul",null,N.map(e=>Object(j.f)({type:c,name:B[e],removeCallback:()=>{if(Object(j.e)({filter_stock_status:e}),!g){const t=N.filter(t=>t!==e);A(t)}},showLabel:!1,displayStyle:t.displayStyle}))))},[w,B,N,A,t.displayStyle,g]),z=Object(r.useMemo)(()=>w||!Number.isFinite(x)&&!Number.isFinite(C)?null:Object(j.f)({type:Object(n.__)("Price","woo-gutenberg-products-block"),name:Object(j.b)(x,C),removeCallback:()=>{Object(j.e)("max_price","min_price"),g||(L(void 0),F(void 0))},displayStyle:t.displayStyle}),[w,x,C,t.displayStyle,L,F,g]),M=Object(r.useMemo)(()=>!Object(m.a)(E)&&f||!E.length&&!Object(j.g)(P)?(y&&h(!1),null):E.map(e=>{const c=Object(O.b)(e.attribute);return c?Object(r.createElement)(_,{attributeObject:c,displayStyle:t.displayStyle,slugs:e.slug,key:e.attribute,operator:e.operator,isLoadingCallback:h}):(y&&h(!1),null)}),[E,f,P,y,t.displayStyle]);Object(r.useEffect)(()=>{var e;if(!g)return;if(R.length&&R.length>0)return;const t=null===(e=Object(d.d)("rating_filter"))||void 0===e?void 0:e.toString();t&&Q(t.split(","))},[g,R,Q]);const J=Object(r.useMemo)(()=>{if(w||0===R.length||(e=R,!Array.isArray(e)||!e.every(e=>["1","2","3","4","5"].includes(e))))return null;var e;const c=Object(n.__)("Rating","woo-gutenberg-products-block");return Object(r.createElement)("li",null,Object(r.createElement)("span",{className:"wc-block-active-filters__list-item-type"},c,":"),Object(r.createElement)("ul",null,R.map(e=>Object(j.f)({type:c,name:Object(n.sprintf)(
/* translators: %s is referring to the average rating value */
Object(n.__)("Rated %s out of 5","woo-gutenberg-products-block"),e),removeCallback:()=>{if(Object(j.e)({rating_filter:e}),!g){const t=R.filter(t=>t!==e);Q(t)}},showLabel:!1,displayStyle:t.displayStyle}))))},[w,R,Q,t.displayStyle,g]);if(!w&&!(E.length>0||N.length>0||R.length>0||Number.isFinite(x)||Number.isFinite(C))&&!c)return i(!1),null;const D="h"+t.headingLevel,T=Object(r.createElement)(D,{className:"wc-block-active-filters__title"},t.heading),V=w?Object(r.createElement)(p.a,null,T):T;if(!Object(a.getSettingWithCoercion)("has_filterable_products",!1,b.a))return i(!1),null;i(!0);const $=s()("wc-block-active-filters__list",{"wc-block-active-filters__list--chips":"chips"===t.displayStyle,"wc-block-active-filters--loading":w});return Object(r.createElement)(r.Fragment,null,!c&&t.heading&&V,Object(r.createElement)("div",{className:"wc-block-active-filters"},Object(r.createElement)("ul",{className:$},c?Object(r.createElement)(r.Fragment,null,Object(j.f)({type:Object(n.__)("Size","woo-gutenberg-products-block"),name:Object(n.__)("Small","woo-gutenberg-products-block"),displayStyle:t.displayStyle}),Object(j.f)({type:Object(n.__)("Color","woo-gutenberg-products-block"),name:Object(n.__)("Blue","woo-gutenberg-products-block"),displayStyle:t.displayStyle})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v,{isLoading:w,displayStyle:t.displayStyle}),z,W,M,J)),w?Object(r.createElement)("span",{className:"wc-block-active-filters__clear-all-placeholder"}):Object(r.createElement)("button",{className:"wc-block-active-filters__clear-all",onClick:()=>{Object(j.a)(),g||(L(void 0),F(void 0),S([]),A([]),Q([]))}},Object(r.createElement)(o.a,{label:Object(n.__)("Clear All","woo-gutenberg-products-block"),screenReaderLabel:Object(n.__)("Clear All Filters","woo-gutenberg-products-block")}))))}},219:function(e,t){},220:function(e,t,c){"use strict";var r=c(0),n=c(12);const l=Object(r.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(n.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=l},221:function(e,t){},230:function(e,t,c){"use strict";var r=c(13),n=c.n(r),l=c(0),a=c(4),i=c.n(a),s=c(1),o=c(80),b=c(220);c(219);var u=e=>{let{text:t,screenReaderText:c="",element:r="li",className:a="",radius:s="small",children:o=null,...b}=e;const u=r,m=i()(a,"wc-block-components-chip","wc-block-components-chip--radius-"+s),d=Boolean(c&&c!==t);return Object(l.createElement)(u,n()({className:m},b),Object(l.createElement)("span",{"aria-hidden":d,className:"wc-block-components-chip__text"},t),d&&Object(l.createElement)("span",{className:"screen-reader-text"},c),o)};t.a=e=>{let{ariaLabel:t="",className:c="",disabled:r=!1,onRemove:a=(()=>{}),removeOnAnyClick:m=!1,text:d,screenReaderText:p="",...O}=e;const j=m?"span":"button";if(!t){const e=p&&"string"==typeof p?p:d;t="string"!=typeof e?
/* translators: Remove chip. */
Object(s.__)("Remove","woo-gutenberg-products-block"):Object(s.sprintf)(
/* translators: %s text of the chip to remove. */
Object(s.__)('Remove "%s"',"woo-gutenberg-products-block"),e)}const f={"aria-label":t,disabled:r,onClick:a,onKeyDown:e=>{"Backspace"!==e.key&&"Delete"!==e.key||a()}},g=m?f:{},y=m?{"aria-hidden":!0}:f;return Object(l.createElement)(u,n()({},O,g,{className:i()(c,"is-removable"),element:m?"button":O.element,screenReaderText:p,text:d}),Object(l.createElement)(j,n()({className:"wc-block-components-chip__remove"},y),Object(l.createElement)(o.a,{className:"wc-block-components-chip__remove-icon",icon:b.a,size:16})))}},281:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var r=c(57),n=c(20),l=c(114);const a=e=>{const t=Object(n.a)(e)?e:{},c=Object(l.a)(t.style);return Object(r.__experimentalUseColorProps)({...t,style:c})}},40:function(e,t,c){"use strict";c.d(t,"b",(function(){return p})),c.d(t,"f",(function(){return O})),c.d(t,"e",(function(){return j})),c.d(t,"a",(function(){return y})),c.d(t,"c",(function(){return _})),c.d(t,"g",(function(){return v})),c.d(t,"d",(function(){return k}));var r=c(0),n=c(1),l=c(41),a=c(230),i=c(21),s=c(15),o=c(71),b=c(80),u=c(220),m=c(26),d=c(138);const p=(e,t)=>Number.isFinite(e)&&Number.isFinite(t)?Object(n.sprintf)(
/* translators: %1$s min price, %2$s max price */
Object(n.__)("Between %1$s and %2$s","woo-gutenberg-products-block"),Object(l.formatPrice)(e),Object(l.formatPrice)(t)):Number.isFinite(e)?Object(n.sprintf)(
/* translators: %s min price */
Object(n.__)("From %s","woo-gutenberg-products-block"),Object(l.formatPrice)(e)):Object(n.sprintf)(
/* translators: %s max price */
Object(n.__)("Up to %s","woo-gutenberg-products-block"),Object(l.formatPrice)(t)),O=e=>{let{type:t,name:c,prefix:l="",removeCallback:s=(()=>null),showLabel:o=!0,displayStyle:m}=e;const d=l?Object(r.createElement)(r.Fragment,null,l," ",c):c,p=Object(n.sprintf)(
/* translators: %s attribute value used in the filter. For example: yellow, green, small, large. */
Object(n.__)("Remove %s filter","woo-gutenberg-products-block"),c);return Object(r.createElement)("li",{className:"wc-block-active-filters__list-item",key:t+":"+c},o&&Object(r.createElement)("span",{className:"wc-block-active-filters__list-item-type"},t+": "),"chips"===m?Object(r.createElement)(a.a,{element:"span",text:d,onRemove:s,radius:"large",ariaLabel:p}):Object(r.createElement)("span",{className:"wc-block-active-filters__list-item-name"},Object(r.createElement)("button",{className:"wc-block-active-filters__list-item-remove",onClick:s},Object(r.createElement)(b.a,{className:"wc-block-components-chip__remove-icon",icon:u.a,size:16}),Object(r.createElement)(i.a,{screenReaderLabel:p})),d))},j=function(){if(!window)return;const e=window.location.href,t=Object(s.getQueryArgs)(e),c=Object(s.removeQueryArgs)(e,...Object.keys(t));for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];n.forEach(e=>{if("string"==typeof e)return delete t[e];if("object"==typeof e){const c=Object.keys(e)[0],r=t[c].toString().split(",");t[c]=r.filter(t=>t!==e[c]).join(",")}});const a=Object.fromEntries(Object.entries(t).filter(e=>{let[,t]=e;return t})),i=Object(s.addQueryArgs)(c,a);Object(o.c)(i)},f=["min_price","max_price","rating_filter","filter_","query_type_"],g=e=>{let t=!1;for(let c=0;f.length>c;c++){const r=f[c];if(r===e.substring(0,r.length)){t=!0;break}}return t},y=()=>{if(!window)return;const e=window.location.href,t=Object(s.getQueryArgs)(e),c=Object(s.removeQueryArgs)(e,...Object.keys(t)),r=Object.fromEntries(Object.keys(t).filter(e=>!g(e)).map(e=>[e,t[e]])),n=Object(s.addQueryArgs)(c,r);Object(o.c)(n)},_=()=>{if(!window)return!1;const e=window.location.href,t=Object(s.getQueryArgs)(e),c=Object.keys(t);let r=!1;for(let e=0;c.length>e;e++){const t=c[e];if(g(t)){r=!0;break}}return r},v=e=>{if(!window)return!1;const t=e.map(e=>"filter_"+e.attribute_name),c=window.location.href,r=Object(s.getQueryArgs)(c),n=Object.keys(r);let l=!1;for(let e=0;n.length>e;e++){const c=n[e];if(t.includes(c)){l=!0;break}}return l},k=e=>({heading:Object(m.a)(null==e?void 0:e.heading)?e.heading:"",headingLevel:Object(m.a)(null==e?void 0:e.headingLevel)&&parseInt(e.headingLevel,10)||d.attributes.headingLevel.default,displayStyle:Object(m.a)(null==e?void 0:e.displayStyle)&&e.displayStyle||d.attributes.displayStyle.default})},485:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(281),l=c(26),a=c(154),i=c(40);t.default=e=>{const t=Object(n.a)(e);return Object(r.createElement)("div",{className:Object(l.a)(e.className)?e.className:"",style:{...t.style}},Object(r.createElement)(a.a,{isEditor:!1,attributes:Object(i.d)(e)}))}},62:function(e,t,c){"use strict";var r=c(0);c(87),t.a=e=>{let{children:t}=e;return Object(r.createElement)("div",{className:"wc-block-filter-title-placeholder"},t)}},80:function(e,t,c){"use strict";var r=c(0);t.a=function(e){let{icon:t,size:c=24,...n}=e;return Object(r.cloneElement)(t,{width:c,height:c,...n})}},87:function(e,t){}}]);