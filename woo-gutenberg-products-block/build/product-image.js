(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[27,4,34],{100:function(e,t,r){"use strict";var n=r(3),c=r(1),s=r(130),a=r(70);const o=Object(n.getSetting)("countryLocale",{}),i=e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=Object(c.sprintf)(
/* translators: %s Field label. */
Object(c.__)("%s (optional)","woo-gutenberg-products-block"),e.label)),e.priority&&(Object(s.a)(e.priority)&&(t.index=e.priority),Object(a.a)(e.priority)&&(t.index=parseInt(e.priority,10))),e.hidden&&(t.required=!1),t},l=Object.entries(o).map(e=>{let[t,r]=e;return[t,Object.entries(r).map(e=>{let[t,r]=e;return[t,i(r)]}).reduce((e,t)=>{let[r,n]=t;return e[r]=n,e},{})]}).reduce((e,t)=>{let[r,n]=t;return e[r]=n,e},{});t.a=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const c=r&&void 0!==l[r]?l[r]:{};return e.map(e=>({key:e,...n.defaultAddressFields[e]||{},...c[e]||{},...t[e]||{}})).sort((e,t)=>e.index-t.index)}},124:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(5),c=r(20),s=r(84);const a=e=>{const t=Object(c.b)(e)?e:{},r=Object(s.a)(t.style);return Object(n.__experimentalUseBorderProps)({...t,style:r})}},130:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=e=>"number"==typeof e},152:function(e,t,r){"use strict";r.r(t),r.d(t,"Block",(function(){return m}));var n=r(0),c=r(1),s=r(4),a=r.n(s),o=r(30),i=r(26),l=r(124),d=r(112),u=r(99),p=r(108),b=r(53);r(266);const m=e=>{const{className:t,align:r}=e,{parentClassName:s}=Object(i.useInnerBlockLayoutContext)(),{product:b}=Object(i.useProductDataContext)(),m=Object(l.a)(e),_=Object(d.a)(e),g=Object(u.a)(e),E=Object(p.a)(e);if(!b.id||!b.on_sale)return null;const f="string"==typeof r?"wc-block-components-product-sale-badge--align-"+r:"";return Object(n.createElement)("div",{className:a()("wc-block-components-product-sale-badge",t,f,{[s+"__product-onsale"]:s},_.className,m.className,g.className),style:{..._.style,...m.style,...g.style,...E.style}},Object(n.createElement)(o.a,{label:Object(c.__)("Sale","woo-gutenberg-products-block"),screenReaderLabel:Object(c.__)("Product on sale","woo-gutenberg-products-block")}))};t.default=Object(b.withProductDataContext)(m)},213:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(6),c=r.n(n),s=r(0),a=r(1),o=r(4),i=r.n(o),l=r(3),d=r(26),u=r(99),p=r(124),b=r(108),m=r(53),_=r(90),g=r(152),E=(r(269),r(58));const f=()=>Object(s.createElement)("img",{src:l.PLACEHOLDER_IMG_SRC,alt:"",width:void 0,height:void 0}),O=e=>{let{image:t,loaded:r,showFullSize:n,fallbackAlt:a}=e;const{thumbnail:o,src:i,srcset:l,sizes:d,alt:u}=t||{},p={alt:u||a,hidden:!r,src:o,...n&&{src:i,srcSet:l,sizes:d}};return Object(s.createElement)(s.Fragment,null,p.src&&Object(s.createElement)("img",c()({"data-testid":"product-image"},p)),!t&&Object(s.createElement)(f,null))},h=e=>{const{className:t,imageSizing:r=E.a.SINGLE,showProductLink:n=!0,showSaleBadge:o,saleBadgeAlign:l="right",...m}=e,{parentClassName:h}=Object(d.useInnerBlockLayoutContext)(),{product:w,isLoading:v}=Object(d.useProductDataContext)(),{dispatchStoreEvent:y}=Object(_.a)(),C=Object(u.a)(e),j=Object(p.a)(e),S=Object(b.a)(e);if(!w.id)return Object(s.createElement)("div",{className:i()(t,"wc-block-components-product-image",{[h+"__product-image"]:h},j.className),style:{...C.style,...j.style,...S.style}},Object(s.createElement)(f,null));const R=!!w.images.length,T=R?w.images[0]:null,k=n?"a":s.Fragment,P=Object(a.sprintf)(
/* translators: %s is referring to the product name */
Object(a.__)("Link to %s","woo-gutenberg-products-block"),w.name),L={href:w.permalink,...!R&&{"aria-label":P},onClick:()=>{y("product-view-link",{product:w})}};return Object(s.createElement)("div",{className:i()(t,"wc-block-components-product-image",{[h+"__product-image"]:h},j.className),style:{...C.style,...j.style,...S.style}},Object(s.createElement)(k,n&&L,!!o&&Object(s.createElement)(g.default,c()({align:l},m)),Object(s.createElement)(O,{fallbackAlt:w.name,image:T,loaded:!v,showFullSize:r!==E.a.THUMBNAIL})))};t.b=Object(m.withProductDataContext)(h)},264:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return a}));const n=window.CustomEvent||null,c=(e,t)=>{let{bubbles:r=!1,cancelable:c=!1,element:s,detail:a={}}=t;if(!n)return;s||(s=document.body);const o=new n(e,{bubbles:r,cancelable:c,detail:a});s.dispatchEvent(o)},s=e=>{let{preserveCartData:t=!1}=e;c("wc-blocks_added_to_cart",{bubbles:!0,cancelable:!0,detail:{preserveCartData:t}})},a=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof jQuery)return()=>{};const s=()=>{c(t,{bubbles:r,cancelable:n})};return jQuery(document).on(e,s),()=>jQuery(document).off(e,s)}},265:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i}));var n=r(100),c=(r(15),r(3)),s=r(14);const a=e=>{const t=Object.keys(c.defaultAddressFields),r=Object(n.a)(t,{},e.country),s=Object.assign({},e);return r.forEach(t=>{let{key:r="",hidden:n=!1}=t;n&&((e,t)=>e in t)(r,e)&&(s[r]="")}),s},o=e=>{if(0===Object.values(e).length)return null;const t=Object(c.getSetting)("shippingCountries",{}),r=Object(c.getSetting)("shippingStates",{}),n="string"==typeof t[e.country]?Object(s.decodeEntities)(t[e.country]):"",a="object"==typeof r[e.country]&&"string"==typeof r[e.country][e.state]?Object(s.decodeEntities)(r[e.country][e.state]):e.state,o=[];o.push(e.postcode.toUpperCase()),o.push(e.city),o.push(a),o.push(n);return o.filter(Boolean).join(", ")||null},i=e=>!!e.city&&!!e.country},266:function(e,t){},269:function(e,t){},30:function(e,t,r){"use strict";var n=r(0),c=r(4),s=r.n(c);t.a=e=>{let t,{label:r,screenReaderLabel:c,wrapperElement:a,wrapperProps:o={}}=e;const i=null!=r,l=null!=c;return!i&&l?(t=a||"span",o={...o,className:s()(o.className,"screen-reader-text")},Object(n.createElement)(t,o,c)):(t=a||n.Fragment,i&&l&&r!==c?Object(n.createElement)(t,o,Object(n.createElement)("span",{"aria-hidden":"true"},r),Object(n.createElement)("span",{className:"screen-reader-text"},c)):Object(n.createElement)(t,o,r))}},333:function(e,t,r){"use strict";const n={showProductLink:{type:"boolean",default:!0},showSaleBadge:{type:"boolean",default:!0},saleBadgeAlign:{type:"string",default:"right"},imageSizing:{type:"string",default:r(58).a.SINGLE},productId:{type:"number",default:0},isDescendentOfQueryLoop:{type:"boolean",default:!1},isDescendentOfSingleProductBlock:{type:"boolean",default:!1}};t.a=n},47:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r(123),c=r.n(n),s=r(0),a=r(9),o=r(7),i=r(14),l=r(265),d=r(89);var u=r(264);const p=e=>{const t=null==e?void 0:e.detail;t&&t.preserveCartData||Object(o.dispatch)(a.CART_STORE_KEY).invalidateResolutionForStore()},b=e=>{(null!=e&&e.persisted||"back_forward"===(window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:""))&&Object(o.dispatch)(a.CART_STORE_KEY).invalidateResolutionForStore()},m=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},_=()=>{Object(s.useEffect)(()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),(null===(e=window.wcBlocksStoreCartListeners)||void 0===e?void 0:e.count)>0)return void window.wcBlocksStoreCartListeners.count++;var e;document.body.addEventListener("wc-blocks_added_to_cart",p),document.body.addEventListener("wc-blocks_removed_from_cart",p),window.addEventListener("pageshow",b);const t=Object(u.a)("added_to_cart","wc-blocks_added_to_cart"),r=Object(u.a)("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",p),document.body.removeEventListener("wc-blocks_removed_from_cart",p),window.removeEventListener("pageshow",b),t(),r()}})(),m),[])},g={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},E={...g,email:""},f={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:a.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},O=e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,Object(i.decodeEntities)(r)]})),h={cartCoupons:a.EMPTY_CART_COUPONS,cartItems:a.EMPTY_CART_ITEMS,cartFees:a.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:a.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:a.EMPTY_CART_ITEM_ERRORS,cartTotals:f,cartIsLoading:!0,cartErrors:a.EMPTY_CART_ERRORS,billingAddress:E,shippingAddress:g,shippingRates:a.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentMethods:a.EMPTY_PAYMENT_METHODS,paymentRequirements:a.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},extensions:a.EMPTY_EXTENSIONS},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldSelect:!0};const{isEditor:t,previewData:r}=Object(d.b)(),n=null==r?void 0:r.previewCart,{shouldSelect:i}=e,u=Object(s.useRef)();_();const p=Object(o.useSelect)((e,r)=>{let{dispatch:c}=r;if(!i)return h;if(t)return{cartCoupons:n.coupons,cartItems:n.items,crossSellsProducts:n.cross_sells,cartFees:n.fees,cartItemsCount:n.items_count,cartItemsWeight:n.items_weight,cartNeedsPayment:n.needs_payment,cartNeedsShipping:n.needs_shipping,cartItemErrors:a.EMPTY_CART_ITEM_ERRORS,cartTotals:n.totals,cartIsLoading:!1,cartErrors:a.EMPTY_CART_ERRORS,billingData:E,billingAddress:E,shippingAddress:g,extensions:a.EMPTY_EXTENSIONS,shippingRates:n.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:n.has_calculated_shipping,paymentRequirements:n.paymentRequirements,receiveCart:"function"==typeof(null==n?void 0:n.receiveCart)?n.receiveCart:()=>{},receiveCartContents:"function"==typeof(null==n?void 0:n.receiveCartContents)?n.receiveCartContents:()=>{}};const s=e(a.CART_STORE_KEY),o=s.getCartData(),d=s.getCartErrors(),u=s.getCartTotals(),p=!s.hasFinishedResolution("getCartData"),b=s.isCustomerDataUpdating(),{receiveCart:m,receiveCartContents:_}=c(a.CART_STORE_KEY),f=O(o.billingAddress),w=o.needsShipping?O(o.shippingAddress):f,v=o.fees.length>0?o.fees.map(e=>O(e)):a.EMPTY_CART_FEES;return{cartCoupons:o.coupons.length>0?o.coupons.map(e=>({...e,label:e.code})):a.EMPTY_CART_COUPONS,cartItems:o.items,crossSellsProducts:o.crossSells,cartFees:v,cartItemsCount:o.itemsCount,cartItemsWeight:o.itemsWeight,cartNeedsPayment:o.needsPayment,cartNeedsShipping:o.needsShipping,cartItemErrors:o.errors,cartTotals:u,cartIsLoading:p,cartErrors:d,billingData:Object(l.a)(f),billingAddress:Object(l.a)(f),shippingAddress:Object(l.a)(w),extensions:o.extensions,shippingRates:o.shippingRates,isLoadingRates:b,cartHasCalculatedShipping:o.hasCalculatedShipping,paymentRequirements:o.paymentRequirements,receiveCart:m,receiveCartContents:_}},[i]);return u.current&&c()(u.current,p)||(u.current=p),u.current}},599:function(e,t,r){"use strict";r.r(t);var n=r(53),c=r(213),s=r(333);t.default=Object(n.withFilteredAttributes)(s.a)(c.b)},89:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(0),c=r(7);const s=Object(n.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),a=()=>Object(n.useContext)(s),o=e=>{let{children:t,currentPostId:r=0,previewData:a={},currentView:o="",isPreview:i=!1}=e;const l=Object(c.useSelect)(e=>r||e("core/editor").getCurrentPostId(),[r]),d=Object(n.useCallback)(e=>a&&e in a?a[e]:{},[a]),u={isEditor:!0,currentPostId:l,currentView:o,previewData:a,getPreviewData:d,isPreview:i};return Object(n.createElement)(s.Provider,{value:u},t)}},90:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(46),c=r(0),s=r(47);const a=()=>{const e=Object(s.a)(),t=Object(c.useRef)(e);return Object(c.useEffect)(()=>{t.current=e},[e]),{dispatchStoreEvent:Object(c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Object(n.doAction)("experimental__woocommerce_blocks-"+e,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:Object(c.useCallback)((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Object(n.doAction)("experimental__woocommerce_blocks-checkout-"+e,{...r,storeCart:t.current})}catch(e){console.error(e)}}),[])}}}}]);