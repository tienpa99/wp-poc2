(()=>{"use strict";const e=window.wp.element,n=window.wp.i18n,t=window.wp.hooks,a=window.React,l=window.wp.compose,i=window.wp.blocks,o=window.wp.data,r=e=>e.startsWith("premium/"),u={animation:{Desktop:"",Tablet:"",Mobile:""},duration:"1000",delay:"",curve:"linear"};function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}const b=window.wp.components,c=pbg.components,p=t=>{let{value:a,onChange:l,deviceType:i}=t;const{animation:o,duration:r,delay:u,curve:s}=a,p=e=>{const n={...a,...e};l(n)};return(0,e.createElement)(b.PanelBody,{title:(0,n.__)("Entrance Animation","premium-blocks-for-gutenberg"),className:"premium-panel-body",initialOpen:!1},(0,e.createElement)(c.ResponsiveSelectControl,{value:o,label:(0,n.__)("Animation","premium-blocks-for-gutenberg"),options:[{label:"None",value:""},{label:"Fading",options:[{label:"Fade In",value:"pbg-fade-in"},{label:"Fade In Down",value:"pbg-fade-in-down"},{label:"Fade In Left",value:"pbg-fade-in-left"},{label:"Fade In Right",value:"pbg-fade-in-right"},{label:"Fade In Up",value:"pbg-fade-in-up"}]},{label:"Zooming",options:[{label:"Zoom In",value:"pbg-zoom-in"},{label:"Zoom In Down",value:"pbg-zoom-in-down"},{label:"Zoom In Left",value:"pbg-zoom-in-left"},{label:"Zoom In Right",value:"pbg-zoom-in-right"},{label:"Zoom In Up",value:"pbg-zoom-in-up"}]},{label:"Bouncing",options:[{label:"Bounce In",value:"pbg-bounce-in"},{label:"Bounce In Down",value:"pbg-bounce-in-down"},{label:"Bounce In Left",value:"pbg-bounce-in-left"},{label:"Bounce In Right",value:"pbg-bounce-in-right"},{label:"Bounce In Up",value:"pbg-bounce-in-up"}]},{label:"Sliding",options:[{label:"Slide In Down",value:"pbg-slide-in-down"},{label:"Slide In Left",value:"pbg-slide-in-left"},{label:"Slide In Right",value:"pbg-slide-in-right"},{label:"Slide In Up",value:"pbg-slide-in-up"}]},{label:"Rotating",options:[{label:"Rotate In",value:"pbg-rotate-in"},{label:"Rotate In Down Left",value:"pbg-rotate-in-down-left"},{label:"Rotate In Down Right",value:"pbg-rotate-in-down-right"},{label:"Rotate In Up Left",value:"pbg-rotate-in-up-left"},{label:"Rotate In Up Right",value:"pbg-rotate-in-up-right"}]},{label:"Attention Seekers",options:[{label:"Bounce",value:"pbg-bounce"},{label:"Flash",value:"pbg-flash"},{label:"Pulse",value:"pbg-pulse"},{label:"Rubber Band",value:"pbg-rubber-band"},{label:"Shake",value:"pbg-shake"},{label:"Head Shake",value:"pbg-head-shake"},{label:"Swing",value:"pbg-swing"},{label:"Tada",value:"pbg-tada"},{label:"Wobble",value:"pbg-wobble"},{label:"Jello",value:"pbg-jello"}]},{label:"Light Speed",options:[{label:"Light Speed In",value:"pbg-light-speed-in"}]},{label:"Specials",options:[{label:"Roll In",value:"pbg-roll-in"}]}],onChange:e=>p({animation:e})}),o?.[i]&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b.SelectControl,{label:(0,n.__)("Easing","premium-blocks-for-gutenberg"),value:s,onChange:e=>p({curve:e}),options:[{value:"ease-in-out",label:"ease-in-out"},{value:"ease",label:"ease"},{value:"ease-in",label:"ease-in"},{value:"ease-out",label:"ease-out"},{value:"linear",label:"linear"}]}),(0,e.createElement)(c.ResponsiveSingleRangeControl,{label:(0,n.__)("Duration","premium-blocks-for-gutenberg"),value:r,onChange:e=>p({duration:e}),showUnit:!1,defaultValue:0,max:1e4,step:1}),(0,e.createElement)(c.ResponsiveSingleRangeControl,{label:(0,n.__)("Delay","premium-blocks-for-gutenberg"),value:u,onChange:e=>p({delay:e}),showUnit:!1,defaultValue:0,max:1e4,step:1})))},m=(0,l.createHigherOrderComponent)((n=>t=>{const{attributes:l,setAttributes:i}=t,{entranceAnimation:r={}}=l,u=(0,o.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:n=null}=e("core/edit-post");return n?n():"Desktop"}),[]);return(0,e.createElement)(a.Fragment,null,(0,e.createElement)(n,t),(0,e.createElement)(c.PBGAdvancedInspectorControls,null,(0,e.createElement)(p,{value:r,onChange:e=>i({entranceAnimation:e}),deviceType:u})))}));(0,t.addFilter)("Pbg.AdvancedTab","pbg/entrance-animation-option",m);const g=(0,l.createHigherOrderComponent)((n=>t=>{const{attributes:l,setAttributes:i,isSelected:r}=t.blockProps,{entranceAnimation:u={}}=l,b=(0,o.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:n=null}=e("core/edit-post");return n?n():"Desktop"}),[]),c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(!l?.entranceAnimation?.animation?.[b])return;let e=c.current;e.style.animationTimingFunction=u.curve,e.style.animationDuration=u.duration?`${u.duration}ms`:"",e.style.animationDelay=u.delay?`${u.delay}ms`:""}),[r,u,b]),(0,e.createElement)(n,s({},t,{className:l?.entranceAnimation?.animation?.[b],ref:c}))}));(0,t.addFilter)("pbg.BlockContent","pbg/entrance-pbg-block-content",g);const d=window.wp.blockEditor,v=(0,l.createHigherOrderComponent)((n=>t=>{const l=(0,i.hasBlockSupport)(t.name,"customClassName",!0);if(!PremiumAnimation.allBlocks||r(t.name)||!l)return(0,e.createElement)(n,t);const{attributes:u,setAttributes:s,isSelected:b,clientId:c}=t,{entranceAnimation:m={}}=u,g=(0,o.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:n=null}=e("core/edit-post");return n?n():"Desktop"}),[]),v=(0,a.useRef)(null);return(0,e.useEffect)((()=>{if(!u?.entranceAnimation?.animation?.[g])return;let e=v.current;e.style.animationTimingFunction=m.curve,e.style.animationDuration=m.duration?`${m.duration}ms`:"",e.style.animationDelay=m.delay?`${m.delay}ms`:""}),[b,m,g]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`pbg-entrance-animation ${u?.entranceAnimation?.animation?.[g]}`,ref:v},(0,e.createElement)(n,t)),(0,e.createElement)(d.InspectorControls,null,(0,e.createElement)(p,{value:m,deviceType:g,onChange:e=>s({entranceAnimation:e})})))}),"EntranceAnimationControl");(0,t.addFilter)("editor.BlockEdit","pbg/entrance-animation-attribute",v),(0,t.addFilter)("blocks.registerBlockType","pbg/entrance-animation-attribute",((e,n)=>PremiumAnimation.allBlocks||r(n)?(void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{entranceAnimation:{type:"object",default:u}})),e):e));const w=(0,l.createHigherOrderComponent)((n=>t=>{const l=(0,i.hasBlockSupport)(t.name,"customClassName",!0),{attributes:u,setAttributes:s,clientId:b,className:c=""}=t,{entranceAnimation:p={}}=u,{animation:m}=p,g=(0,o.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:n=null}=e("core/edit-post");return n?n():"Desktop"}),[]);return(0,a.useEffect)((()=>{const e=b.split("-")[4];(PremiumAnimation.allBlocks||r(t.name))&&l&&u?.entranceAnimation?.animation?.[g]?(s({className:`pbg-animation-${e}`}),s({entranceAnimation:{...p,clientId:e}})):s({className:c.replace(`pbg-animation-${e}`,"")})}),[m]),(0,e.createElement)(n,t)}),"withClientId");(0,t.addFilter)("editor.BlockEdit","pbg/entrance-animation-client-id",w)})();