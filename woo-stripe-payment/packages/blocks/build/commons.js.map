{"version":3,"file":"commons.js","mappings":"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","sources":["webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/construct.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/createClass.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/extends.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/inherits.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/typeof.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://wc_stripe/./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js","webpack://wc_stripe/./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/installments/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/offsite-notice/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/payment-method-label/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/payment-method/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/radio-option/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/use-process-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/applepay/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/applepay/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/bootstrap/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/custom-card-form.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/simple/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/stripe-card-form.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/payment-element.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/error-boundary.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/button.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/constants.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-error-message.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-payment-request.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-payments-client.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/util.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-after-process-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-breakpoint-width.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-deferred-payment-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-exported-values.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-payment-events.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-payment-request.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-process-checkout-error.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-process-payment-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-setup-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-stripe-error.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/use-link-icon.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/use-link.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/affirm.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/afterpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/alipay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/bancontact.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/becs.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/blik.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/input-codes.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/timer.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/boleto.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/eps.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/fpx.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/giropay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/grabpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-after-process-local-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-create-source.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-validate-checkout.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/ideal.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/klarna.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/konbini.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/local-payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/multibanco.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/oxxo.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/p24.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/paynow.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/sepa.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/sofort.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/wechat.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/payment-request/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/payment-request/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/saved-card-component.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/util.js","webpack://wc_stripe/./node_modules/classnames/index.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n\t(global = global || self, factory(global.ReactStripe = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n\tReact = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\n\tvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\tvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n\tfunction emptyFunction() {}\n\n\tfunction emptyFunctionWithReset() {}\n\n\temptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n\tvar factoryWithThrowingShims = function () {\n\t  function shim(props, propName, componentName, location, propFullName, secret) {\n\t    if (secret === ReactPropTypesSecret_1) {\n\t      // It is still safe when called from React.\n\t      return;\n\t    }\n\n\t    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n\t    err.name = 'Invariant Violation';\n\t    throw err;\n\t  }\n\t  shim.isRequired = shim;\n\n\t  function getShim() {\n\t    return shim;\n\t  }\n\t  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\t  var ReactPropTypes = {\n\t    array: shim,\n\t    bool: shim,\n\t    func: shim,\n\t    number: shim,\n\t    object: shim,\n\t    string: shim,\n\t    symbol: shim,\n\t    any: shim,\n\t    arrayOf: getShim,\n\t    element: shim,\n\t    elementType: shim,\n\t    instanceOf: getShim,\n\t    node: shim,\n\t    objectOf: getShim,\n\t    oneOf: getShim,\n\t    oneOfType: getShim,\n\t    shape: getShim,\n\t    exact: getShim,\n\t    checkPropTypes: emptyFunctionWithReset,\n\t    resetWarningCache: emptyFunction\n\t  };\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\t  return ReactPropTypes;\n\t};\n\n\tvar propTypes = createCommonjsModule(function (module) {\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t{\n\t  // By explicitly using `prop-types` you are opting into new production behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  module.exports = factoryWithThrowingShims();\n\t}\n\t});\n\n\tfunction ownKeys(object, enumerableOnly) {\n\t  var keys = Object.keys(object);\n\n\t  if (Object.getOwnPropertySymbols) {\n\t    var symbols = Object.getOwnPropertySymbols(object);\n\n\t    if (enumerableOnly) {\n\t      symbols = symbols.filter(function (sym) {\n\t        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n\t      });\n\t    }\n\n\t    keys.push.apply(keys, symbols);\n\t  }\n\n\t  return keys;\n\t}\n\n\tfunction _objectSpread2(target) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    var source = arguments[i] != null ? arguments[i] : {};\n\n\t    if (i % 2) {\n\t      ownKeys(Object(source), true).forEach(function (key) {\n\t        _defineProperty(target, key, source[key]);\n\t      });\n\t    } else if (Object.getOwnPropertyDescriptors) {\n\t      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n\t    } else {\n\t      ownKeys(Object(source)).forEach(function (key) {\n\t        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n\t      });\n\t    }\n\t  }\n\n\t  return target;\n\t}\n\n\tfunction _typeof(obj) {\n\t  \"@babel/helpers - typeof\";\n\n\t  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n\t    _typeof = function (obj) {\n\t      return typeof obj;\n\t    };\n\t  } else {\n\t    _typeof = function (obj) {\n\t      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t    };\n\t  }\n\n\t  return _typeof(obj);\n\t}\n\n\tfunction _defineProperty(obj, key, value) {\n\t  if (key in obj) {\n\t    Object.defineProperty(obj, key, {\n\t      value: value,\n\t      enumerable: true,\n\t      configurable: true,\n\t      writable: true\n\t    });\n\t  } else {\n\t    obj[key] = value;\n\t  }\n\n\t  return obj;\n\t}\n\n\tfunction _slicedToArray(arr, i) {\n\t  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n\t}\n\n\tfunction _arrayWithHoles(arr) {\n\t  if (Array.isArray(arr)) return arr;\n\t}\n\n\tfunction _iterableToArrayLimit(arr, i) {\n\t  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n\t  if (_i == null) return;\n\t  var _arr = [];\n\t  var _n = true;\n\t  var _d = false;\n\n\t  var _s, _e;\n\n\t  try {\n\t    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n\t      _arr.push(_s.value);\n\n\t      if (i && _arr.length === i) break;\n\t    }\n\t  } catch (err) {\n\t    _d = true;\n\t    _e = err;\n\t  } finally {\n\t    try {\n\t      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n\t    } finally {\n\t      if (_d) throw _e;\n\t    }\n\t  }\n\n\t  return _arr;\n\t}\n\n\tfunction _unsupportedIterableToArray(o, minLen) {\n\t  if (!o) return;\n\t  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\t  var n = Object.prototype.toString.call(o).slice(8, -1);\n\t  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n\t  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n\t  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n\t}\n\n\tfunction _arrayLikeToArray(arr, len) {\n\t  if (len == null || len > arr.length) len = arr.length;\n\n\t  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n\t  return arr2;\n\t}\n\n\tfunction _nonIterableRest() {\n\t  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n\t}\n\n\tvar usePrevious = function usePrevious(value) {\n\t  var ref = React.useRef(value);\n\t  React.useEffect(function () {\n\t    ref.current = value;\n\t  }, [value]);\n\t  return ref.current;\n\t};\n\n\tvar isUnknownObject = function isUnknownObject(raw) {\n\t  return raw !== null && _typeof(raw) === 'object';\n\t};\n\tvar isPromise = function isPromise(raw) {\n\t  return isUnknownObject(raw) && typeof raw.then === 'function';\n\t}; // We are using types to enforce the `stripe` prop in this lib,\n\t// but in an untyped integration `stripe` could be anything, so we need\n\t// to do some sanity validation to prevent type errors.\n\n\tvar isStripe = function isStripe(raw) {\n\t  return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n\t};\n\n\tvar PLAIN_OBJECT_STR = '[object Object]';\n\tvar isEqual = function isEqual(left, right) {\n\t  if (!isUnknownObject(left) || !isUnknownObject(right)) {\n\t    return left === right;\n\t  }\n\n\t  var leftArray = Array.isArray(left);\n\t  var rightArray = Array.isArray(right);\n\t  if (leftArray !== rightArray) return false;\n\t  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n\t  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n\t  if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n\t  // fallback to reference check.\n\n\t  if (!leftPlainObject && !leftArray) return left === right;\n\t  var leftKeys = Object.keys(left);\n\t  var rightKeys = Object.keys(right);\n\t  if (leftKeys.length !== rightKeys.length) return false;\n\t  var keySet = {};\n\n\t  for (var i = 0; i < leftKeys.length; i += 1) {\n\t    keySet[leftKeys[i]] = true;\n\t  }\n\n\t  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n\t    keySet[rightKeys[_i]] = true;\n\t  }\n\n\t  var allKeys = Object.keys(keySet);\n\n\t  if (allKeys.length !== leftKeys.length) {\n\t    return false;\n\t  }\n\n\t  var l = left;\n\t  var r = right;\n\n\t  var pred = function pred(key) {\n\t    return isEqual(l[key], r[key]);\n\t  };\n\n\t  return allKeys.every(pred);\n\t};\n\n\tvar extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n\t  if (!isUnknownObject(options)) {\n\t    return null;\n\t  }\n\n\t  return Object.keys(options).reduce(function (newOptions, key) {\n\t    var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n\t    if (immutableKeys.includes(key)) {\n\t      if (isUpdated) {\n\t        console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n\t      }\n\n\t      return newOptions;\n\t    }\n\n\t    if (!isUpdated) {\n\t      return newOptions;\n\t    }\n\n\t    return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n\t  }, null);\n\t};\n\n\tvar INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n\t// integration `stripe` could be anything, so we need to do some sanity\n\t// validation to prevent type errors.\n\n\tvar validateStripe = function validateStripe(maybeStripe) {\n\t  if (maybeStripe === null || isStripe(maybeStripe)) {\n\t    return maybeStripe;\n\t  }\n\n\t  throw new Error(INVALID_STRIPE_ERROR);\n\t};\n\n\tvar parseStripeProp = function parseStripeProp(raw) {\n\t  if (isPromise(raw)) {\n\t    return {\n\t      tag: 'async',\n\t      stripePromise: Promise.resolve(raw).then(validateStripe)\n\t    };\n\t  }\n\n\t  var stripe = validateStripe(raw);\n\n\t  if (stripe === null) {\n\t    return {\n\t      tag: 'empty'\n\t    };\n\t  }\n\n\t  return {\n\t    tag: 'sync',\n\t    stripe: stripe\n\t  };\n\t};\n\n\tvar ElementsContext = /*#__PURE__*/React.createContext(null);\n\tElementsContext.displayName = 'ElementsContext';\n\tvar parseElementsContext = function parseElementsContext(ctx, useCase) {\n\t  if (!ctx) {\n\t    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n\t  }\n\n\t  return ctx;\n\t};\n\tvar CartElementContext = /*#__PURE__*/React.createContext(null);\n\tCartElementContext.displayName = 'CartElementContext';\n\tvar parseCartElementContext = function parseCartElementContext(ctx, useCase) {\n\t  if (!ctx) {\n\t    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n\t  }\n\n\t  return ctx;\n\t};\n\t/**\n\t * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n\t * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n\t *\n\t * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n\t * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n\t * Pass the returned `Promise` to `Elements`.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n\t */\n\n\tvar Elements = function Elements(_ref) {\n\t  var rawStripeProp = _ref.stripe,\n\t      options = _ref.options,\n\t      children = _ref.children;\n\t  var parsed = React.useMemo(function () {\n\t    return parseStripeProp(rawStripeProp);\n\t  }, [rawStripeProp]);\n\n\t  var _React$useState = React.useState(null),\n\t      _React$useState2 = _slicedToArray(_React$useState, 2),\n\t      cart = _React$useState2[0],\n\t      setCart = _React$useState2[1];\n\n\t  var _React$useState3 = React.useState(null),\n\t      _React$useState4 = _slicedToArray(_React$useState3, 2),\n\t      cartState = _React$useState4[0],\n\t      setCartState = _React$useState4[1]; // For a sync stripe instance, initialize into context\n\n\n\t  var _React$useState5 = React.useState(function () {\n\t    return {\n\t      stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n\t      elements: parsed.tag === 'sync' ? parsed.stripe.elements(options) : null\n\t    };\n\t  }),\n\t      _React$useState6 = _slicedToArray(_React$useState5, 2),\n\t      ctx = _React$useState6[0],\n\t      setContext = _React$useState6[1];\n\n\t  React.useEffect(function () {\n\t    var isMounted = true;\n\n\t    var safeSetContext = function safeSetContext(stripe) {\n\t      setContext(function (ctx) {\n\t        // no-op if we already have a stripe instance (https://github.com/stripe/react-stripe-js/issues/296)\n\t        if (ctx.stripe) return ctx;\n\t        return {\n\t          stripe: stripe,\n\t          elements: stripe.elements(options)\n\t        };\n\t      });\n\t    }; // For an async stripePromise, store it in context once resolved\n\n\n\t    if (parsed.tag === 'async' && !ctx.stripe) {\n\t      parsed.stripePromise.then(function (stripe) {\n\t        if (stripe && isMounted) {\n\t          // Only update Elements context if the component is still mounted\n\t          // and stripe is not null. We allow stripe to be null to make\n\t          // handling SSR easier.\n\t          safeSetContext(stripe);\n\t        }\n\t      });\n\t    } else if (parsed.tag === 'sync' && !ctx.stripe) {\n\t      // Or, handle a sync stripe instance going from null -> populated\n\t      safeSetContext(parsed.stripe);\n\t    }\n\n\t    return function () {\n\t      isMounted = false;\n\t    };\n\t  }, [parsed, ctx, options]); // Warn on changes to stripe prop\n\n\t  var prevStripe = usePrevious(rawStripeProp);\n\t  React.useEffect(function () {\n\t    if (prevStripe !== null && prevStripe !== rawStripeProp) {\n\t      console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n\t    }\n\t  }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n\t  var prevOptions = usePrevious(options);\n\t  React.useEffect(function () {\n\t    if (!ctx.elements) {\n\t      return;\n\t    }\n\n\t    var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n\t    if (updates) {\n\t      ctx.elements.update(updates);\n\t    }\n\t  }, [options, prevOptions, ctx.elements]); // Attach react-stripe-js version to stripe.js instance\n\n\t  React.useEffect(function () {\n\t    var anyStripe = ctx.stripe;\n\n\t    if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n\t      return;\n\t    }\n\n\t    anyStripe._registerWrapper({\n\t      name: 'react-stripe-js',\n\t      version: \"1.14.2\"\n\t    });\n\n\t    anyStripe.registerAppInfo({\n\t      name: 'react-stripe-js',\n\t      version: \"1.14.2\",\n\t      url: 'https://stripe.com/docs/stripe-js/react'\n\t    });\n\t  }, [ctx.stripe]);\n\t  return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n\t    value: ctx\n\t  }, /*#__PURE__*/React.createElement(CartElementContext.Provider, {\n\t    value: {\n\t      cart: cart,\n\t      setCart: setCart,\n\t      cartState: cartState,\n\t      setCartState: setCartState\n\t    }\n\t  }, children));\n\t};\n\tElements.propTypes = {\n\t  stripe: propTypes.any,\n\t  options: propTypes.object\n\t};\n\tvar useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n\t  var ctx = React.useContext(ElementsContext);\n\t  return parseElementsContext(ctx, useCaseMessage);\n\t};\n\tvar useCartElementContextWithUseCase = function useCartElementContextWithUseCase(useCaseMessage) {\n\t  var ctx = React.useContext(CartElementContext);\n\t  return parseCartElementContext(ctx, useCaseMessage);\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n\t */\n\n\tvar useElements = function useElements() {\n\t  var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n\t      elements = _useElementsContextWi.elements;\n\n\t  return elements;\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n\t */\n\n\tvar useStripe = function useStripe() {\n\t  var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n\t      stripe = _useElementsContextWi2.stripe;\n\n\t  return stripe;\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/payments/checkout/cart-element\n\t */\n\n\tvar useCartElement = function useCartElement() {\n\t  var _useCartElementContex = useCartElementContextWithUseCase('calls useCartElement()'),\n\t      cart = _useCartElementContex.cart;\n\n\t  return cart;\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/payments/checkout/cart-element\n\t */\n\n\tvar useCartElementState = function useCartElementState() {\n\t  var _useCartElementContex2 = useCartElementContextWithUseCase('calls useCartElementState()'),\n\t      cartState = _useCartElementContex2.cartState;\n\n\t  return cartState;\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n\t */\n\n\tvar ElementsConsumer = function ElementsConsumer(_ref2) {\n\t  var children = _ref2.children;\n\t  var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n\t  return children(ctx);\n\t};\n\tElementsConsumer.propTypes = {\n\t  children: propTypes.func.isRequired\n\t};\n\n\tvar useCallbackReference = function useCallbackReference(cb) {\n\t  var ref = React.useRef(cb);\n\t  React.useEffect(function () {\n\t    ref.current = cb;\n\t  }, [cb]);\n\t  return function () {\n\t    if (ref.current) {\n\t      ref.current.apply(ref, arguments);\n\t    }\n\t  };\n\t};\n\n\tvar noop = function noop() {};\n\n\tvar capitalized = function capitalized(str) {\n\t  return str.charAt(0).toUpperCase() + str.slice(1);\n\t};\n\n\tvar createElementComponent = function createElementComponent(type, isServer) {\n\t  var displayName = \"\".concat(capitalized(type), \"Element\");\n\n\t  var ClientElement = function ClientElement(_ref) {\n\t    var id = _ref.id,\n\t        className = _ref.className,\n\t        _ref$options = _ref.options,\n\t        options = _ref$options === void 0 ? {} : _ref$options,\n\t        _ref$onBlur = _ref.onBlur,\n\t        onBlur = _ref$onBlur === void 0 ? noop : _ref$onBlur,\n\t        _ref$onFocus = _ref.onFocus,\n\t        onFocus = _ref$onFocus === void 0 ? noop : _ref$onFocus,\n\t        _ref$onReady = _ref.onReady,\n\t        onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n\t        _ref$onChange = _ref.onChange,\n\t        onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n\t        _ref$onEscape = _ref.onEscape,\n\t        onEscape = _ref$onEscape === void 0 ? noop : _ref$onEscape,\n\t        _ref$onClick = _ref.onClick,\n\t        onClick = _ref$onClick === void 0 ? noop : _ref$onClick,\n\t        _ref$onLoadError = _ref.onLoadError,\n\t        onLoadError = _ref$onLoadError === void 0 ? noop : _ref$onLoadError,\n\t        _ref$onLoaderStart = _ref.onLoaderStart,\n\t        onLoaderStart = _ref$onLoaderStart === void 0 ? noop : _ref$onLoaderStart,\n\t        _ref$onNetworksChange = _ref.onNetworksChange,\n\t        onNetworksChange = _ref$onNetworksChange === void 0 ? noop : _ref$onNetworksChange,\n\t        _ref$onCheckout = _ref.onCheckout,\n\t        onCheckout = _ref$onCheckout === void 0 ? noop : _ref$onCheckout,\n\t        _ref$onLineItemClick = _ref.onLineItemClick,\n\t        onLineItemClick = _ref$onLineItemClick === void 0 ? noop : _ref$onLineItemClick;\n\n\t    var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n\t        elements = _useElementsContextWi.elements;\n\n\t    var elementRef = React.useRef(null);\n\t    var domNode = React.useRef(null);\n\n\t    var _useCartElementContex = useCartElementContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n\t        setCart = _useCartElementContex.setCart,\n\t        setCartState = _useCartElementContex.setCartState;\n\n\t    var callOnReady = useCallbackReference(onReady);\n\t    var callOnBlur = useCallbackReference(onBlur);\n\t    var callOnFocus = useCallbackReference(onFocus);\n\t    var callOnClick = useCallbackReference(onClick);\n\t    var callOnChange = useCallbackReference(onChange);\n\t    var callOnEscape = useCallbackReference(onEscape);\n\t    var callOnLoadError = useCallbackReference(onLoadError);\n\t    var callOnLoaderStart = useCallbackReference(onLoaderStart);\n\t    var callOnNetworksChange = useCallbackReference(onNetworksChange);\n\t    var callOnCheckout = useCallbackReference(onCheckout);\n\t    var callOnLineItemClick = useCallbackReference(onLineItemClick);\n\t    React.useLayoutEffect(function () {\n\t      if (elementRef.current == null && elements && domNode.current != null) {\n\t        var element = elements.create(type, options);\n\n\t        if (type === 'cart' && setCart) {\n\t          // we know that elements.create return value must be of type StripeCartElement if type is 'cart',\n\t          // we need to cast because typescript is not able to infer which overloaded method is used based off param type\n\t          setCart(element);\n\t        }\n\n\t        elementRef.current = element;\n\t        element.mount(domNode.current);\n\t        element.on('ready', function (event) {\n\t          if (type === 'cart') {\n\t            // we know that elements.on event must be of type StripeCartPayloadEvent if type is 'cart'\n\t            // we need to cast because typescript is not able to infer which overloaded method is used based off param type\n\t            if (setCartState) {\n\t              setCartState(event);\n\t            } // the cart ready event returns a CartStatePayload instead of the CartElement\n\n\n\t            callOnReady(event);\n\t          } else {\n\t            callOnReady(element);\n\t          }\n\t        });\n\t        element.on('change', function (event) {\n\t          if (type === 'cart' && setCartState) {\n\t            // we know that elements.on event must be of type StripeCartPayloadEvent if type is 'cart'\n\t            // we need to cast because typescript is not able to infer which overloaded method is used based off param type\n\t            setCartState(event);\n\t          }\n\n\t          callOnChange(event);\n\t        }); // Users can pass an onBlur prop on any Element component\n\t        // just as they could listen for the `blur` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('blur', callOnBlur); // Users can pass an onFocus prop on any Element component\n\t        // just as they could listen for the `focus` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('focus', callOnFocus); // Users can pass an onEscape prop on any Element component\n\t        // just as they could listen for the `escape` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('escape', callOnEscape); // Users can pass an onLoadError prop on any Element component\n\t        // just as they could listen for the `loaderror` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('loaderror', callOnLoadError); // Users can pass an onLoaderStart prop on any Element component\n\t        // just as they could listen for the `loaderstart` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('loaderstart', callOnLoaderStart); // Users can pass an onNetworksChange prop on any Element component\n\t        // just as they could listen for the `networkschange` event on any Element,\n\t        // but only the Card and CardNumber Elements will trigger the event.\n\n\t        element.on('networkschange', callOnNetworksChange); // Users can pass an onClick prop on any Element component\n\t        // just as they could listen for the `click` event on any Element,\n\t        // but only the PaymentRequestButton will actually trigger the event.\n\n\t        element.on('click', callOnClick); // Users can pass an onCheckout prop on any Element component\n\t        // just as they could listen for the `checkout` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('checkout', function (event) {\n\t          if (type === 'cart' && setCartState) {\n\t            // we know that elements.on event must be of type StripeCartPayloadEvent if type is 'cart'\n\t            // we need to cast because typescript is not able to infer which overloaded method is used based off param type\n\t            setCartState(event);\n\t          }\n\n\t          callOnCheckout(event);\n\t        }); // Users can pass an onLineItemClick prop on any Element component\n\t        // just as they could listen for the `lineitemclick` event on any Element,\n\t        // but only certain Elements will trigger the event.\n\n\t        element.on('lineitemclick', callOnLineItemClick);\n\t      }\n\t    });\n\t    var prevOptions = usePrevious(options);\n\t    React.useEffect(function () {\n\t      if (!elementRef.current) {\n\t        return;\n\t      }\n\n\t      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n\t      if (updates) {\n\t        elementRef.current.update(updates);\n\t      }\n\t    }, [options, prevOptions]);\n\t    React.useLayoutEffect(function () {\n\t      return function () {\n\t        if (elementRef.current) {\n\t          elementRef.current.destroy();\n\t          elementRef.current = null;\n\t        }\n\t      };\n\t    }, []);\n\t    return /*#__PURE__*/React.createElement(\"div\", {\n\t      id: id,\n\t      className: className,\n\t      ref: domNode\n\t    });\n\t  }; // Only render the Element wrapper in a server environment.\n\n\n\t  var ServerElement = function ServerElement(props) {\n\t    // Validate that we are in the right context by calling useElementsContextWithUseCase.\n\t    useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n\t    useCartElementContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n\t    var id = props.id,\n\t        className = props.className;\n\t    return /*#__PURE__*/React.createElement(\"div\", {\n\t      id: id,\n\t      className: className\n\t    });\n\t  };\n\n\t  var Element = isServer ? ServerElement : ClientElement;\n\t  Element.propTypes = {\n\t    id: propTypes.string,\n\t    className: propTypes.string,\n\t    onChange: propTypes.func,\n\t    onBlur: propTypes.func,\n\t    onFocus: propTypes.func,\n\t    onReady: propTypes.func,\n\t    onEscape: propTypes.func,\n\t    onClick: propTypes.func,\n\t    onLoadError: propTypes.func,\n\t    onLoaderStart: propTypes.func,\n\t    onNetworksChange: propTypes.func,\n\t    onCheckout: propTypes.func,\n\t    onLineItemClick: propTypes.func,\n\t    options: propTypes.object\n\t  };\n\t  Element.displayName = displayName;\n\t  Element.__elementType = type;\n\t  return Element;\n\t};\n\n\tvar isServer = typeof window === 'undefined';\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardElement = createElementComponent('card', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardNumberElement = createElementComponent('cardNumber', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardExpiryElement = createElementComponent('cardExpiry', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardCvcElement = createElementComponent('cardCvc', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar FpxBankElement = createElementComponent('fpxBank', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar IbanElement = createElementComponent('iban', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar IdealBankElement = createElementComponent('idealBank', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar P24BankElement = createElementComponent('p24Bank', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar EpsBankElement = createElementComponent('epsBank', isServer);\n\tvar PaymentElement = createElementComponent('payment', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AddressElement = createElementComponent('address', isServer);\n\t/**\n\t * @deprecated\n\t * Use `AddressElement` instead.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/elements/cart-element\n\t */\n\n\tvar CartElement = createElementComponent('cart', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar PaymentMethodMessagingElement = createElementComponent('paymentMethodMessaging', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n\texports.AddressElement = AddressElement;\n\texports.AffirmMessageElement = AffirmMessageElement;\n\texports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n\texports.AuBankAccountElement = AuBankAccountElement;\n\texports.CardCvcElement = CardCvcElement;\n\texports.CardElement = CardElement;\n\texports.CardExpiryElement = CardExpiryElement;\n\texports.CardNumberElement = CardNumberElement;\n\texports.CartElement = CartElement;\n\texports.Elements = Elements;\n\texports.ElementsConsumer = ElementsConsumer;\n\texports.EpsBankElement = EpsBankElement;\n\texports.FpxBankElement = FpxBankElement;\n\texports.IbanElement = IbanElement;\n\texports.IdealBankElement = IdealBankElement;\n\texports.LinkAuthenticationElement = LinkAuthenticationElement;\n\texports.P24BankElement = P24BankElement;\n\texports.PaymentElement = PaymentElement;\n\texports.PaymentMethodMessagingElement = PaymentMethodMessagingElement;\n\texports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n\texports.ShippingAddressElement = ShippingAddressElement;\n\texports.useCartElement = useCartElement;\n\texports.useCartElementState = useCartElementState;\n\texports.useElements = useElements;\n\texports.useStripe = useStripe;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.42.1\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","export * from './payment-method-label';\nexport * from './radio-option';\nexport * from './payment-method';\nexport * from './installments';\nexport * from './offsite-notice';","import {useState, useRef, useEffect} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport classnames from 'classnames';\nimport {StripeError, getRoute} from \"../../../payment-methods/util\";\nimport './style.scss';\n\nexport const Installments = (\n    {\n        paymentMethodName,\n        cardFormComplete = false,\n        addPaymentMethodData = null,\n        getPaymentMethod\n    }) => {\n    const [installments, setInstallments] = useState(null);\n    const [installment, setInstallment] = useState('');\n    const [loading, setLoading] = useState(false);\n    const onInstallmentSelected = (e) => {\n        setInstallment(e.target.value);\n        if (addPaymentMethodData) {\n            addPaymentMethodData({_stripe_installment_plan: e.target.value});\n        }\n    }\n\n    useEffect(() => {\n        if (cardFormComplete) {\n            // fetch the installments\n            setLoading(true);\n            setInstallment('');\n\n            getPaymentMethod().then(async paymentMethod => {\n                if (paymentMethod) {\n                    // fetch the installment plans\n                    const result = await apiFetch({\n                        url: getRoute('create/payment_intent'),\n                        method: 'POST',\n                        data: {payment_method_id: paymentMethod, payment_method: paymentMethodName}\n                    });\n                    setInstallments(result.installments);\n                    if (Object.keys(result.installments)?.length) {\n                        setInstallment(Object.keys(result.installments)[0]);\n                    }\n                }\n            }).catch(error => {\n                console.log(error);\n            }).finally(() => setLoading(false));\n        }\n    }, [cardFormComplete, getPaymentMethod]);\n\n    return (\n        <div className='wc-stripe-installments__container'>\n            <label className={'wc-stripe-installments__label'}>\n                {__('Pay in installments:', 'woo-stripe-payment')}\n                <Loader loading={loading}/>\n            </label>\n            <InstallmentOptions\n                installment={installment}\n                onChange={onInstallmentSelected}\n                installments={installments}\n                isLoading={loading}/>\n        </div>\n    )\n}\n\nconst InstallmentOptions = ({installment, installments, onChange, isLoading}) => {\n    let OPTIONS = null;\n    if (isLoading) {\n        OPTIONS = <option value=\"\" disabled>{__('Loading installments...', 'woo-stripe-payment')}</option>\n    } else {\n        if (installments === null) {\n            OPTIONS = <option value=\"\" disabled>{__('Fill out card form for eligibility.', 'woo-stripe-payment')}</option>\n        } else {\n            OPTIONS = Object.keys(installments).map(id => {\n                return <option key={id} value={id} dangerouslySetInnerHTML={{__html: installments[id].text}}/>\n            });\n        }\n    }\n    return (\n        <select\n            value={installment}\n            onChange={onChange}\n            className={classnames('wc-stripe-installment__options', {loading: isLoading})}>\n            {OPTIONS}\n        </select>\n    );\n}\n\nconst Loader = ({loading}) => {\n    return (\n        <div className=\"wc-stripe-installment-loader__container\">\n            {loading && <div className=\"wc-stripe-installment-loader\">\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>}\n        </div>\n    );\n}\nexport default Installments;","import {__, sprintf} from \"@wordpress/i18n\";\nimport {getSetting} from '@woocommerce/settings'\n\nconst data = getSetting('stripeGeneralData');\n\nexport const OffsiteNotice = (\n    {\n        paymentText,\n        buttonText = __('', 'woo-stripe-payment')\n    }\n) => {\n    return (\n        <div className=\"wc-stripe-blocks-offsite-notice\">\n            <div>\n                <img src={`${data.assetsUrl}/img/offsite.svg`}/>\n                <p>{sprintf(__('After clicking \"%1$s\", you will be redirected to %2$s to complete your purchase securely.', 'woo-stripe-payment'), buttonText, paymentText)}</p>\n            </div>\n        </div>\n    )\n}","import './style.scss';\n\nexport const PaymentMethodLabel = ({title, icons, paymentMethod, ...props}) => {\n    const {PaymentMethodLabel: Label, PaymentMethodIcons: Icons} = props.components;\n    if (!Array.isArray(icons)) {\n        icons = [icons];\n    }\n    return (\n        <span className={`wc-stripe-label-container ${paymentMethod}`}>\n            <Label text={title}/>\n            <Icons icons={icons} align='left'/>\n        </span>\n    )\n}","import {useEffect, useRef} from '@wordpress/element';\n\nexport const PaymentMethod = ({getData, content, ...props}) => {\n    const Content = content;\n    const desc = getData('description');\n    const el = useRef(null);\n    useEffect(() => {\n        if (el.current && el.current.childNodes.length == 0) {\n            el.current.classList.add('no-content');\n        }\n    });\n    return (\n        <>\n            {desc && <Description desc={desc} payment_method={getData('name')}/>}\n            <div ref={el} className='wc-stripe-blocks-payment-method-content'>\n                <Content {...{...props, getData}}/>\n            </div>\n        </>);\n}\n\nconst Description = ({desc, payment_method}) => {\n    return (\n        <div className={`wc-stripe-blocks-payment-method__desc ${payment_method}`}>\n            <p>{desc}</p>\n        </div>\n    )\n}","import classnames from 'classnames';\n\nexport const RadioControlOption = ({checked, onChange, value, label}) => {\n    return (\n        <label\n            className={classnames('wc-stripe-blocks-radio-control__option', {\n                'wc-stripe-blocks-radio-control__option-checked': checked\n            })}>\n            <input\n                className='wc-stripe-blocks-radio-control__input'\n                type='radio'\n                value={value}\n                checked={checked}\n                onChange={(event) => onChange(event.target.value)}/>\n            <div className='wc-stripe-blocks-radio-control__label'>\n                <span>{label}</span>\n            </div>\n        </label>\n    )\n}\n\nexport default RadioControlOption;","export * from './use-process-payment';","import {useEffect, useRef, useCallback} from '@wordpress/element';\nimport {useStripe} from '@stripe/react-stripe-js';\nimport {ensureSuccessResponse, ensureErrorResponse, isNextActionRequired, handleCardAction, getRoute, StripeError} from \"../../util\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nexport const useProcessPayment = (\n    {\n        onCheckoutAfterProcessingWithSuccess,\n        responseTypes,\n        paymentMethod,\n        billingAddress\n\n    }) => {\n    const stripe = useStripe();\n    const currentData = useRef({billingAddress});\n    useEffect(() => {\n        currentData.current = {...currentData.current, billingAddress};\n    });\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\n            const result = isNextActionRequired(redirectUrl);\n            if (result) {\n                if (result.type === 'intent') {\n                    return await processPaymentIntent(result, stripe);\n                } else {\n                    return await processSetupIntent(result, stripe);\n                }\n            }\n        });\n        return () => unsubscribe();\n    }, [\n        onCheckoutAfterProcessingWithSuccess,\n        responseTypes,\n        stripe,\n        processPaymentIntent,\n        processSetupIntent\n    ]);\n\n    const processPaymentIntent = useCallback(async (data, stripe) => {\n        const {billingAddress} = currentData.current;\n        const {client_secret, order_id, order_key} = data;\n        try {\n            let response = await stripe.collectBankAccountForPayment({\n                clientSecret: client_secret,\n                params: {\n                    payment_method_type: 'us_bank_account',\n                    payment_method_data: {\n                        billing_details: {\n                            name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n                            email: billingAddress.email,\n                        },\n                    },\n                }\n            });\n            if (response.error) {\n                throw response.error;\n            }\n            if (response.paymentIntent.status === \"requires_confirmation\") {\n                let response = await stripe.confirmUsBankAccountPayment(client_secret);\n                if (response.error) {\n                    throw response.error;\n                }\n                if (response.paymentIntent.status === 'processing') {\n                    let result = await apiFetch({\n                        url: getRoute('process/payment'),\n                        method: 'POST',\n                        data: {order_id, order_key, stripe_ach_token_key: response.paymentIntent.payment_method}\n                    });\n                    if (result.messages) {\n                        throw result.messages;\n                    }\n                    return ensureSuccessResponse(responseTypes, {\n                        redirectUrl: result.redirect\n                    });\n                } else if (response.paymentIntent.status === 'requires_action') {\n                    throw {code: 'ach_instant_only'};\n                }\n            }\n        } catch (err) {\n            return ensureErrorResponse(responseTypes, err);\n        }\n    }, []);\n\n    const processSetupIntent = useCallback(async (data, stripe) => {\n        const {billingAddress} = currentData.current;\n        const {client_secret, order_id, order_key} = data;\n        try {\n            let response = await stripe.collectBankAccountForSetup({\n                clientSecret: client_secret,\n                params: {\n                    payment_method_type: 'us_bank_account',\n                    payment_method_data: {\n                        billing_details: {\n                            name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n                            email: billingAddress.email,\n                        },\n                    },\n                }\n            });\n            if (response.error) {\n                throw response.error;\n            }\n            if (response.setupIntent.status === \"requires_confirmation\") {\n                let {setupIntent, error} = await stripe.confirmUsBankAccountSetup(client_secret);\n                if (error) {\n                    throw error;\n                }\n                if (setupIntent.status === 'succeeded') {\n                    let response = await apiFetch({\n                        url: getRoute('process/payment'),\n                        method: 'POST',\n                        data: {order_id, order_key, stripe_ach_token_key: setupIntent.payment_method}\n                    });\n                    if (response.messages) {\n                        throw response.messages;\n                    }\n                    return ensureSuccessResponse(responseTypes, {\n                        redirectUrl: response.redirect\n                    });\n                } else if (setupIntent.status === 'requires_action') {\n                    throw {code: 'ach_instant_only'};\n                }\n            }\n        } catch (err) {\n            console.log(err);\n            return ensureErrorResponse(responseTypes, err);\n        }\n    }, []);\n}","import './styles.scss';\nimport './payment-method'","import {useState} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {getSettings, initStripe as loadStripe} from '../util';\nimport {PaymentMethodLabel, PaymentMethod} from '../../components/checkout';\nimport SavedCardComponent from '../saved-card-component';\nimport {useCreateLinkToken, useInitializePlaid, useProcessPayment} from './hooks';\nimport {useProcessCheckoutError} from \"../hooks\";\n\nconst getData = getSettings('stripe_ach_data');\n\nconst ACHPaymentContent = (\n    {\n        eventRegistration,\n        components,\n        emitResponse,\n        onSubmit,\n        billing,\n        ...props\n    }) => {\n    const {responseTypes} = emitResponse;\n    const {\n        onPaymentProcessing,\n        onCheckoutAfterProcessingWithError,\n        onCheckoutAfterProcessingWithSuccess\n    } = eventRegistration;\n\n    useProcessCheckoutError({\n        responseTypes,\n        subscriber: onCheckoutAfterProcessingWithError\n    });\n\n\n    useProcessPayment({\n        onCheckoutAfterProcessingWithSuccess,\n        responseTypes,\n        paymentMethod: getData('name'),\n        billingAddress: billing.billingData\n    });\n    return (\n        <div className={'wc-stripe-ach__container'}>\n            <Mandate text={getData('mandateText')}/>\n        </div>\n    )\n}\n\nconst ACHComponent = (props) => {\n    return (\n        <Elements stripe={loadStripe}>\n            <ACHPaymentContent {...props}/>\n        </Elements>\n    )\n}\n\nconst Mandate = ({text}) => {\n    return (\n        <p className={'wc-stripe-ach__mandate'}>\n            {text}\n        </p>\n    )\n}\n\nregisterPaymentMethod({\n    name: getData('name'),\n    label: <PaymentMethodLabel title={getData('title')}\n                               paymentMethod={getData('name')}\n                               icons={getData('icons')}/>,\n    ariaLabel: 'ACH Payment',\n    canMakePayment: ({cartTotals}) => cartTotals.currency_code === 'USD',\n    content: <PaymentMethod\n        getData={getData}\n        content={ACHComponent}/>,\n    savedTokenComponent: <SavedCardComponent getData={getData}/>,\n    edit: <ACHComponent/>,\n    placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: false,\n        features: getData('features')\n    }\n})","import './style.scss';\n\nimport './payment-method';","import {useCallback} from '@wordpress/element';\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe as loadStripe, canMakePayment} from \"../util\";\nimport {Elements, PaymentRequestButtonElement, useStripe} from \"@stripe/react-stripe-js\";\nimport ErrorBoundary from \"../error-boundary\";\nimport {\n    usePaymentRequest,\n    useProcessPaymentIntent,\n    useExportedValues,\n    useAfterProcessingPayment,\n    useStripeError,\n    useExpressBreakpointWidth\n} from '../hooks';\n\nconst getData = getSettings('stripe_applepay_data');\n\nconst ApplePayContent = (props) => {\n    return (\n        <ErrorBoundary>\n            <div className='wc-stripe-apple-pay-container'>\n                <Elements stripe={loadStripe}>\n                    <ApplePayButton {...props}/>\n                </Elements>\n            </div>\n        </ErrorBoundary>\n    );\n}\n\nconst ApplePayButton = (\n    {\n        getData,\n        onClick,\n        onClose,\n        billing,\n        shippingData,\n        eventRegistration,\n        emitResponse,\n        onSubmit,\n        activePaymentMethod,\n        ...props\n    }) => {\n    const {onPaymentProcessing} = eventRegistration;\n    const {responseTypes, noticeContexts} = emitResponse;\n    const stripe = useStripe();\n    const [error] = useStripeError();\n    const canPay = (result) => result != null && result.applePay;\n    const exportedValues = useExportedValues();\n    useExpressBreakpointWidth({payment_method: getData('name'), width: 375});\n    const {setPaymentMethod} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        onPaymentProcessing,\n        emitResponse,\n        error,\n        onSubmit,\n        activePaymentMethod,\n        exportedValues\n    });\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        responseTypes,\n        activePaymentMethod,\n        messageContext: noticeContexts.EXPRESS_PAYMENTS\n    });\n    const {paymentRequest} = usePaymentRequest({\n        getData,\n        onClose,\n        stripe,\n        billing,\n        shippingData,\n        setPaymentMethod,\n        exportedValues,\n        canPay\n    });\n\n    const handleClick = useCallback((e) => {\n        if (paymentRequest) {\n            e.preventDefault();\n            onClick();\n            paymentRequest.show();\n        }\n    }, [paymentRequest, onClick]);\n\n    if (paymentRequest) {\n        return (\n            <button\n                className={`apple-pay-button ${getData('buttonStyle')}`}\n                style={{\n                    '-apple-pay-button-type': getData('buttonType')\n                }}\n                onClick={handleClick}/>\n\n        )\n    }\n    return null;\n}\n\nconst ApplePayEdit = ({getData, ...props}) => {\n    return (\n        <div className={'apple-pay-block-editor'}>\n            <img src={getData('editorIcon')}/>\n        </div>\n    )\n}\n\nregisterExpressPaymentMethod({\n    name: getData('name'),\n    canMakePayment: ({cartTotals, ...props}) => {\n        if (getData('isAdmin')) {\n            return true;\n        }\n        const {currency_code: currency, total_price} = cartTotals;\n        return canMakePayment({\n            country: getData('countryCode'),\n            currency: currency.toLowerCase(),\n            total: {\n                label: getData('totalLabel'),\n                amount: parseInt(total_price)\n            }\n        }, (result) => result != null && result.applePay);\n    },\n    content: <ApplePayContent getData={getData}/>,\n    edit: <ApplePayEdit getData={getData}/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n})","import './style.scss';\nimport {registerCreditCardForm} from \"@paymentplugins/stripe/util\";\nimport {CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\nimport {__} from \"@wordpress/i18n\";\n\nconst Bootstrap = ({CardIcon, options, onChange}) => {\n    return (\n        <div className='wc-stripe-bootstrap-form'>\n            <div className='row'>\n                <div className='col-md-6 mb-3'>\n                    <CardNumberElement className='md-form md-outline stripe-input' options={options['cardNumber']}\n                                       onChange={onChange(CardNumberElement)}/>\n                    <label htmlFor=\"stripe-card-number\">{__('Card Number', 'woo-stripe-payment')}</label>\n                    {CardIcon}\n                </div>\n                <div className='col-md-3 mb-3'>\n                    <CardExpiryElement className='md-form md-outline stripe-input' options={options['cardExpiry']}\n                                       onChange={onChange(CardExpiryElement)}/>\n                    <label htmlFor=\"stripe-exp\">{__('Exp', 'woo-stripe-payment')}</label>\n                </div>\n                <div className='col-md-3 mb-3'>\n                    <CardCvcElement className=\"md-form md-outline stripe-input\" options={options['cardCvc']}\n                                    onChange={onChange(CardCvcElement)}/>\n                    <label htmlFor=\"stripe-cvv\">{__('CVV', 'woo-stripe-payment')}</label>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nregisterCreditCardForm({\n    id: 'bootstrap',\n    breakpoint: 475,\n    component: <Bootstrap/>\n})","import {getCreditCardForm} from \"../../util\";\nimport {cloneElement, useRef, useCallback, useEffect, useState} from '@wordpress/element';\nimport {useElements, CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\nimport {sprintf, __} from '@wordpress/i18n';\nimport {useBreakpointWidth} from \"../../hooks\";\n\nconst classes = {\n    focus: 'focused',\n    empty: 'empty',\n    invalid: 'invalid'\n}\n\nconst CustomCardForm = (\n    {\n        getData,\n        onChange: eventChange,\n        onComplete\n    }) => {\n    const [cardType, setCardType] = useState('');\n    const elementOrder = useRef([]);\n    const [container, setContainer] = useState(null);\n    const elements = useElements();\n    const id = getData('customForm');\n    const {component: CardForm = null, breakpoint = 475} = getCreditCardForm(id);\n    const postalCodeEnabled = getData('postalCodeEnabled');\n    const options = {};\n    const elementStatus = useRef({'cardNumber': {}, 'cardExpiry': {}, 'cardCvc': {}});\n    ['cardNumber', 'cardExpiry', 'cardCvc'].forEach(type => {\n        options[type] = {\n            classes,\n            ...getData('cardOptions'),\n            ...getData('customFieldOptions')[type],\n        }\n    });\n    const onChange = (element) => {\n        setElementOrder(element);\n        return (event) => {\n            eventChange(event);\n            elementStatus.current[event.elementType] = event;\n            if (event.elementType === 'cardNumber') {\n                if (event.brand === 'unknown') {\n                    setCardType('');\n                } else {\n                    setCardType(event.brand);\n                }\n            }\n            if (event.complete) {\n                const idx = elementOrder.current.indexOf(element);\n                if (elementOrder.current[idx + 1]) {\n                    const nextElement = elementOrder.current[idx + 1];\n                    elements.getElement(nextElement).focus();\n                }\n            }\n            onComplete(isFormComplete());\n        }\n    }\n\n    const isFormComplete = () => {\n        let status = elementStatus.current;\n        return Object.keys(status).filter(key => !!status[key].complete).length === Object.keys(status).length;\n    }\n\n    const setElementOrder = useCallback((element) => {\n        if (!elementOrder.current.includes(element)) {\n            elementOrder.current.push(element);\n        }\n    }, []);\n\n    useBreakpointWidth({name: 'creditCardForm', width: breakpoint, node: container, className: 'small-form'});\n\n    const getCardIconSrc = useCallback((type) => {\n        for (let id of Object.keys(getData('cards'))) {\n            if (id === type) {\n                return getData('cards')[id];\n            }\n        }\n        return '';\n    }, []);\n\n    if (!CardForm) {\n        return (\n            <div className='wc-stripe-custom-form-error'>\n                <p>{sprintf(__('%s is not a valid blocks Stripe custom form. Please choose another custom form option in the Credit Card Settings.', 'woo-stripe-payment'), getData('customFormLabels')[id])}</p>\n            </div>\n        )\n    }\n    return (\n        <div className={`wc-stripe-custom-form ${id}`} ref={setContainer}>\n            {cloneElement(CardForm, {\n                postalCodeEnabled,\n                options,\n                onChange,\n                CardIcon: <CardIcon type={cardType} src={getCardIconSrc(cardType)}/>\n            })}\n        </div>\n    )\n\n}\n\nconst CardIcon = ({type, src}) => {\n    if (type) {\n        return <img className={`wc-stripe-card ${type}`} src={src}/>\n    }\n    return null;\n}\n\nexport default CustomCardForm;\n","import './style.scss';\nimport {registerCreditCardForm} from \"@paymentplugins/stripe/util\";\nimport {CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\nimport {__} from \"@wordpress/i18n\";\nimport {useEffect, useCallback, useRef} from '@wordpress/element';\n\nconst SimpleForm = ({CardIcon, options, onChange}) => {\n    useEffect(() => {\n    }, []);\n    return (\n        <div className='wc-stripe-simple-form'>\n            <div className=\"row\">\n                <div className=\"field\">\n                    <div className='field-item'>\n                        <CardNumberElement id=\"stripe-card-number\" className=\"input empty\"\n                                           options={options['cardNumber']}\n                                           onChange={onChange(CardNumberElement)}/>\n                        <label htmlFor=\"stripe-card-number\"\n                               data-tid=\"\">{__('Card Number', 'woo-stripe-payment')}</label>\n                        <div className=\"baseline\"></div>\n                        {CardIcon}\n                    </div>\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"field half-width\">\n                    <div className='field-item'>\n                        <CardExpiryElement id=\"stripe-exp\" className=\"input empty\" options={options['cardExpiry']}\n                                           onChange={onChange(CardExpiryElement)}/>\n                        <label htmlFor=\"stripe-exp\"\n                               data-tid=\"\">{__('Expiration', 'woo-stripe-payment')}</label>\n                        <div className=\"baseline\"></div>\n                    </div>\n                </div>\n                <div className=\"field half-width cvc\">\n                    <div className='field-item'>\n                        <CardCvcElement id=\"stripe-cvv\" className=\"input empty\" options={options['cardCvc']}\n                                        onChange={onChange(CardCvcElement)}/>\n                        <label htmlFor=\"stripe-cvv\"\n                               data-tid=\"\">{__('CVV', 'woo-stripe-payment')}</label>\n                        <div className=\"baseline\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nregisterCreditCardForm({\n    id: 'simple',\n    component: <SimpleForm/>,\n    breakpoint: 375\n})","import {CardElement} from \"@stripe/react-stripe-js\";\nimport {isFieldRequired} from \"../../util\";\nimport {useMemo} from '@wordpress/element';\n\nconst StripeCardForm = ({getData, billing, onChange: eventChange, onComplete}) => {\n    const elementStatus = {card: {}};\n    const onChange = (event) => {\n        eventChange(event);\n        elementStatus[event.elementType] = event;\n        onComplete(isFormComplete());\n    }\n    const isFormComplete = () => {\n        return Object.keys(elementStatus).filter(type => !!elementStatus[type].complete).length === Object.keys(elementStatus).length;\n    }\n    const cardOptions = useMemo(() => {\n        return {\n            ...{\n                value: {\n                    postalCode: billing?.billingData?.postcode\n                },\n                hidePostalCode: isFieldRequired('postcode'),\n                iconStyle: 'default'\n            }, ...getData('cardOptions')\n        };\n    }, [billing.billingData]);\n    return (\n        <div className='wc-stripe-inline-form'>\n            <CardElement options={cardOptions} onChange={onChange}/>\n        </div>\n    )\n}\n\nexport default StripeCardForm;","import './style.scss';\n\nexport * from './payment-method';\n\nimport './components/bootstrap';\nimport './components/simple';\n","import {useState, useCallback, useMemo} from '@wordpress/element';\nimport {Elements, PaymentElement, useStripe, useElements} from '@stripe/react-stripe-js';\nimport {\n    getSettings,\n    initStripe as loadStripe\n} from '../util';\n\nimport {Installments} from '../../components/checkout/';\n\nimport {useProcessCheckoutError, useDeferredPaymentIntent} from \"../hooks\";\n\n\nconst getData = getSettings('stripe_cc_data');\n\nconst isSetupCard = total => 0 >= total;\n\nexport const PaymentElementComponent = (props) => {\n    const {cartTotal, currency} = props.billing;\n    let options = {\n        mode: 'payment',\n        ...getData('elementOptions')\n    }\n    if (isSetupCard(cartTotal.value)) {\n        options = {...options, mode: 'setup'}\n    } else {\n        options = {\n            ...options,\n            amount: cartTotal.value,\n            currency: currency?.code?.toLowerCase()\n        }\n    }\n    return (\n        <>\n            <Elements stripe={loadStripe} options={options}>\n                <CardElement {...props}/>\n            </Elements>\n        </>\n    );\n}\n\nconst CardElement = ({onComplete, ...props}) => {\n    const [formComplete, setFormComplete] = useState(false);\n    const installmentsActive = getData('installmentsActive')\n    const elements = useElements();\n    const stripe = useStripe();\n    const {billing: {billingData}, eventRegistration, emitResponse, shouldSavePayment} = props;\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\n    const {responseTypes, noticeContexts} = emitResponse;\n    const name = getData('name');\n    const onChange = useCallback((event) => {\n        setFormComplete(event.complete);\n    }, []);\n    const {createPaymentMethod, addPaymentMethodData} = useDeferredPaymentIntent({\n        billingData,\n        eventRegistration,\n        responseTypes,\n        shouldSavePayment,\n        noticeContexts,\n        name\n    });\n\n    useProcessCheckoutError({\n        responseTypes,\n        subscriber: onCheckoutAfterProcessingWithError,\n        messageContext: noticeContexts.PAYMENTS\n    });\n\n    const getPaymentMethod = useCallback(async () => {\n        let paymentMethod = null;\n        const result = await createPaymentMethod();\n        if (result?.paymentMethod?.id) {\n            paymentMethod = result.paymentMethod.id;\n        }\n        return paymentMethod;\n    }, [createPaymentMethod]);\n\n    const options = {\n        fields: {\n            billingDetails: {address: 'never'}\n        },\n        wallets: {applePay: 'never', googlePay: 'never'}\n    }\n    return (\n        <>\n            <PaymentElement options={options} onChange={onChange}/>\n            {installmentsActive && <Installments\n                paymentMethodName={getData('name')}\n                stripe={stripe}\n                cardFormComplete={formComplete}\n                getPaymentMethod={getPaymentMethod}\n                addPaymentMethodData={addPaymentMethodData}/>}\n        </>\n    )\n}\n\nexport default PaymentElementComponent;","import {useEffect, useState, useCallback, useMemo} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {\n    initStripe as loadStripe,\n    getSettings,\n} from '../util';\nimport {Elements, CardElement, useStripe, useElements, CardNumberElement} from '@stripe/react-stripe-js';\nimport {PaymentMethodLabel, PaymentMethod} from '../../components/checkout';\nimport SavedCardComponent from '../saved-card-component';\nimport CustomCardForm from './components/custom-card-form';\nimport StripeCardForm from \"./components/stripe-card-form\";\nimport {Installments} from '../../components/checkout';\nimport PaymentElementComponent from './payment-element';\nimport {\n    useProcessPaymentIntent,\n    useAfterProcessingPayment,\n    useSetupIntent,\n    useStripeError\n} from \"../hooks\";\n\nconst getData = getSettings('stripe_cc_data');\n\nconst CreditCardContent = (props) => {\n    const [error, setError] = useState(false);\n    useEffect(() => {\n        loadStripe.catch(error => {\n            setError(error);\n        })\n    }, [setError]);\n    if (error) {\n        throw new Error(error);\n    }\n    if (getData('isPaymentElement')) {\n        return (\n            <PaymentElementComponent {...props}/>\n        )\n    }\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <CreditCardElement {...props}/>\n        </Elements>\n    );\n};\n\nconst CreditCardElement = (\n    {\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        eventRegistration,\n        activePaymentMethod,\n        shouldSavePayment\n    }) => {\n    const [error, setError] = useStripeError();\n    const [formComplete, setFormComplete] = useState(false);\n    const {onPaymentProcessing} = eventRegistration;\n    const stripe = useStripe();\n    const elements = useElements();\n    const getPaymentMethodArgs = useCallback(() => {\n        const elType = getData('customFormActive') ? CardNumberElement : CardElement;\n        return {card: elements.getElement(elType)};\n    }, [stripe, elements]);\n\n    const {setupIntent, removeSetupIntent} = useSetupIntent({\n        getData,\n        cartTotal: billing.cartTotal,\n        setError\n    })\n\n    const {getCreatePaymentMethodArgs, addPaymentMethodData} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        error,\n        onPaymentProcessing,\n        shouldSavePayment,\n        setupIntent,\n        removeSetupIntent,\n        getPaymentMethodArgs,\n        activePaymentMethod\n    });\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        responseTypes: emitResponse.responseTypes,\n        activePaymentMethod,\n        shouldSavePayment\n    });\n\n    const onChange = (event) => {\n        if (event.error) {\n            setError(event.error);\n        } else {\n            setError(false);\n        }\n    }\n\n    const getPaymentMethod = useCallback(async () => {\n        let paymentMethod = null;\n        const result = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\n        if (result?.paymentMethod?.id) {\n            paymentMethod = result.paymentMethod.id;\n        }\n        return paymentMethod;\n    }, [stripe, getCreatePaymentMethodArgs]);\n\n    const Tag = getData('customFormActive') ? CustomCardForm : StripeCardForm;\n    return (\n        <div className='wc-stripe-card-container'>\n            <Tag {...{getData, billing, onChange}} onComplete={setFormComplete}/>\n            {getData('installmentsActive') && <Installments\n                paymentMethodName={getData('name')}\n                cardFormComplete={formComplete}\n                addPaymentMethodData={addPaymentMethodData}\n                getPaymentMethod={getPaymentMethod}/>}\n\n        </div>\n    );\n}\n\nregisterPaymentMethod({\n    name: getData('name'),\n    label: <PaymentMethodLabel\n        title={getData('title')}\n        paymentMethod={getData('name')}\n        icons={getData('icons')}/>,\n    ariaLabel: 'Credit Cards',\n    canMakePayment: () => loadStripe,\n    content: <PaymentMethod content={CreditCardContent} getData={getData}/>,\n    savedTokenComponent: <SavedCardComponent getData={getData} method={getData('isPaymentElement') ? 'confirmCardPayment' : 'handleCardAction'}/>,\n    edit: <PaymentMethod content={CreditCardContent} getData={getData}/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: true,\n        features: getData('features')\n    }\n})","import {Component} from '@wordpress/element';\n\nclass ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {hasError: false, error: null, errorInfo: null};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            hasError: true,\n            error,\n            errorInfo\n        })\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return (\n                <>\n                    {this.state.error && <div className='wc-stripe-block-error'>{this.state.error.toString()}</div>}\n                    {this.state.errorInfo &&\n                    <div className='wc-stripe-block-error'>{this.state.errorInfo.componentStack}</div>}\n                </>\n            )\n        }\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","import {useRef, useEffect} from '@wordpress/element';\nimport {usePaymentsClient, usePaymentRequest} from './hooks';\nimport {\n    useProcessPaymentIntent,\n    useStripeError,\n    useExportedValues,\n    useExpressBreakpointWidth, useAfterProcessingPayment\n} from '../hooks';\nimport {getSettings} from '@paymentplugins/stripe/util';\n\nconst {publishableKey} = getSettings('stripeGeneralData')();\n\nconst GooglePayButton = (\n    {\n        getData,\n        setErrorMessage,\n        billing,\n        shippingData,\n        canMakePayment,\n        checkoutStatus,\n        eventRegistration,\n        activePaymentMethod,\n        onClick,\n        onClose,\n        ...props\n    }) => {\n    const merchantInfo = {\n        merchantId: getData('merchantId'),\n        merchantName: getData('merchantName')\n    };\n    const [error, setError] = useStripeError();\n    const buttonContainer = useRef();\n    const {onSubmit, emitResponse} = props;\n    const {onPaymentProcessing} = eventRegistration;\n    const exportedValues = useExportedValues();\n    const width = getData('buttonStyle').buttonType === 'long' ? 390 : 375;\n    const {setPaymentMethod} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        onPaymentProcessing,\n        emitResponse,\n        error,\n        exportedValues,\n        onSubmit,\n        checkoutStatus,\n        activePaymentMethod\n    });\n\n    const buildPaymentRequest = usePaymentRequest({\n        getData,\n        publishableKey,\n        merchantInfo,\n        billing,\n        shippingData\n    })\n\n    const {button, removeButton} = usePaymentsClient({\n        merchantInfo,\n        buildPaymentRequest,\n        billing,\n        shippingData,\n        eventRegistration,\n        canMakePayment,\n        setErrorMessage,\n        onSubmit,\n        setPaymentMethod,\n        exportedValues,\n        onClick,\n        onClose,\n        getData\n    });\n\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        responseTypes: emitResponse.responseTypes,\n        activePaymentMethod\n    });\n\n    useExpressBreakpointWidth({payment_method: getData('name'), width});\n\n    useEffect(() => {\n        if (button) {\n            // prevent button duplicates\n            removeButton(buttonContainer.current);\n            buttonContainer.current.append(button);\n        }\n    }, [button]);\n\n    return (\n        <div className='wc-stripe-gpay-button-container' ref={buttonContainer}></div>\n    )\n}\n\nexport default GooglePayButton;","export const BASE_PAYMENT_METHOD = {\n    type: 'CARD',\n    parameters: {\n        allowedAuthMethods: [\"PAN_ONLY\"],\n        allowedCardNetworks: [\"AMEX\", \"DISCOVER\", \"INTERAC\", \"JCB\", \"MASTERCARD\", \"VISA\"],\n        assuranceDetailsRequired: true\n    }\n};\n\nexport const BASE_PAYMENT_REQUEST = {\n    apiVersion: 2,\n    apiVersionMinor: 0\n}","export * from './use-payments-client';\nexport * from './use-payment-request';\nexport * from './use-error-message';","import {useState} from '@wordpress/element';\n\nexport const useErrorMessage = () => {\n    const [errorMessage, setErrorMessage] = useState(false);\n    return {errorMessage, setErrorMessage};\n}","import {useEffect, useCallback, useRef, useMemo} from '@wordpress/element';\nimport {BASE_PAYMENT_REQUEST, BASE_PAYMENT_METHOD} from \"../constants\";\nimport {isEmpty, isFieldRequired} from \"../../util\";\nimport {getTransactionInfo, getShippingOptionParameters} from \"../util\";\n\nexport const usePaymentRequest = ({getData, publishableKey, merchantInfo, billing, shippingData}) => {\n    const {processingCountry, totalPriceLabel} = getData();\n    const currentData = useRef({\n        shippingData,\n        billing\n    });\n\n    useEffect(() => {\n        currentData.current = {\n            shippingData,\n            billing\n        }\n    });\n\n    const buildPaymentRequest = useCallback(() => {\n        const {billing, shippingData} = currentData.current;\n        const {billingData} = billing;\n        const {shippingRates} = shippingData;\n        let options = {\n            ...{\n                emailRequired: isEmpty(billingData.email),\n                merchantInfo,\n                allowedPaymentMethods: [{\n                    ...{\n                        type: 'CARD',\n                        tokenizationSpecification: {\n                            type: \"PAYMENT_GATEWAY\",\n                            parameters: {\n                                gateway: 'stripe',\n                                \"stripe:version\": \"2018-10-31\",\n                                \"stripe:publishableKey\": publishableKey\n                            }\n                        }\n                    }, ...BASE_PAYMENT_METHOD\n                }],\n                shippingAddressRequired: shippingData.needsShipping,\n                transactionInfo: getTransactionInfo({\n                    billing,\n                    processingCountry,\n                    totalPriceLabel\n                }),\n                callbackIntents: ['PAYMENT_AUTHORIZATION']\n            }, ...BASE_PAYMENT_REQUEST\n        };\n        options.allowedPaymentMethods[0].parameters.billingAddressRequired = true;\n        options.allowedPaymentMethods[0].parameters.billingAddressParameters = {\n            format: 'FULL',\n            phoneNumberRequired: isFieldRequired(shippingData.needsShipping ? 'shipping-phone' : 'phone', billingData.country) && isEmpty(billingData.phone)\n        };\n        if (options.shippingAddressRequired) {\n            options.callbackIntents = [...options.callbackIntents, ...['SHIPPING_ADDRESS', 'SHIPPING_OPTION']];\n            options.shippingOptionRequired = true;\n            const shippingOptionParameters = getShippingOptionParameters(shippingRates);\n            if (shippingOptionParameters.shippingOptions.length > 0) {\n                options = {...options, shippingOptionParameters};\n            }\n        }\n        return options;\n    }, []);\n\n\n    return buildPaymentRequest;\n}","import {useState, useEffect, useCallback, useMemo, useRef} from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport {\n    getRoute,\n    getErrorMessage,\n    getSelectedShippingOption,\n    getBillingDetailsFromAddress,\n    isAddressValid,\n    isEmpty,\n    StripeError\n} from \"../../util\";\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {toCartAddress} from \"../util\";\n\nexport const usePaymentsClient = (\n    {\n        merchantInfo,\n        buildPaymentRequest,\n        billing,\n        shippingData,\n        eventRegistration,\n        canMakePayment,\n        setErrorMessage,\n        setPaymentMethod,\n        exportedValues,\n        onClick,\n        onClose,\n        getData\n    }) => {\n    const {environment} = getData();\n    const [paymentsClient, setPaymentsClient] = useState();\n    const [button, setButton] = useState(null);\n    const currentBilling = useRef(billing);\n    const currentShipping = useRef(shippingData);\n    const {needsShipping} = shippingData;\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentBilling.current = billing;\n        currentShipping.current = shippingData;\n    });\n\n    const setAddressData = useCallback((paymentData) => {\n        let billingAddress;\n        if (paymentData?.paymentMethodData?.info?.billingAddress) {\n            billingAddress = paymentData.paymentMethodData.info.billingAddress;\n            exportedValues.billingData = currentBilling.current.billingData = toCartAddress(billingAddress, {\n                email: paymentData.email,\n                phoneNumber: billingAddress.phoneNumber,\n            });\n        }\n        if (paymentData?.shippingAddress) {\n            exportedValues.shippingAddress = toCartAddress({...paymentData.shippingAddress, phoneNumber: billingAddress?.phoneNumber});\n        }\n    }, []);\n\n    const removeButton = useCallback((parentElement) => {\n        while (parentElement.firstChild) {\n            parentElement.removeChild(parentElement.firstChild);\n        }\n    }, [button]);\n    const handleClick = useCallback(async () => {\n        onClick();\n        try {\n            let paymentData = await paymentsClient.loadPaymentData(buildPaymentRequest());\n\n            // set the address data so it can be used during the checkout process\n            setAddressData(paymentData);\n\n            const data = JSON.parse(paymentData.paymentMethodData.tokenizationData.token);\n\n            let result = await stripe.createPaymentMethod({\n                type: 'card',\n                card: {token: data.id},\n                billing_details: getBillingDetailsFromAddress(currentBilling.current.billingData)\n            });\n\n            if (result.error) {\n                throw new StripeError(result.error);\n            }\n\n            setPaymentMethod(result.paymentMethod.id);\n        } catch (err) {\n            if (err?.statusCode === \"CANCELED\") {\n                onClose();\n            } else {\n                console.log(getErrorMessage(err));\n                setErrorMessage(getErrorMessage(err));\n            }\n        }\n    }, [\n        stripe,\n        paymentsClient,\n        onClick,\n        buildPaymentRequest\n    ]);\n\n    const createButton = useCallback(async () => {\n        try {\n            if (paymentsClient && stripe) {\n                await canMakePayment;\n                const button = paymentsClient.createButton({\n                    onClick: handleClick,\n                    ...getData('buttonStyle')\n                });\n                if (getData('buttonShape') === 'rect') {\n                    button.querySelector('button')?.classList?.remove('new_style');\n                }\n                setButton(button);\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }, [\n        stripe,\n        paymentsClient,\n        handleClick\n    ]);\n\n    const paymentOptions = useMemo(() => {\n        let options = {\n            environment,\n            merchantInfo,\n            paymentDataCallbacks: {\n                onPaymentAuthorized: () => Promise.resolve({transactionState: \"SUCCESS\"})\n            }\n        }\n        if (needsShipping) {\n            options.paymentDataCallbacks.onPaymentDataChanged = (paymentData) => {\n                const shipping = currentShipping.current;\n                const {shippingAddress: address, shippingOptionData} = paymentData;\n                const selectedRates = getSelectedShippingOption(shippingOptionData.id);\n                const shipping_method = ['default', 'shipping_option_unselected'].includes(shippingOptionData.id) ? null : shippingOptionData.id;\n                return new Promise((resolve, reject) => {\n                    apiFetch({\n                        method: 'POST',\n                        url: getRoute('payment/data'),\n                        data: {\n                            address: toCartAddress(address),\n                            shipping_method,\n                            page_id: null\n                        }\n                    }).then(response => {\n                        if (response.code) {\n                            resolve(response.data.data);\n                        } else {\n                            resolve(response.data.paymentRequestUpdate);\n                        }\n                    }).catch(response => {\n                        resolve(response.data);\n                    }).finally(() => {\n                        if (shipping_method && shipping_method !== 'shipping_option_unselected') {\n                            shipping.setSelectedRates(...selectedRates);\n                        }\n                    });\n                });\n            }\n        }\n        return options;\n    }, [needsShipping]);\n\n    useEffect(() => {\n        setPaymentsClient(new google.payments.api.PaymentsClient(paymentOptions));\n    }, [paymentOptions]);\n\n    useEffect(() => {\n        createButton();\n    }, [createButton])\n\n    return {\n        button,\n        removeButton\n    };\n}","import './style.scss';\n\nexport * from './payment-method';","import {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe as loadStripe, isCartPage} from '../util';\nimport {useErrorMessage} from \"./hooks\";\nimport GooglePayButton from './button';\nimport {BASE_PAYMENT_METHOD, BASE_PAYMENT_REQUEST} from './constants';\nimport google from '@googlepay';\nimport {Elements} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_googlepay_data');\n\nconst canMakePayment = (() => {\n    const paymentsClient = new google.payments.api.PaymentsClient({\n        environment: getData('environment'),\n        merchantInfo: {\n            merchantId: getData('merchantId'),\n            merchantName: getData('merchantName')\n        }\n    });\n    const isReadyToPayRequest = {...BASE_PAYMENT_REQUEST, allowedPaymentMethods: [BASE_PAYMENT_METHOD]};\n    return paymentsClient.isReadyToPay(isReadyToPayRequest).then(() => {\n        return true;\n    }).catch(err => {\n        console.log(err);\n        return false;\n    })\n})();\n\nconst GooglePayContent = ({getData, components, ...props}) => {\n    const {ValidationInputError} = components;\n    const {errorMessage, setErrorMessage} = useErrorMessage();\n    return (\n        <div className='wc-stripe-gpay-container'>\n            <Elements stripe={loadStripe}>\n                <GooglePayButton getData={getData}\n                                 canMakePayment={canMakePayment}\n                                 setErrorMessage={setErrorMessage}\n                                 {...props}/>\n                {errorMessage && <ValidationInputError errorMessage={errorMessage}/>}\n            </Elements>\n        </div>\n    )\n}\n\nconst GooglePayEdit = ({getData, ...props}) => {\n    const buttonType = getData('buttonStyle').buttonType;\n    const src = getData('editorIcons').long;\n    return (\n        <div className={`gpay-block-editor ${buttonType}`}>\n            <img src={src}/>\n        </div>\n    )\n}\n\nregisterExpressPaymentMethod({\n    name: getData('name'),\n    canMakePayment: () => {\n        if (getData('isAdmin')) {\n            if (isCartPage()) {\n                return getData('cartCheckoutEnabled');\n            }\n            return true;\n        }\n        if (isCartPage() && !getData('cartCheckoutEnabled')) {\n            return false;\n        }\n        return loadStripe.then(stripe => {\n            if (stripe.error) {\n                return stripe;\n            }\n            return canMakePayment;\n        });\n    },\n    content: <GooglePayContent getData={getData}/>,\n    edit: <GooglePayEdit getData={getData}/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n})","import {getShippingOptionId, removeNumberPrecision, toCartAddress as mapAddressToCartAddress} from \"../util\";\nimport {formatPrice} from '../util';\nimport {getSetting} from '@woocommerce/settings'\n\nconst generalData = getSetting('stripeGeneralData');\n\nconst ADDRESS_MAPPINGS = {\n    name: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    countryCode: 'country',\n    address1: 'address_1',\n    address2: 'address_2',\n    locality: 'city',\n    administrativeArea: 'state',\n    postalCode: 'postcode',\n    email: 'email',\n    phoneNumber: 'phone'\n}\n\nexport const getTransactionInfo = ({billing, processingCountry, totalPriceLabel}, status = 'ESTIMATED') => {\n    const {cartTotal, cartTotalItems, currency} = billing;\n    const transactionInfo = {\n        countryCode: processingCountry,\n        currencyCode: currency.code,\n        totalPriceStatus: status,\n        totalPrice: removeNumberPrecision(cartTotal.value, currency.minorUnit).toString(),\n        displayItems: getDisplayItems(cartTotalItems, currency.minorUnit),\n        totalPriceLabel\n    }\n    return transactionInfo;\n}\n\nexport const getPaymentRequestUpdate = ({billing, shippingData, processingCountry, totalPriceLabel}) => {\n    const {needsShipping, shippingRates} = shippingData;\n    let update = {\n        newTransactionInfo: getTransactionInfo({\n            billing, processingCountry, totalPriceLabel\n        }, 'FINAL')\n    }\n    if (needsShipping) {\n        update.newShippingOptionParameters = getShippingOptionParameters(shippingRates);\n    }\n    return update;\n}\n\n/**\n * Return an array of line item objects\n * @param cartTotalItems\n * @param unit\n * @returns {[]}\n */\nconst getDisplayItems = (cartTotalItems, unit = 2) => {\n    let items = [];\n    const keys = ['total_tax', 'total_shipping'];\n    cartTotalItems.forEach(item => {\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\n            items.push({\n                label: item.label,\n                type: 'LINE_ITEM',\n                price: removeNumberPrecision(item.value, unit).toString()\n            });\n        }\n    })\n    return items;\n}\n\nexport const getShippingOptionParameters = (shippingRates) => {\n    const shippingOptions = getShippingOptions(shippingRates);\n    const shippingOptionIds = shippingOptions.map(option => option.id);\n    let defaultSelectedOptionId = shippingOptionIds.slice(0, 1).shift();\n    shippingRates.forEach((shippingPackage, idx) => {\n        shippingPackage.shipping_rates.forEach(rate => {\n            if (rate.selected) {\n                defaultSelectedOptionId = getShippingOptionId(idx, rate.rate_id);\n            }\n        });\n    });\n    return {\n        shippingOptions,\n        defaultSelectedOptionId,\n    }\n}\n\n//id label description\nexport const getShippingOptions = (shippingRates) => {\n    let options = [];\n    shippingRates.forEach((shippingPackage, idx) => {\n        let rates = shippingPackage.shipping_rates.map(rate => {\n            let txt = document.createElement('textarea');\n            txt.innerHTML = rate.name;\n            let price = formatPrice(rate.price, rate.currency_code);\n            return {\n                id: getShippingOptionId(idx, rate.rate_id),\n                label: txt.value,\n                description: `${price}`\n            }\n        });\n        options = [...options, ...rates];\n    });\n    return options;\n}\n\nexport const toCartAddress = mapAddressToCartAddress(ADDRESS_MAPPINGS);\n","export * from './use-process-payment-intent';\nexport * from './use-after-process-payment';\nexport * from './use-setup-intent';\nexport * from './use-stripe-error';\nexport * from './use-exported-values';\nexport * from './use-payment-request';\nexport * from './use-payment-events';\nexport * from './use-breakpoint-width';\nexport * from './use-process-checkout-error';\nexport * from './use-deferred-payment-intent';","import {useEffect} from '@wordpress/element'\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {handleCardAction} from \"../util\";\nimport {useProcessCheckoutError} from \"./use-process-checkout-error\";\n\nexport const useAfterProcessingPayment = (\n    {\n        getData,\n        eventRegistration,\n        responseTypes,\n        activePaymentMethod,\n        shouldSavePayment = false,\n        messageContext = null\n    }) => {\n    const stripe = useStripe();\n    const {onCheckoutAfterProcessingWithSuccess, onCheckoutAfterProcessingWithError} = eventRegistration;\n    useProcessCheckoutError({\n        responseTypes,\n        subscriber: onCheckoutAfterProcessingWithError,\n        messageContext\n    });\n    useEffect(() => {\n        let unsubscribeAfterProcessingWithSuccess = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\n            if (getData('name') === activePaymentMethod) {\n                //check if response is in redirect. If so, open modal\n                return await handleCardAction({\n                    redirectUrl,\n                    responseTypes,\n                    name: activePaymentMethod,\n                    savePaymentMethod: shouldSavePayment\n                });\n            }\n            return null;\n        })\n        return () => unsubscribeAfterProcessingWithSuccess()\n    }, [\n        stripe,\n        responseTypes,\n        onCheckoutAfterProcessingWithSuccess,\n        activePaymentMethod,\n        shouldSavePayment\n    ]);\n}","import {useState, useEffect, useCallback} from '@wordpress/element';\nimport {storeInCache, getFromCache} from \"../util\";\n\nexport const useBreakpointWidth = (\n    {\n        name,\n        width,\n        node,\n        className\n    }) => {\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n    const getMaxWidth = useCallback((name) => {\n        const maxWidth = getFromCache(name);\n        return maxWidth ? parseInt(maxWidth) : 0;\n    }, []);\n    const setMaxWidth = useCallback((name, width) => storeInCache(name, width), []);\n\n    useEffect(() => {\n        const el = typeof node === 'function' ? node() : node;\n\n        if (el) {\n            const maxWidth = getMaxWidth(name);\n            if (!maxWidth || width > maxWidth) {\n                setMaxWidth(name, width);\n            }\n            if (el.clientWidth < width) {\n                el.classList.add(className);\n            } else {\n                if (el.clientWidth > maxWidth) {\n                    el.classList.remove(className);\n                }\n            }\n        }\n    }, [windowWidth, node]);\n    useEffect(() => {\n        const handleResize = () => setWindowWidth(window.innerWidth);\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    });\n}\n\nexport const useExpressBreakpointWidth = (\n    {\n        payment_method,\n        width\n    }) => {\n    const node = useCallback(() => {\n        const el = document.getElementById(`express-payment-method-${payment_method}`);\n        return el ? el.parentNode : null;\n    }, []);\n    useBreakpointWidth({\n        name: 'expressMaxWidth',\n        width,\n        node,\n        className: 'wc-stripe-express__sm'\n    });\n\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\nimport {ensureErrorResponse, ensureSuccessResponse, getBillingDetailsFromAddress, StripeError, isNextActionRequired, getRoute, handleCardAction} from '../util';\n\nexport const useDeferredPaymentIntent = (\n    {\n        billingData,\n        eventRegistration,\n        responseTypes,\n        name,\n        shouldSavePayment,\n        noticeContexts\n    }\n) => {\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithSuccess} = eventRegistration;\n    const currentData = useRef({billingData});\n    const paymentMethodData = useRef({});\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const getSuccessResponse = useCallback((paymentMethod, shouldSavePayment) => {\n        const response = {\n            meta: {\n                paymentMethodData: {\n                    [`${name}_token_key`]: paymentMethod,\n                    [`${name}_save_source_key`]: shouldSavePayment,\n                    ...paymentMethodData.current\n                }\n            }\n        }\n        return response;\n    }, []);\n\n    const addPaymentMethodData = useCallback((data) => {\n        paymentMethodData.current = {...paymentMethodData.current, ...data};\n    }, []);\n\n    const createPaymentMethod = useCallback(async () => {\n        const {billingData} = currentData.current;\n        await elements.submit();\n        return await stripe.createPaymentMethod({\n            elements,\n            params: {\n                billing_details: getBillingDetailsFromAddress(billingData)\n            }\n        });\n    }, [stripe, elements]);\n\n    const confirmPayment = useCallback(async () => {\n        const {billingData} = currentData.current;\n        return await stripe.confirmPayment({\n            elements,\n            confirmParams: {\n                payment_method_data: {\n                    billing_details: getBillingDetailsFromAddress(billingData)\n                }\n            },\n            redirect: 'if_required'\n        });\n    }, [stripe, elements]);\n\n    useEffect(() => {\n        currentData.current.billingData = billingData;\n    });\n\n    useEffect(() => {\n        const unsubscribe = onPaymentProcessing(async () => {\n            try {\n                const result = await createPaymentMethod();\n                if (result.error) {\n                    throw new StripeError(result.error);\n                }\n                const paymentMethod = result.paymentMethod.id;\n                currentData.current.paymentMethod = paymentMethod;\n                return ensureSuccessResponse(responseTypes, getSuccessResponse(paymentMethod, shouldSavePayment));\n            } catch (error) {\n                return ensureErrorResponse(responseTypes, error, {messageContext: noticeContexts.PAYMENTS});\n            }\n        });\n        return () => unsubscribe();\n    }, [\n        onPaymentProcessing,\n        createPaymentMethod,\n        confirmPayment,\n        shouldSavePayment\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\n            return await handleCardAction({\n                redirectUrl,\n                responseTypes,\n                name,\n                savePaymentMethod: shouldSavePayment,\n                data: {\n                    [`${name}_token_key`]: currentData.current.paymentMethod\n                }\n            })\n        });\n        return () => unsubscribe();\n    }, [\n        onCheckoutAfterProcessingWithSuccess,\n        confirmPayment,\n        shouldSavePayment,\n        name\n    ]);\n\n    return {\n        createPaymentMethod,\n        addPaymentMethodData\n    }\n}","import {useRef} from '@wordpress/element';\n\nexport const useExportedValues = () => {\n    const exportedValues = useRef({});\n    return exportedValues.current;\n}","import {useEffect, useCallback, useRef, useState} from '@wordpress/element';\nimport {hasShippingRates} from '../util';\n\nexport const usePaymentEvents = (\n    {\n        billing,\n        shippingData,\n        eventRegistration\n    }) => {\n    const {onShippingRateSuccess, onShippingRateFail, onShippingRateSelectSuccess} = eventRegistration;\n    const currentBilling = useRef(billing);\n    const currentShipping = useRef(shippingData);\n    const [handler, setHandler] = useState(null);\n    const [paymentEvents, setPaymentEvent] = useState({\n        onShippingChanged: false\n    });\n    const addPaymentEvent = useCallback((name, handler, execute = false) => {\n        if (execute) {\n            setHandler({[name]: handler});\n        } else {\n            setPaymentEvent({...paymentEvents, [name]: handler});\n        }\n    }, [paymentEvents, setPaymentEvent]);\n    const removePaymentEvent = useCallback((name) => {\n        if (paymentEvents[name]) {\n            delete paymentEvents[name];\n            setPaymentEvent(paymentEvents);\n        }\n    }, [paymentEvents]);\n\n    const onShippingChanged = useCallback(() => {\n        const shipping = currentShipping.current;\n        const billing = currentBilling.current;\n        if (paymentEvents.onShippingChanged && !shipping.isSelectingRate && !shipping.shippingRatesLoading) {\n            const handler = paymentEvents.onShippingChanged;\n            let success = true;\n            if (!hasShippingRates(shipping.shippingRates)) {\n                success = false;\n            }\n            handler(success, {\n                billing,\n                shipping\n            });\n            removePaymentEvent('onShippingChanged');\n        }\n    }, [paymentEvents, removePaymentEvent]);\n\n    useEffect(() => {\n        currentBilling.current = billing;\n        currentShipping.current = shippingData;\n    });\n\n    useEffect(() => {\n        if (handler) {\n            if (handler.onShippingChanged) {\n                handler.onShippingChanged(true, {\n                    billing: currentBilling.current,\n                    shipping: currentShipping.current\n                })\n                setHandler(null);\n            }\n        }\n    }, [handler]);\n\n    useEffect(() => {\n        const unsubscribeShippingRateSuccess = onShippingRateSuccess(onShippingChanged);\n        const unsubscribeShippingRateSelectSuccess = onShippingRateSelectSuccess(onShippingChanged);\n        const unsubscribeShippingRateFail = onShippingRateFail(({hasInvalidAddress, hasError}) => {\n            if (paymentEvents.onShippingChanged) {\n                const handler = paymentEvents.onShippingChanged;\n                handler(false);\n                removePaymentEvent('onShippingChanged');\n            }\n        });\n\n        return () => {\n            unsubscribeShippingRateSuccess();\n            unsubscribeShippingRateFail();\n            unsubscribeShippingRateSelectSuccess();\n        }\n    }, [\n        paymentEvents,\n        onShippingRateSuccess,\n        onShippingRateFail,\n        onShippingRateSelectSuccess\n    ]);\n\n    return {addPaymentEvent, removePaymentEvent};\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {getIntermediateAddress, getRoute} from '../util';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport {\n    getDisplayItems,\n    getShippingOptions,\n    getSelectedShippingOption,\n    isFieldRequired,\n    toCartAddress as mapToCartAddress\n} from \"../util\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nconst toCartAddress = mapToCartAddress();\n\nexport const usePaymentRequest = (\n    {\n        getData,\n        onClose,\n        stripe,\n        billing,\n        shippingData,\n        setPaymentMethod,\n        exportedValues,\n        canPay\n    }) => {\n\n    const {shippingAddress, needsShipping, shippingRates} = shippingData;\n    const {billingData, cartTotalItems, currency, cartTotal} = billing;\n    const [paymentRequest, setPaymentRequest] = useState(null);\n    const paymentRequestOptions = useRef({});\n    const currentShipping = useRef(shippingData)\n    const currentBilling = useRef(billing);\n\n    useEffect(() => {\n        currentShipping.current = shippingData;\n        currentBilling.current = billing;\n    }, [shippingData, billing]);\n\n    useEffect(() => {\n        if (stripe) {\n            const options = {\n                country: getData('countryCode'),\n                currency: currency?.code.toLowerCase(),\n                total: {\n                    amount: cartTotal.value,\n                    label: cartTotal.label,\n                    pending: true\n                },\n                requestPayerName: true,\n                requestPayerEmail: isFieldRequired('email', billingData.country),\n                requestPayerPhone: isFieldRequired(needsShipping ? 'shipping-phone' : 'phone', billingData.country),\n                requestShipping: needsShipping,\n                displayItems: getDisplayItems(cartTotalItems, currency)\n            }\n            if (options.requestShipping) {\n                options.shippingOptions = getShippingOptions(shippingRates);\n            }\n            paymentRequestOptions.current = options;\n            const paymentRequest = stripe.paymentRequest(paymentRequestOptions.current);\n            paymentRequest.canMakePayment().then(result => {\n                if (canPay(result)) {\n                    setPaymentRequest(paymentRequest);\n                } else {\n                    setPaymentRequest(null);\n                }\n            });\n        }\n    }, [\n        stripe,\n        cartTotal.value,\n        billingData.country,\n        shippingRates,\n        cartTotalItems,\n        currency.code\n    ]);\n\n    const onShippingAddressChange = useCallback(event => {\n        const shipping = currentShipping.current;\n        const {shippingAddress} = event;\n        const intermediateAddress = toCartAddress(shippingAddress);\n        apiFetch({\n            method: 'POST',\n            url: getRoute('shipping-address'),\n            data: {\n                address: intermediateAddress,\n                payment_method: getData('name'),\n                page_id: 'checkout'\n            }\n        }).then(response => {\n            event.updateWith(response.data.newData);\n            shipping.setShippingAddress({...shipping.shippingAddress, ...intermediateAddress});\n        }).catch(error => {\n            console.log(error);\n        })\n    }, []);\n\n    const onShippingOptionChange = useCallback(event => {\n        const {shippingOption} = event;\n        const shipping = currentShipping.current;\n\n        apiFetch({\n            method: 'POST',\n            url: getRoute('shipping-method'),\n            data: {\n                shipping_method: shippingOption.id,\n                payment_method: getData('name'),\n                page_id: null\n            }\n        }).then(response => {\n            event.updateWith(response.data.newData);\n            shipping.setSelectedRates(...getSelectedShippingOption(shippingOption.id))\n        }).catch(error => {\n            console.log(error);\n        })\n    }, []);\n\n    const onPaymentMethodReceived = useCallback((paymentResponse) => {\n        const {paymentMethod, payerName = null, payerEmail = null, payerPhone = null} = paymentResponse;\n        // set address data\n        let billingData = {payerName, payerEmail, payerPhone};\n        if (paymentMethod?.billing_details.address) {\n            billingData = toCartAddress(paymentMethod.billing_details.address, billingData);\n        }\n        exportedValues.billingData = billingData;\n\n        if (paymentResponse.shippingAddress) {\n            exportedValues.shippingAddress = toCartAddress(paymentResponse.shippingAddress, {payerPhone});\n        }\n\n        // set payment method\n        setPaymentMethod(paymentMethod.id);\n        paymentResponse.complete(\"success\");\n    }, []);\n\n    useEffect(() => {\n        if (paymentRequest) {\n            if (paymentRequestOptions.current.requestShipping) {\n                paymentRequest.on('shippingaddresschange', onShippingAddressChange);\n                paymentRequest.on('shippingoptionchange', onShippingOptionChange);\n            }\n            paymentRequest.on('cancel', onClose);\n            paymentRequest.on('paymentmethod', onPaymentMethodReceived);\n        }\n    }, [\n        onClose,\n        paymentRequest,\n        onShippingAddressChange,\n        onPaymentMethodReceived\n    ]);\n\n    return {paymentRequest};\n}","import {useEffect} from '@wordpress/element';\n\nexport const useProcessCheckoutError = (\n    {\n        responseTypes,\n        subscriber,\n        messageContext = null\n    }) => {\n    useEffect(() => {\n        const unsubscribe = subscriber((data) => {\n            if (data?.processingResponse.paymentDetails?.stripeErrorMessage) {\n                console.log(data.processingResponse.paymentDetails.stripeErrorMessage);\n                return {\n                    type: responseTypes.ERROR,\n                    message: data.processingResponse.paymentDetails.stripeErrorMessage,\n                    messageContext\n                };\n            }\n            return null;\n        });\n        return () => unsubscribe();\n    }, [responseTypes, subscriber]);\n}","import {useEffect, useState, useCallback, useRef} from '@wordpress/element';\nimport {useStripe} from '@stripe/react-stripe-js';\nimport {\n    getSettings,\n    ensureSuccessResponse,\n    ensureErrorResponse,\n    getBillingDetailsFromAddress,\n    StripeError,\n    DEFAULT_BILLING_ADDRESS,\n    DEFAULT_SHIPPING_ADDRESS\n} from '../util';\n\nconst generalData = getSettings('stripeGeneralData');\n\nexport const useProcessPaymentIntent = (\n    {\n        getData,\n        billing,\n        shippingData,\n        onPaymentProcessing,\n        emitResponse,\n        error,\n        onSubmit,\n        activePaymentMethod,\n        paymentType = 'card',\n        setupIntent = null,\n        removeSetupIntent = null,\n        shouldSavePayment = false,\n        exportedValues = {},\n        getPaymentMethodArgs = () => ({})\n    }) => {\n    const {billingData} = billing;\n    const {shippingAddress} = shippingData;\n    const {responseTypes} = emitResponse;\n    const [paymentMethod, setPaymentMethod] = useState(null);\n    const stripe = useStripe();\n    const currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\n    const paymentMethodData = useRef({});\n    useEffect(() => {\n        currentPaymentMethodArgs.current = getPaymentMethodArgs;\n    }, [getPaymentMethodArgs]);\n\n    const addPaymentMethodData = useCallback((data) => {\n        paymentMethodData.current = {...paymentMethodData.current, ...data};\n    }, []);\n\n    const getCreatePaymentMethodArgs = useCallback(() => {\n        const args = {\n            type: paymentType,\n            billing_details: getBillingDetailsFromAddress(exportedValues?.billingData ? exportedValues.billingData : billingData)\n        }\n        return {...args, ...currentPaymentMethodArgs.current()};\n    }, [billingData, paymentType, getPaymentMethodArgs]);\n\n    const getSuccessResponse = useCallback((paymentMethodId, shouldSavePayment) => {\n        const response = {\n            meta: {\n                paymentMethodData: {\n                    [`${getData('name')}_token_key`]: paymentMethodId,\n                    [`${getData('name')}_save_source_key`]: shouldSavePayment,\n                    ...paymentMethodData.current\n                }\n            }\n        }\n        const isOlderVersion = generalData('isOlderVersion');\n        if (exportedValues?.billingData) {\n            if (isOlderVersion) {\n                response.meta.billingData = {\n                    ...DEFAULT_BILLING_ADDRESS,\n                    ...exportedValues.billingData\n                };\n            } else {\n                response.meta.billingAddress = {\n                    ...DEFAULT_BILLING_ADDRESS,\n                    ...exportedValues.billingData\n                };\n            }\n        }\n        if (exportedValues?.shippingAddress) {\n            if (isOlderVersion) {\n                response.meta.shippingData = {address: exportedValues.shippingAddress};\n            } else {\n                response.meta.shippingAddress = {\n                    ...DEFAULT_SHIPPING_ADDRESS, ...exportedValues.shippingAddress\n                }\n            }\n        }\n        return response;\n    }, [billingData, shippingAddress]);\n\n    useEffect(() => {\n        if (paymentMethod && typeof paymentMethod === 'string') {\n            onSubmit();\n        }\n    }, [paymentMethod, onSubmit]);\n\n    useEffect(() => {\n        const unsubscribeProcessingPayment = onPaymentProcessing(async () => {\n            if (activePaymentMethod !== getData('name')) {\n                return null;\n            }\n            let [result, paymentMethodId] = [null, null];\n            try {\n                if (error) {\n                    throw new StripeError(error);\n                }\n                if (setupIntent) {\n                    result = await stripe.confirmCardSetup(setupIntent.client_secret, {\n                        payment_method: getCreatePaymentMethodArgs()\n                    });\n                    if (result.error) {\n                        throw new StripeError(result.error);\n                    }\n                    paymentMethodId = result.setupIntent.payment_method;\n                    removeSetupIntent();\n                } else {\n                    // payment method has already been created.\n                    if (paymentMethod) {\n                        paymentMethodId = paymentMethod;\n                    } else {\n                        //create the payment method\n                        result = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        paymentMethodId = result.paymentMethod.id;\n                    }\n                }\n                return ensureSuccessResponse(responseTypes, getSuccessResponse(paymentMethodId, shouldSavePayment));\n            } catch (e) {\n                console.log(e);\n                setPaymentMethod(null);\n                return ensureErrorResponse(responseTypes, e.error);\n            }\n\n        });\n        return () => unsubscribeProcessingPayment();\n    }, [\n        paymentMethod,\n        billingData,\n        onPaymentProcessing,\n        stripe,\n        setupIntent,\n        activePaymentMethod,\n        shouldSavePayment\n    ]);\n    return {\n        setPaymentMethod,\n        getCreatePaymentMethodArgs,\n        addPaymentMethodData\n    };\n}","import {useEffect, useState, useCallback} from '@wordpress/element';\nimport apiFetch from \"@wordpress/api-fetch\";\nimport {\n    getSettings,\n    getRoute,\n    cartContainsPreOrder,\n    cartContainsSubscription,\n    getFromCache,\n    storeInCache,\n    deleteFromCache\n} from '../util';\n\nexport const useSetupIntent = (\n    {\n        cartTotal,\n        setError\n    }) => {\n    const [setupIntent, setSetupIntent] = useState(getFromCache('setupIntent'));\n\n    useEffect(() => {\n        const createSetupIntent = async () => {\n            if (setupIntent) {\n                return;\n            }\n            // only create intent under certain conditions\n            let result = await apiFetch({\n                url: getRoute('create/setup_intent'),\n                method: 'POST'\n            });\n            if (result.code) {\n                setError(result.message);\n            } else {\n                storeInCache('setupIntent', result.intent);\n                setSetupIntent(result.intent);\n            }\n        }\n        if (cartContainsPreOrder() || (cartContainsSubscription() && cartTotal.value == 0)) {\n            if (!setupIntent) {\n                createSetupIntent();\n            }\n        } else {\n            setSetupIntent(null);\n        }\n    }, [cartTotal.value]);\n    const removeSetupIntent = useCallback(() => {\n        deleteFromCache('setupIntent');\n    }, [cartTotal.value]);\n    return {setupIntent, removeSetupIntent};\n}","import {useState} from '@wordpress/element'\n\nexport const useStripeError = () => {\n    const [error, setError] = useState(false);\n    return [error, setError];\n}","export * from './use-link';\nexport * from './use-link-icon';","import {useEffect} from '@wordpress/element';\n\nexport const useLinkIcon = ({enabled, email, icon}) => {\n    useEffect(() => {\n        if (enabled) {\n            //let el = document.querySelector('.stripe-link-icon-container');\n            let el = document.getElementById('email')?.parentElement;\n            if (el && !el.classList.contains('stripe-link-icon-container')) {\n                removeElement('.wc-stripe-link-icon');\n                el.classList.add('stripe-link-icon-container');\n                const iconEl = document.createElement('template');\n                iconEl.innerHTML = icon;\n                el.append(iconEl.content.firstChild);\n            }\n        }\n    }, [enabled, email]);\n}\n\nconst removeElement = (className) => {\n    const el = document.querySelector(className);\n    if (el) {\n        el.remove();\n    }\n}","import {useEffect, useState, useRef} from '@wordpress/element';\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\nimport {\n    toCartAddress as mapToCartAddress,\n    ensureSuccessResponse,\n    ensureErrorResponse,\n    getBillingDetailsFromAddress,\n    DEFAULT_BILLING_ADDRESS,\n    DEFAULT_SHIPPING_ADDRESS, getSettings\n} from '../../util';\n\nconst generalData = getSettings('stripeGeneralData');\n\nconst toCartAddress = mapToCartAddress();\n\nexport const useLink = (\n    {\n        email,\n        eventRegistration,\n        onClick,\n        onSubmit,\n        activePaymentMethod,\n        responseTypes,\n        ...props\n    }) => {\n    const [link, setLink] = useState();\n    const stripe = useStripe();\n    const elements = useElements();\n    const currentData = useRef();\n    const linkData = useRef();\n    const {onPaymentProcessing} = eventRegistration;\n    useEffect(() => {\n        currentData.current = {onClick, onSubmit, email}\n    });\n\n    useEffect(() => {\n        if (stripe && elements && !link) {\n            setLink(stripe?.linkAutofillModal(elements));\n        }\n    }, [\n        stripe,\n        elements,\n        link\n    ]);\n\n    useEffect(() => {\n        if (link) {\n            link.launch({email});\n        }\n    }, [link, email]);\n\n    useEffect(() => {\n        if (link) {\n            link.on('autofill', event => {\n                linkData.current = event;\n                currentData.current.onSubmit();\n\n            });\n            link.on('authenticated', event => {\n                currentData.current.onClick();\n            })\n        }\n    }, [link]);\n\n    useEffect(() => {\n        const unsubscribe = onPaymentProcessing(async () => {\n            if (activePaymentMethod !== 'stripe_link_checkout') {\n                return null;\n            }\n            const response = {meta: {}};\n            const {shippingAddress = null, billingAddress = null} = linkData.current.value;\n            const isOlderVersion = generalData('isOlderVersion');\n            let billing_details;\n            if (billingAddress) {\n                const address = toCartAddress({...billingAddress.address, recipient: billingAddress.name});\n                billing_details = getBillingDetailsFromAddress(address);\n                if (isOlderVersion) {\n                    response.meta.billingData = address;\n                } else {\n                    response.meta.billingAddress = {\n                        ...DEFAULT_BILLING_ADDRESS,\n                        ...address,\n                        email: currentData.current.email\n                    };\n                }\n            }\n            if (shippingAddress) {\n                const address = toCartAddress({...shippingAddress.address, recipient: shippingAddress.name});\n                if (isOlderVersion) {\n                    response.meta.shippingData = {address};\n                } else {\n                    response.meta.shippingAddress = {\n                        ...DEFAULT_SHIPPING_ADDRESS,\n                        ...address\n                    }\n                }\n            }\n            // update the payment intent\n            try {\n                await elements.submit();\n                const result = await stripe.createPaymentMethod({\n                    elements,\n                    params: {\n                        billing_details\n                    }\n                });\n                if (result.error) {\n                    throw result.error;\n                }\n                response.meta.paymentMethodData = {\n                    stripe_cc_token_key: result.paymentMethod.id,\n                    stripe_cc_save_source_key: false,\n                }\n                return ensureSuccessResponse(responseTypes, response);\n            } catch (error) {\n                console.log(error);\n                return ensureErrorResponse(responseTypes, error);\n            }\n        });\n\n        return () => unsubscribe();\n    }, [\n        onPaymentProcessing,\n        stripe,\n        elements,\n        activePaymentMethod\n    ]);\n\n    return link;\n}","import {useEffect, useState} from '@wordpress/element';\nimport {Elements, useStripe, useElements, PaymentElement} from \"@stripe/react-stripe-js\";\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {useLink, useLinkIcon} from './hooks';\nimport {getSettings, initStripe as loadStripe, canMakePayment} from \"../util\";\n\nconst getData = getSettings('stripe_link_checkout_data');\n\nexport const LinkComponent = (props) => {\n    const {cartTotal, currency} = props.billing;\n    let options = {\n        mode: 'payment',\n        paymentMethodCreation: 'manual',\n        amount: cartTotal.value,\n        currency: currency?.code?.toLowerCase(),\n        payment_method_types: ['card', 'link']\n    }\n    if (cartTotal.value === 0) {\n        options = {\n            mode: 'setup'\n        }\n    }\n    return (\n        <Elements stripe={loadStripe} options={options}>\n            <LinkCheckout {...props}/>\n        </Elements>\n    );\n    return null;\n}\n\nconst LinkCheckout = (\n    {\n        billing,\n        shipping,\n        eventRegistration,\n        onClick,\n        onSubmit,\n        activePaymentMethod,\n        emitResponse,\n        ...props\n    }) => {\n    const {billingData} = billing;\n    const {responseTypes} = emitResponse;\n    const {email} = billingData;\n    const iconEnabled = getData('linkIconEnabled');\n    const linkIcon = getData('linkIcon');\n    useLink({\n        email,\n        eventRegistration,\n        onClick,\n        onSubmit,\n        activePaymentMethod,\n        responseTypes\n    });\n    useLinkIcon({enabled: linkIcon, email, icon: linkIcon});\n\n    const options = {\n        fields: {\n            billingDetails: {address: 'never'}\n        },\n        wallets: {applePay: 'never', googlePay: 'never'}\n    };\n    return (\n        <div style={{display: 'none'}}>\n            <PaymentElement options={options}/>\n        </div>\n    );\n}\n\nregisterExpressPaymentMethod({\n    name: getData('name'),\n    canMakePayment: (props) => {\n        return true;\n    },\n    content: <LinkComponent/>,\n    edit: <LinkComponent/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n})","import {useState, useEffect} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethod, OffsiteNotice} from \"../../components/checkout\";\nimport {AffirmMessageElement, Elements} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_affirm_data');\n\nlet msgOptions = {\n    amount: getData('cartTotals')?.value,\n    currency: getData('currency')\n}\n\nconst dispatchAffirmChange = (options) => {\n    document.dispatchEvent(new CustomEvent('stripeAffirmChange', {\n        detail: {options}\n    }));\n}\n\nconst AffirmPaymentMethod = (props) => {\n    return (\n        <>\n            <LocalPaymentIntentContent {...props}/>\n            <OffsiteNotice paymentText={getData('title')} buttonText={getData('placeOrderButtonLabel')}/>\n        </>\n    )\n}\n\nconst PaymentMethodLabel = ({title, components, ...props}) => {\n    const {PaymentMethodLabel: Label} = components;\n    const [options, setOptions] = useState({\n        amount: getData('cartTotals')?.value,\n        currency: getData('currency'),\n        ...getData('messageOptions')\n    });\n    useEffect(() => {\n        const updateOptions = (e) => {\n            setOptions(e.detail.options);\n        }\n        document.addEventListener('stripeAffirmChange', updateOptions);\n\n        return () => document.removeEventListener('stripeAffirmChange', updateOptions);\n    }, []);\n\n    return (\n        <div className={'wc-stripe-label-container'}>\n            <Label text={title}/>\n            <div className={'wc-stripe-affirm-message-container'}>\n                <Elements stripe={initStripe} options={getData('elementOptions')}>\n                    <AffirmMessageElement options={options}/>\n                </Elements>\n            </div>\n        </div>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Affirm',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: ({cart}) => {\n            const {cartTotals, billingAddress} = cart;\n            const {currency_code} = cartTotals;\n            const amount = parseInt(cartTotals.total_price);\n            const requirements = getData('requirements');\n            const accountCountry = getData('accountCountry');\n            dispatchAffirmChange({\n                amount: amount,\n                currency: currency_code\n            });\n            return currency_code in requirements\n                && accountCountry === billingAddress.country\n                && 5000 <= amount && amount <= 3000000;\n        },\n        content: <PaymentMethod\n            content={AffirmPaymentMethod}\n            getData={getData}\n            confirmationMethod={'confirmAffirmPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useState, useEffect} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {OffsiteNotice, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {AfterpayClearpayMessageElement, Elements} from \"@stripe/react-stripe-js\";\nimport {__} from '@wordpress/i18n';\nimport {ExperimentalOrderMeta, TotalsWrapper} from '@woocommerce/blocks-checkout';\nimport {registerPlugin} from '@wordpress/plugins';\n\nconst getData = getSettings('stripe_afterpay_data');\n\nconst dispatchAfterpayChange = (options) => {\n    document.dispatchEvent(new CustomEvent('stripeAfterpayChange', {\n        detail: {\n            options\n        }\n    }))\n}\n\nconst isAvailable = ({total, currency, country}) => {\n    let available = false;\n    const billingCountry = country;\n    const requiredParams = getData('requiredParams');\n    const accountCountry = getData('accountCountry');\n    const requiredParamObj = requiredParams.hasOwnProperty(currency) ? requiredParams[currency] : false;\n    if (requiredParamObj) {\n        let countries = requiredParamObj?.[0];\n        if (!Array.isArray(countries)) {\n            countries = [countries];\n        }\n        available = countries.indexOf(accountCountry) > -1\n            && (currency !== 'EUR' || !billingCountry || accountCountry === billingCountry)\n            && (total > requiredParamObj?.[1] && total < requiredParamObj?.[2]);\n    }\n    return available;\n}\n\nconst PaymentMethodLabel = ({title, getData, ...props}) => {\n    const {PaymentMethodLabel: Label} = props.components;\n    const [options, setOptions] = useState({\n        amount: getData('cartTotal'),\n        currency: getData('currency'),\n        isCartEligible: getData('msgOptions').isEligible\n    });\n    useEffect(() => {\n        const updateOptions = e => setOptions(e.detail.options);\n        document.addEventListener('stripeAfterpayChange', updateOptions);\n        return () => document.removeEventListener('stripeAfterpayChange', updateOptions);\n    }, []);\n    return (\n        <div className={'wc-stripe-label-container'}>\n            <Label text={title}/>\n            <div className={'wc-stripe-afterpay-message-container'}>\n                <Elements stripe={initStripe} options={getData('elementOptions')}>\n                    <div className='wc-stripe-blocks-afterpay__label'>\n                        <AfterpayClearpayMessageElement options={{\n                            ...getData('msgOptions'),\n                            ...options\n                        }}/>\n                    </div>\n                </Elements>\n            </div>\n        </div>\n    )\n        ;\n}\n\nconst AfterpayPaymentMethod = ({content, billing, shippingData, ...props}) => {\n    const Content = content;\n    const {cartTotal, currency, billingData: {country}} = billing;\n    const {needsShipping} = shippingData\n    const total = parseInt(cartTotal.value) / 10 ** currency.minorUnit;\n    const isCartEligible = isAvailable({total, currency: currency.code, country});\n    return (\n        <>\n            <div className='wc-stripe-blocks-payment-method-content'>\n                {isCartEligible && <div className=\"wc-stripe-blocks-afterpay-offsite__container\">\n                    <OffsiteNotice paymentText={getData('title')} buttonText={getData('placeOrderButtonLabel')}/>\n                </div>}\n                <Content {...{...props, billing, shippingData}}/>\n            </div>\n        </>\n    );\n}\n\nconst OrderItemMessaging = ({cart, extensions, context}) => {\n    const {cartTotals, cartNeedsShipping: needsShipping, billingAddress: {country}} = cart;\n    const {total_price, currency_code: currency} = cartTotals;\n    const totalInCents = parseInt(cartTotals.total_price);\n    const total = parseInt(cartTotals.total_price) / (10 ** cartTotals.currency_minor_unit);\n    if (!isAvailable({total, currency, country})) {\n        return null;\n    }\n    return (\n        <TotalsWrapper>\n            <Elements stripe={initStripe} options={getData('elementOptions')}>\n                <div className='wc-stripe-blocks-afterpay-totals__item wc-block-components-totals-item'>\n                    <AfterpayClearpayMessageElement options={{\n                        ...getData('msgOptions'),\n                        ...{\n                            amount: totalInCents,\n                            currency,\n                            isCartEligible: isAvailable({total, currency, country})\n                        }\n                    }}/>\n                </div>\n            </Elements>\n        </TotalsWrapper>\n    );\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            getData={getData}/>,\n        ariaLabel: __('Afterpay', 'woo-stripe-payment'),\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData, ({settings, cartTotals, billingData}) => {\n            const {currency_code: currency, currency_minor_unit, total_price} = cartTotals;\n            const {country} = billingData;\n            const total = parseInt(total_price) / (10 ** currency_minor_unit);\n            const available = isAvailable({total, currency, country});\n            dispatchAfterpayChange({\n                amount: parseInt(cartTotals.total_price),\n                currency,\n                isCartEligible: available\n            });\n            if (!available && !settings('hideIneligible')) {\n                return true;\n            }\n            return available;\n        }),\n        content: <AfterpayPaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmAfterpayClearpayPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    });\n\n    const render = () => {\n        return (\n            <ExperimentalOrderMeta>\n                <OrderItemMessaging/>\n            </ExperimentalOrderMeta>\n        )\n    }\n    /*registerPlugin('wc-stripe', {\n        render: render,\n        scope: 'woocommerce-checkout'\n    })*/\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel} from \"../../components/checkout/payment-method-label\";\nimport {PaymentMethod} from \"../../components/checkout\";\n\nconst getData = getSettings('stripe_alipay_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Alipay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmAlipayPayment'}\n            getData={getData}/>,\n        edit: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_bancontact_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Bancontact',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmBancontactPayment'}\n            getData={getData}/>,\n        edit: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {AuBankAccountElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_becs_data');\n\nconst BecsPaymentMethod = (props) => {\n    return (\n        <>\n            <PaymentMethod {...props} />\n            <div className={'wc-stripe-blocks-mandate becs-mandate'}\n                 dangerouslySetInnerHTML={{__html: props.getData('mandate')}}/>\n        </>\n    );\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'BECS',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <BecsPaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmAuBecsDebitPayment'}\n            component={AuBankAccountElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useState, useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {sprintf, __} from '@wordpress/i18n';\nimport {\n    ensureErrorResponse,\n    ensureSuccessResponse,\n    getBillingDetailsFromAddress,\n    getSettings, initStripe as loadStripe,\n    isNextActionRequired,\n    StripeError\n} from \"../../util\";\nimport {PaymentMethod, PaymentMethodLabel} from \"../../../components/checkout\";\nimport {canMakePayment} from \"../local-payment-method\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport InputCodes from \"./input-codes\";\nimport Timer from './timer';\n\nconst getData = getSettings('stripe_blik_data');\n\nconst BLIKPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const currentData = useRef();\n    const [showTimer, setShowTimer] = useState(false);\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse: {responseTypes}} = props;\n    const {\n        onPaymentProcessing,\n        onCheckoutAfterProcessingWithSuccess,\n        onCheckoutValidationBeforeProcessing\n    } = eventRegistration;\n    const [codes, setCodes] = useState([]);\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {codes, billing, activePaymentMethod};\n    }, [\n        codes,\n        billing,\n        activePaymentMethod\n    ]);\n\n    const formatCodes = () => {\n        const response = currentData.current.codes.reduce((carry, code, idx) => {\n            return {...carry, [`blik_code_${idx}`]: code}\n        }, {});\n        return response;\n    }\n\n    useEffect(() => {\n        const unsubscribe = onPaymentProcessing(() => {\n            const {activePaymentMethod} = currentData.current;\n            if (getData('name') === activePaymentMethod) {\n                return ensureSuccessResponse(responseTypes, {\n                    meta: {\n                        paymentMethodData: {\n                            ...formatCodes()\n                        }\n                    }\n                });\n            }\n        });\n        return unsubscribe;\n    }, [\n        onPaymentProcessing\n    ])\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutValidationBeforeProcessing(() => {\n            const {activePaymentMethod} = currentData.current;\n            if (getData('name') === activePaymentMethod) {\n                if (codes.length < 6) {\n                    return ensureErrorResponse(responseTypes, __('Please enter your 6-digit BLIK code.', 'woo-stripe-payment'));\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        codes,\n        onCheckoutValidationBeforeProcessing\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess((async ({redirectUrl}) => {\n            const {activePaymentMethod} = currentData.current;\n            if (getData('name') === activePaymentMethod) {\n                const {billingAddress} = currentData.current.billing;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        setShowTimer(true)\n                        let result = await stripe.confirmBlikPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                                blik: {}\n                            },\n                            payment_method_options: {\n                                blik: {\n                                    code: codes.join('')\n                                }\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        if (result.paymentIntent.status === 'requires_payment_method') {\n                            throw new StripeError(result.paymentIntent.last_payment_error);\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    return ensureErrorResponse(responseTypes, error);\n                } finally {\n                    setShowTimer(false);\n                }\n            }\n        }));\n        return unsubscribe;\n    }, [\n        codes,\n        stripe,\n        onCheckoutAfterProcessingWithSuccess\n    ])\n\n    return (\n        <>\n            <Instructions/>\n            {!showTimer && <InputCodes onComplete={codes => setCodes(codes)}/>}\n            {showTimer && <Timer onTimeout={() => setShowTimer(false)}/>}\n        </>\n    )\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li>{__('Request your 6-digit code from your banking application.', 'woo-stripe-payment')}</li>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Enter the code into the input fields below. Click %1$s once you have entered the code.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>{__('You will receive a notification on your mobile device asking you to authorize the payment.', 'woo-stripe-payment')}</li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'BLIK',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod content={BLIKPaymentMethod} getData={getData}/>,\n        edit: <PaymentMethod content={BLIKPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","export * from './blik';","import {useState, useCallback, useRef} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\n\nexport const InputCodes = ({onComplete}) => {\n    const keyCode = useRef();\n    const refs = useRef([]);\n    const setRef = useCallback(idx => node => {\n        if (node) {\n            if (idx === 0) {\n                refs.current = [];\n            }\n            refs.current = [...refs.current, node];\n            if (idx === 0) {\n                node.focus();\n            }\n        }\n    }, []);\n    const onInput = idx => e => {\n        let next = idx;\n        if (keyCode.current === 8) {\n            if (idx > 0) {\n                next = idx - 1;\n            }\n        } else if (idx < 5) {\n            next = idx + 1;\n        }\n        if (refs.current[next]) {\n            refs.current[next].focus();\n        }\n    }\n\n    const onKeyDown = idx => e => {\n        keyCode.current = e.keyCode;\n        const value = refs.current[idx].value.length;\n        if (e.keyCode === 8) {\n            if (!value) {\n                onInput(idx)();\n            }\n        } else if (value) {\n            onInput(idx)();\n        }\n    }\n\n    const onChange = value => {\n        let codes = [];\n        for (const el of refs.current) {\n            if (el.value?.length) {\n                codes.push(el.value);\n            }\n        }\n        if (codes.length === 6) {\n            onComplete(codes);\n        }\n    }\n\n    return (\n        <div className={'wc-stripe-blik-codes-container'}>\n            <p>\n                {__('Please enter your 6 digit BLIK code.', 'woo-stripe-payment')}\n            </p>\n            <div className={'wc-stripe-blik-codes'}>\n                {[...Array(6).keys()].map(idx => {\n                    return <InputCode\n                        setRef={setRef(idx)}\n                        key={idx}\n                        idx={idx}\n                        onInput={onInput(idx)}\n                        onKeyDown={onKeyDown(idx)}\n                        onChange={onChange}\n                    />\n                })}\n            </div>\n        </div>\n    )\n}\n\nconst InputCode = (\n    {\n        setRef,\n        onInput,\n        onChange,\n        onKeyDown,\n    }) => {\n    return (\n        <span>\n            <input\n                ref={setRef}\n                type={'text'}\n                maxLength={1}\n                onKeyDown={onKeyDown}\n                onInput={onInput}\n                onChange={e => onChange(e.currentTarget.value)}/>\n        </span>\n    )\n}\n\nexport default InputCodes;","import {useState, useEffect} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\n\nexport const Timer = ({onTimeout}) => {\n    const [count, setCount] = useState(60);\n    useEffect(() => {\n        let count = 60;\n        const id = setInterval(() => {\n            if (count === 0) {\n                onTimeout();\n                return clearInterval(id);\n            }\n            count -= 1;\n            setCount(count);\n        }, 1000);\n        return () => clearInterval(id);\n    }, [onTimeout])\n\n    return (\n        <div className='wc-stripe-blik-timer-container'>\n            <div>\n                <p>{__('Your transaction will expire in:', 'woo-stripe-payment')}&nbsp;</p>\n                <div className={'wc-stripe-blik-timer'}>\n                    <span className={'timer'}>{count}s</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Timer;","import {useState, useEffect, useCallback} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport classnames from 'classnames';\nimport {ensureErrorResponse, ensureSuccessResponse, getSettings, isTestMode} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_boleto_data');\n\nconst BoletoPaymentMethodContainer = ({eventRegistration, ...props}) => {\n    const [taxId, setTaxId] = useState('');\n    const [isActive, setIsActive] = useState(false);\n    const {onPaymentProcessing} = eventRegistration;\n    const callback = useCallback(() => {\n        return {\n            boleto: {\n                tax_id: taxId\n            }\n        };\n    }, [taxId]);\n\n    useEffect(() => {\n        const unsubscribe = onPaymentProcessing(() => {\n            if (!taxId) {\n                return ensureErrorResponse(props.emitResponse.responseTypes, __('Please enter a valid CPF/CNPJ value', 'woo-stripe-payment'));\n            }\n            return ensureSuccessResponse(props.emitResponse.responseTypes, {\n                meta: {\n                    paymentMethodData: {\n                        wc_stripe_boleto_tax_id: taxId\n                    }\n                }\n            });\n        })\n        return () => unsubscribe();\n    }, [onPaymentProcessing, taxId]);\n    return (\n        <>\n            <div className={classnames('wc-block-components-text-input', {\n                'is-active': isActive || taxId\n            })}>\n                <input\n                    type='text'\n                    id='wc-stripe-boleto-tax_id'\n                    onChange={e => setTaxId(e.target.value)}\n                    onFocus={() => setIsActive(true)}\n                    onBlur={() => setIsActive(false)}/>\n                <label htmlFor='wc-stripe-boleto-tax_id'>{__(' CPF / CNPJ', ' woo-stripe-payment')}</label>\n            </div>\n            {isTestMode() &&\n            <div className='wc-stripe-boleto__description'>\n                <p>{__('Test mode values', 'woo-stripe-payment')}</p>\n                <div>\n                    <label>CPF:</label>&nbsp;<span>000.000.000-00</span>\n                </div>\n                <div>\n                    <label>CNPJ:</label>&nbsp;<span>00.000.000/0000-00</span>\n                </div>\n            </div>}\n            {!isTestMode() &&\n            <div className=\"wc-stripe-boleto__description\">\n                <p>{__('Accepted formats', 'woo-stripe-payment')}</p>\n                <div>\n                    <label>CPF:</label>&nbsp;\n                    <span>{__('XXX.XXX.XXX-XX or XXXXXXXXXXX', 'woo-stripe-payment')}</span>\n                </div>\n                <div>\n                    <label>CNPJ:</label>&nbsp;\n                    <span>{__('XX.XXX.XXX/XXXX-XX or XXXXXXXXXXXXXX', 'woo-stripe-payment')}</span>\n                </div>\n            </div>}\n            <LocalPaymentIntentContent callback={callback} {...{...props, ...{eventRegistration}}}/>\n        </>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Boleto',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={BoletoPaymentMethodContainer}\n            getData={getData}\n            confirmationMethod={'confirmBoletoPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {EpsBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_eps_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'EPS',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmEpsPayment'}\n            component={EpsBankElement}\n            getData={getData}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {FpxBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_fpx_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'FPX',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmFpxPayment'}\n            component={FpxBankElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_giropay_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Giropay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmGiropayPayment'}\n            getData={getData}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_grabpay_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'GrabPay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmGrabPayPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","export * from './use-after-process-local-payment';\nexport * from './use-validate-checkout';\nexport * from './use-create-source';","import {useEffect, useRef} from '@wordpress/element';\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {ensureErrorResponse, getBillingDetailsFromAddress, StripeError} from \"../../util\";\n\nexport const useAfterProcessLocalPayment = (\n    {\n        getData,\n        billingData,\n        eventRegistration,\n        responseTypes,\n        activePaymentMethod,\n        confirmationMethod,\n        getPaymentMethodArgs = () => ({})\n    }\n) => {\n    const stripe = useStripe();\n    const {onCheckoutAfterProcessingWithSuccess, onCheckoutAfterProcessingWithError} = eventRegistration;\n    const currentBillingData = useRef(billingData);\n    const currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\n    useEffect(() => {\n        currentBillingData.current = billingData;\n    }, [billingData]);\n\n    useEffect(() => {\n        currentPaymentMethodArgs.current = getPaymentMethodArgs;\n    }, [getPaymentMethodArgs]);\n\n    useEffect(() => {\n        const unsubscribeAfterProcessingWithSuccess = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\n            if (getData('name') === activePaymentMethod) {\n                try {\n                    let match = redirectUrl.match(/#response=(.+)/);\n                    if (match) {\n                        let {client_secret, return_url, ...order} = JSON.parse(window.atob(decodeURIComponent(match[1])));\n                        let result = await stripe[confirmationMethod](client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(currentBillingData.current),\n                                ...currentPaymentMethodArgs.current(currentBillingData.current)\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (e) {\n                    console.log(e);\n                    return ensureErrorResponse(responseTypes, e.error);\n                }\n            }\n        })\n        return () => unsubscribeAfterProcessingWithSuccess();\n    }, [\n        stripe,\n        onCheckoutAfterProcessingWithSuccess,\n        onCheckoutAfterProcessingWithError\n    ]);\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {\n    getDefaultSourceArgs,\n    ensureSuccessResponse,\n    ensureErrorResponse,\n    StripeError\n} from \"../../util\";\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\nimport {__} from '@wordpress/i18n';\n\nexport const useCreateSource = (\n    {\n        getData,\n        billing,\n        shippingAddress,\n        onPaymentProcessing,\n        responseTypes,\n        getSourceArgs = false,\n        element = false\n    }) => {\n    const [source, setSource] = useState(false);\n    const [isValid, setIsValid] = useState(false);\n    const currentValues = useRef({\n        billing,\n        shippingAddress,\n    });\n    const stripe = useStripe();\n    const elements = useElements();\n    useEffect(() => {\n        currentValues.current = {\n            billing,\n            shippingAddress\n        }\n    });\n\n    const getSourceArgsInternal = useCallback(() => {\n        const {billing} = currentValues.current;\n        const {cartTotal, currency, billingData} = billing;\n        let args = getDefaultSourceArgs({\n            type: getData('paymentType'),\n            amount: cartTotal.value,\n            billingData,\n            currency: currency.code,\n            returnUrl: getData('returnUrl')\n        });\n        if (getSourceArgs) {\n            args = getSourceArgs(args, {billingData});\n        }\n        return args;\n    }, []);\n\n    const getSuccessData = useCallback((sourceId) => {\n        return {\n            meta: {\n                paymentMethodData: {\n                    [`${getData('name')}_token_key`]: sourceId\n                }\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        const unsubscribe = onPaymentProcessing(async () => {\n            if (source) {\n                return ensureSuccessResponse(responseTypes, getSuccessData(source.id));\n            }\n            // create the source\n            try {\n                let result;\n                if (element) {\n                    // validate the element\n                    if (!isValid) {\n                        throw __('Please enter your payment info before proceeding.', 'woo-stripe-payment');\n                    }\n                    result = await stripe.createSource(elements.getElement(element), getSourceArgsInternal());\n                } else {\n                    result = await stripe.createSource(getSourceArgsInternal());\n                }\n                if (result.error) {\n                    throw new StripeError(result.error);\n                }\n                setSource(result.source);\n                return ensureSuccessResponse(responseTypes, getSuccessData(result.source.id));\n            } catch (err) {\n                console.log(err);\n                return ensureErrorResponse(responseTypes, err.error || err);\n            }\n        });\n        return () => unsubscribe();\n    }, [\n        source,\n        onPaymentProcessing,\n        stripe,\n        responseTypes,\n        element,\n        isValid,\n        setIsValid\n    ]);\n    return {setIsValid};\n}","import {useEffect, useRef, useState} from '@wordpress/element';\nimport {ensureErrorResponse} from \"../../util\";\nimport {__} from \"@wordpress/i18n\";\n\nexport const useValidateCheckout = (\n    {\n        subscriber,\n        responseTypes,\n        component = null,\n        msg = __('Please enter your payment info before proceeding.', 'woo-stripe-payment')\n    }) => {\n    const [isValid, setIsValid] = useState(false);\n\n    useEffect(() => {\n        const unsubscribe = subscriber(() => {\n            if (component && !isValid) {\n                return ensureErrorResponse(responseTypes, msg);\n            }\n            return true;\n        });\n        return () => unsubscribe();\n    }, [\n        subscriber,\n        isValid,\n        setIsValid,\n        responseTypes,\n        component\n    ]);\n    return {isValid, setIsValid};\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {IdealBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_ideal_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Ideal',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmIdealPayment'}\n            component={IdealBankElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import './klarna';\nimport './ideal';\nimport './p24';\nimport './bancontact';\nimport './giropay';\nimport './eps';\nimport './multibanco';\nimport './sepa';\nimport './sofort';\nimport './wechat';\nimport './fpx';\nimport './becs';\nimport './grabpay';\nimport './alipay'\nimport './afterpay';\nimport './boleto';\nimport './oxxo';\nimport './affirm';\nimport './blik';\nimport './konbini';\nimport './paynow';","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, isTestMode} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {__} from \"@wordpress/i18n\";\n\nconst getData = getSettings('stripe_klarna_data');\n\nconst KlarnaPaymentMethod = (props) => {\n    return (\n        <>\n            {isTestMode() &&\n            <div className=\"wc-stripe-klarna__testmode\">\n                <label>{__('Test mode sms', 'woo-stripe-payment')}:</label>&nbsp;<span>123456</span>\n            </div>}\n            <LocalPaymentIntentContent {...props}/>\n        </>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Klarna',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData, ({settings, billingData, cartTotals}) => {\n            const {country} = billingData;\n            const {currency_code: currency} = cartTotals;\n            const requiredParams = settings('requiredParams');\n            return [currency] in requiredParams && requiredParams[currency].includes(country);\n        }),\n        content: <PaymentMethod\n            content={KlarnaPaymentMethod}\n            getData={getData}\n            confirmationMethod={'confirmKlarnaPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {ensureErrorResponse, getBillingDetailsFromAddress, getSettings, initStripe as loadStripe, isNextActionRequired, StripeError} from \"../util\";\nimport {PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport {sprintf, __} from '@wordpress/i18n';\n\nconst getData = getSettings('stripe_konbini_data');\n\nconst KonbiniPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse: {responseTypes}} = props;\n    const {\n        onCheckoutAfterProcessingWithSuccess\n    } = eventRegistration;\n\n    const usePhoneAsConfirmation = useRef(true);\n    const currentData = useRef({billing, activePaymentMethod});\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {billing, activePaymentMethod};\n    }, [\n        billing,\n        activePaymentMethod\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\n            if (activePaymentMethod === getData('name')) {\n                const {billingAddress} = currentData.current.billing;\n                const usePhone = usePhoneAsConfirmation.current;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        let result = await stripe.confirmKonbiniPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                            },\n                            payment_method_options: {\n                                konbini: {\n                                    confirmation_number: usePhone ? order.billing_phone : order.confirmation_number\n                                }\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    if (error?.error?.code === 'payment_intent_konbini_rejected_confirmation_number') {\n                        usePhoneAsConfirmation.current = false;\n                    }\n                    return ensureErrorResponse(responseTypes, error);\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        stripe,\n        activePaymentMethod,\n        onCheckoutAfterProcessingWithSuccess\n    ]);\n\n    return <Instructions/>\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Click %1$s and you will be presented with your Konbini payment code and confirmation number.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>\n                {sprintf(__('Your order email will contain a link to your Konbini voucher which has your payment code and confirmation number.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('At the convenience store, provide the payment code and confirmation number to the payment machine or cashier.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('After the payment is complete, keep the receipt for your records.', 'woo-stripe-payment'))}\n            </li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Konbini',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={KonbiniPaymentMethod}\n            getData={getData}/>,\n        edit: <PaymentMethod content={KonbiniPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useCallback} from '@wordpress/element';\nimport {useElements, Elements} from \"@stripe/react-stripe-js\";\nimport {initStripe as loadStripe, cartContainsSubscription, cartContainsPreOrder} from '../util'\nimport {useAfterProcessLocalPayment, useValidateCheckout, useCreateSource} from \"./hooks\";\nimport {useProcessCheckoutError} from \"../hooks\";\n\n/**\n * Return true if the local payment method can be used.\n * @param settings\n * @returns {function({billingData: *, [p: string]: *}): *}\n */\nexport const canMakePayment = (settings, callback = false) => ({billingData, cartTotals, ...props}) => {\n    const {currency_code} = cartTotals;\n    const {country} = billingData;\n    const countries = settings('countries');\n    const type = settings('allowedCountries');\n    const supports = settings('features');\n    let canMakePayment = false;\n    if (settings('isAdmin')) {\n        canMakePayment = true;\n    } else {\n        // Check if there are any subscriptions or pre-orders in the cart.\n        if (cartContainsSubscription() && !supports.includes('subscriptions')) {\n            return false;\n        } else if (cartContainsPreOrder() && !supports.includes('pre-orders')) {\n            return false;\n        }\n        if (settings('currencies').includes(currency_code)) {\n            if (type === 'all_except') {\n                canMakePayment = !settings('exceptCountries').includes(country);\n            } else if (type === 'specific') {\n                canMakePayment = settings('specificCountries').includes(country);\n            } else {\n                canMakePayment = countries.length > 0 ? countries.includes(country) : true;\n            }\n        }\n        if (callback && canMakePayment) {\n            canMakePayment = callback({settings, billingData, cartTotals, ...props});\n        }\n    }\n    return canMakePayment;\n}\n\nexport const LocalPaymentIntentContent = ({getData, ...props}) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <LocalPaymentIntentMethod {...{...props, getData}}/>\n        </Elements>\n    )\n}\n\nexport const LocalPaymentSourceContent = (props) => {\n    return (\n        <Elements stripe={loadStripe}>\n            <LocalPaymentSourceMethod {...props}/>\n        </Elements>\n    )\n}\n\nconst LocalPaymentSourceMethod = (\n    {\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        eventRegistration,\n        getSourceArgs = false,\n        element = false\n    }) => {\n    const {shippingAddress} = shippingData;\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\n    const {responseTypes, noticeContexts} = emitResponse;\n    const onChange = (event) => {\n        setIsValid(event.complete);\n    }\n    const {setIsValid} = useCreateSource({\n        getData,\n        billing,\n        shippingAddress,\n        onPaymentProcessing,\n        responseTypes,\n        getSourceArgs,\n        element\n    });\n\n    if (element) {\n        return (\n            <LocalPaymentElementContainer\n                name={getData('name')}\n                options={getData('paymentElementOptions')}\n                onChange={onChange}\n                element={element}/>\n        )\n    }\n    return null;\n}\n\nexport const LocalPaymentIntentMethod = (\n    {\n        getData,\n        billing,\n        emitResponse,\n        eventRegistration,\n        activePaymentMethod,\n        confirmationMethod = null,\n        component = null,\n        callback = null,\n        ...props\n    }) => {\n    const elements = useElements();\n    const {billingData} = billing;\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\n    const {responseTypes, noticeContexts} = emitResponse;\n    const getPaymentMethodArgs = useCallback((billingData) => {\n        if (component) {\n            return {\n                [getData('paymentType')]: elements.getElement(component)\n            }\n        } else if (callback) {\n            return callback(billingData);\n        }\n        return {};\n    }, [\n        elements,\n        callback\n    ]);\n    const {setIsValid} = useValidateCheckout({\n            subscriber: onPaymentProcessing,\n            responseTypes,\n            component\n        }\n    );\n\n    useAfterProcessLocalPayment({\n        getData,\n        billingData,\n        eventRegistration,\n        responseTypes,\n        activePaymentMethod,\n        confirmationMethod,\n        getPaymentMethodArgs\n    });\n    useProcessCheckoutError({\n        responseTypes,\n        subscriber: onCheckoutAfterProcessingWithError,\n        messageContext: noticeContexts.PAYMENT\n    });\n    if (component) {\n        const onChange = (event) => setIsValid(!event.empty)\n        return (\n            <LocalPaymentElementContainer\n                name={getData('name')}\n                options={getData('paymentElementOptions')}\n                onChange={onChange}\n                element={component}\n                callback={callback}\n                billing={billing}\n                {...props}/>\n        )\n    }\n    return null;\n}\n\nconst LocalPaymentElementContainer = ({name, onChange, element, options, ...props}) => {\n    const Tag = element;\n    const displayName = Tag?.displayName || '';\n    return (\n        <div className={`wc-stripe-local-payment-container ${name} ${displayName}`}>\n            <Tag options={options} onChange={onChange} {...props}/>\n        </div>\n    )\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentSourceContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_multibanco_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'MultiBanco',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod content={LocalPaymentSourceContent} getData={getData}/>,\n        edit: <PaymentMethod content={LocalPaymentSourceContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {IdealBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_oxxo_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'OXXO',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmOxxoPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {P24BankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_p24_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'P24',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmP24Payment'}\n            component={P24BankElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {ensureErrorResponse, getBillingDetailsFromAddress, getSettings, initStripe as loadStripe, isNextActionRequired, StripeError} from \"../util\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport {__, sprintf} from '@wordpress/i18n';\n\nconst getData = getSettings('stripe_paynow_data');\n\nconst PayNowPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse: {responseTypes}} = props;\n    const {\n        onCheckoutAfterProcessingWithSuccess\n    } = eventRegistration;\n\n    const currentData = useRef({billing, activePaymentMethod});\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {billing, activePaymentMethod};\n    }, [\n        billing,\n        activePaymentMethod\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\n            if (activePaymentMethod === getData('name')) {\n                const {billingAddress} = currentData.current.billing;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        let result = await stripe.confirmPayNowPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        if (result.paymentIntent.status === 'requires_action') {\n                            throw __('PayNow payment cancelled.', 'woo-stripe-payment');\n                        }\n                        if (result.paymentIntent.status === 'requires_payment_method') {\n                            throw __('PayNow payment expired. Please try again.', 'woo-stripe-payment');\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    return ensureErrorResponse(responseTypes, error);\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        stripe,\n        activePaymentMethod,\n        onCheckoutAfterProcessingWithSuccess\n    ]);\n\n    return <Instructions/>\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Click %1$s and you will be shown a QR code.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>\n                {sprintf(__('Scan the QR code using an app from participating banks and participating non-bank financial institutions.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('The authentication process may take several moments. Once confirmed, you will be redirected to the order received page.', 'woo-stripe-payment'))}\n            </li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'PayNow',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={PayNowPaymentMethod}\n            getData={getData}/>,\n        edit: <PaymentMethod content={PayNowPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, cartContainsPreOrder, cartContainsSubscription} from \"../util\";\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment, LocalPaymentIntentContent} from \"./local-payment-method\";\nimport {IbanElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_sepa_data');\n\nconst LocalPaymentMethod = (PaymentMethod) => (props) => {\n    return (\n        <>\n            <PaymentMethod {...props}/>\n            <div className={'wc-stripe-blocks-mandate sepa-mandate'}\n                 dangerouslySetInnerHTML={{__html: props.getData('mandate')}}/>\n        </>\n    )\n}\n\nconst SepaPaymentMethod = LocalPaymentMethod(PaymentMethod);\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'SEPA',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <SepaPaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmSepaDebitPayment'}\n            component={IbanElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\n\nconst getData = getSettings('stripe_sofort_data');\n\nconst getConfirmationArgs = (billingData) => {\n    return {sofort: {country: billingData.country}};\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Sofort',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmSofortPayment'}\n            getData={getData}\n            callback={getConfirmationArgs}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {useEffect, useRef, useState, useCallback} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {\n    getSettings,\n    initStripe as loadStripe,\n    getDefaultSourceArgs,\n    isAddressValid,\n    StripeError,\n    isTestMode,\n    ensureSuccessResponse,\n    getErrorMessage,\n    storeInCache,\n    getFromCache,\n    deleteFromCache\n} from \"../util\";\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport {useValidateCheckout} from \"./hooks\";\nimport {__} from '@wordpress/i18n';\n//import QRCode from 'QRCode';\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {useStripeError} from \"../hooks\";\n\nconst getData = getSettings('stripe_wechat_data');\n\nconst WeChatComponent = (props) => {\n    return (\n        <Elements stripe={loadStripe}>\n            <WeChatPaymentMethod {...props}/>\n        </Elements>\n    )\n}\n\nconst WeChatPaymentMethod = (\n    {\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        eventRegistration,\n        components\n    }) => {\n    const size = parseInt(getData('qrSize'));\n    const {responseTypes} = emitResponse;\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithSuccess} = eventRegistration;\n    const {ValidationInputError} = components;\n    const {isValid, setIsValid} = useValidateCheckout({\n        subscriber: eventRegistration.onPaymentProcessing,\n        responseTypes: emitResponse.responseTypes,\n        msg: __('Please scan your QR code to continue with payment.', 'woo-stripe-payment')\n    });\n\n    const {source, error, deleteSourceFromStorage} = useCreateSource({\n        getData,\n        billing,\n        responseTypes,\n        subscriber: onPaymentProcessing\n    })\n\n    /**\n     * delete the source from storage once payment is successful.\n     * If test mode, redirect to the Stripe test url.\n     * If live mode, redirect to the return Url.\n     */\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(() => {\n            deleteSourceFromStorage();\n            return ensureSuccessResponse(responseTypes);\n        });\n        return () => unsubscribe();\n    }, [\n        source,\n        onCheckoutAfterProcessingWithSuccess,\n        deleteSourceFromStorage\n    ]);\n\n    useEffect(() => {\n        if (source) {\n            setIsValid(true);\n        }\n    }, [source]);\n\n    if (source) {\n        return (\n            <QRCodeComponent text={source.wechat.qr_code_url} width={size} height={size}/>\n        );\n    } else if (error) {\n        return (\n            <div className='wechat-validation-error'>\n                <ValidationInputError errorMessage={getErrorMessage(error)}/>\n            </div>\n        );\n    } else {\n        // if billing address is not valid\n        if (!isAddressValid(billing.billingData)) {\n            return __('Please fill out all the required fields in order to complete the WeChat payment.', 'woo-stripe-payment');\n        }\n    }\n    return null;\n}\n\nconst QRCodeComponent = (\n    {\n        text,\n        width = 128,\n        height = 128,\n        colorDark = '#424770',\n        colorLight = '#f8fbfd',\n        correctLevel = QRCode.CorrectLevel.H\n    }) => {\n    const el = useRef();\n    useEffect(() => {\n        new QRCode(el.current, {\n            text,\n            width,\n            height,\n            colorDark,\n            colorLight,\n            correctLevel\n        })\n    }, [el]);\n    return (\n        <>\n            <div id='wc-stripe-block-qrcode' ref={el}></div>\n            {isTestMode() && <p>\n                {__('Test mode: Click the Place Order button to proceed.', 'woo-stripe-payment')}\n            </p>}\n            {!isTestMode() && <p>\n                {__('Scan the QR code using your WeChat app. Once scanned click the Place Order button.', 'woo-stripe-payment')}\n            </p>}\n        </>\n    )\n}\n\nconst useCreateSource = (\n    {\n        getData,\n        billing,\n        responseTypes,\n        subscriber\n    }) => {\n    const stripe = useStripe();\n    const [error, setError] = useStripeError();\n    const [source, setSource] = useState(getFromCache('wechat:source'));\n    const createSourceTimeoutId = useRef(null);\n    const {cartTotal, billingData, currency} = billing;\n\n    useEffect(() => {\n        const unsubscribe = subscriber(() => {\n            return ensureSuccessResponse(responseTypes, {\n                meta: {\n                    paymentMethodData: {\n                        [`${getData('name')}_token_key`]: source.id\n                    }\n                }\n            })\n        });\n        return () => unsubscribe();\n    }, [source, subscriber]);\n\n    const createSource = useCallback(async () => {\n        // validate the billing fields. If valid, create the source.\n        try {\n            if (!error && isAddressValid(billingData)) {\n                let result = await stripe.createSource(getDefaultSourceArgs({\n                    type: getData('paymentType'),\n                    amount: cartTotal.value,\n                    billingData,\n                    currency: currency.code,\n                    returnUrl: getData('returnUrl')\n                }));\n                if (result.error) {\n                    throw new StripeError(result.error);\n                }\n                setSource(result.source);\n                storeInCache('wechat:source', result.source);\n            }\n        } catch (err) {\n            console.log('error: ', err);\n            setError(err.error);\n        }\n    }, [\n        stripe,\n        source,\n        cartTotal.value,\n        billingData,\n        currency,\n        error\n    ]);\n    const deleteSourceFromStorage = useCallback(() => {\n        deleteFromCache('wechat:source');\n    }, []);\n\n    useEffect(() => {\n        if (stripe && !source) {\n            // if there is an existing request, cancel it.\n            clearTimeout(createSourceTimeoutId.current);\n            createSourceTimeoutId.current = setTimeout(createSource, 1000);\n        }\n    }, [\n        stripe,\n        source,\n        createSource\n    ]);\n\n    return {source, setSource, error, deleteSourceFromStorage};\n}\n\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'WeChat',\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod content={WeChatComponent} getData={getData}/>,\n        edit: <PaymentMethod content={WeChatComponent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import './style.scss';\n\nimport './payment-method';","import {useMemo, useEffect, useRef} from '@wordpress/element';\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe as loadStripe, canMakePayment} from \"../util\";\nimport {useBreakpointWidth, useExpressBreakpointWidth} from '../hooks';\nimport {Elements, PaymentRequestButtonElement, useStripe} from \"@stripe/react-stripe-js\";\nimport {\n    usePaymentRequest,\n    useProcessPaymentIntent,\n    useExportedValues,\n    useAfterProcessingPayment,\n    useStripeError\n} from '../hooks';\n\nconst getData = getSettings('stripe_payment_request_data');\n\nconst PaymentRequestContent = (props) => {\n    return (\n        <div className='wc-stripe-payment-request-container'>\n            <Elements stripe={loadStripe}>\n                <PaymentRequestButton {...props}/>\n            </Elements>\n        </div>\n    );\n}\n\nconst PaymentRequestButton = (\n    {\n        getData,\n        onClick,\n        onClose,\n        billing,\n        shippingData,\n        eventRegistration,\n        emitResponse,\n        onSubmit,\n        activePaymentMethod,\n        ...props\n    }) => {\n    const {onPaymentProcessing} = eventRegistration;\n    const {responseTypes, noticeContexts} = emitResponse;\n    const stripe = useStripe();\n    const [error] = useStripeError();\n    const canPay = (result) => result != null && !result.applePay;\n    const exportedValues = useExportedValues();\n    useExpressBreakpointWidth({payment_method: getData('name'), width: 375});\n    const {setPaymentMethod} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        onPaymentProcessing,\n        emitResponse,\n        error,\n        onSubmit,\n        activePaymentMethod,\n        exportedValues\n    });\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        responseTypes,\n        activePaymentMethod,\n        messageContext: noticeContexts.EXPRESS_PAYMENTS\n    });\n    const {paymentRequest} = usePaymentRequest({\n        getData,\n        onClose,\n        stripe,\n        billing,\n        shippingData,\n        eventRegistration,\n        setPaymentMethod,\n        exportedValues,\n        canPay\n    });\n\n    const options = useMemo(() => {\n        return {\n            paymentRequest,\n            style: {\n                paymentRequestButton: getData('paymentRequestButton')\n            }\n        }\n    }, [paymentRequest]);\n\n    if (paymentRequest) {\n        return (\n            <PaymentRequestButtonElement options={options} onClick={onClick}/>\n        )\n    }\n    return null;\n}\n\nconst PaymentRequestEdit = ({getData, ...props}) => {\n    const canvas = useRef();\n    useEffect(() => {\n        const scale = window.devicePixelRatio;\n        canvas.current.width = 20 * scale;\n        canvas.current.height = 20 * scale;\n        let ctx = canvas.current.getContext('2d');\n        ctx.scale(scale, scale);\n        ctx.beginPath();\n        ctx.arc(10, 10, 10, 0, 2 * Math.PI);\n        ctx.fillStyle = '#986fff';\n        ctx.fill();\n    });\n    return (\n        <div className='payment-request-block-editor'>\n            <div className={'icon-container'}>\n                <span>Buy now</span>\n                <canvas className='PaymentRequestButton-icon' ref={canvas}/>\n                <i className={'payment-request-arrow'}></i>\n            </div>\n        </div>\n    )\n}\n\nregisterExpressPaymentMethod({\n    name: getData('name'),\n    canMakePayment: ({cartTotals}) => {\n        if (getData('isAdmin')) {\n            return true;\n        }\n        const {currency_code: currency, total_price} = cartTotals;\n        return canMakePayment({\n            country: getData('countryCode'),\n            currency: currency.toLowerCase(),\n            total: {\n                label: getData('totalLabel'),\n                amount: parseInt(total_price)\n            }\n        }, (result) => result != null && !result.applePay);\n    },\n    content: <PaymentRequestContent getData={getData}/>,\n    edit: <PaymentRequestEdit getData={getData}/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n});","import {useEffect, useCallback} from '@wordpress/element';\nimport {handleCardAction} from '@paymentplugins/stripe/util';\nimport {useProcessCheckoutError} from './hooks';\n\nconst SavedCardComponent = (\n    {\n        eventRegistration,\n        emitResponse,\n        getData,\n        method = 'handleCardAction'\n    }) => {\n    const {onCheckoutAfterProcessingWithSuccess, onCheckoutAfterProcessingWithError} = eventRegistration;\n    const {responseTypes} = emitResponse;\n    useProcessCheckoutError({\n        responseTypes,\n        subscriber: onCheckoutAfterProcessingWithError,\n        messageContext: emitResponse.noticeContexts.PAYMENTS\n    })\n    const handleSuccessResult = useCallback(async ({redirectUrl}) => {\n        return await handleCardAction({redirectUrl, getData, responseTypes, method});\n    }, []);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(handleSuccessResult);\n        return () => unsubscribe();\n    }, [onCheckoutAfterProcessingWithSuccess, handleSuccessResult]);\n    return null;\n}\n\nexport default SavedCardComponent;\n","import {loadStripe} from '@stripe/stripe-js';\nimport {getSetting} from '@woocommerce/settings'\nimport apiFetch from \"@wordpress/api-fetch\";\nimport {getCurrency, formatPrice as wcFormatPrice} from '@woocommerce/price-format';\n\nconst {publishableKey, stripeParams} = getSetting('stripeGeneralData');\nconst messages = getSetting('stripeErrorMessages');\nconst countryLocale = getSetting('countryLocale', {});\n\nconst SHIPPING_OPTION_REGEX = /^([\\w]+)\\:(.+)$/;\n\nconst routes = getSetting('stripeGeneralData').routes;\n\nconst creditCardForms = {};\n\nconst localPaymentMethods = [];\n\nconst CACHE_PREFIX = 'stripe:';\n\nconst PAYMENT_REQUEST_ADDRESS_MAPPINGS = {\n    recipient: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    payerName: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    country: 'country',\n    addressLine: (address, value) => {\n        if (value[0]) {\n            address.address_1 = value[0];\n        }\n        if (value[1]) {\n            address.address_2 = value[1];\n        }\n        return address;\n    },\n    line1: 'address_1',\n    line2: 'address_2',\n    city: 'city',\n    region: 'state',\n    state: 'state',\n    postalCode: 'postcode',\n    postal_code: 'postcode',\n    payerEmail: 'email',\n    payerPhone: 'phone'\n}\n\nexport const initStripe = new Promise((resolve, reject) => {\n    loadStripe(publishableKey, stripeParams).then(stripe => {\n        resolve(stripe);\n    }).catch(err => {\n        resolve({error: err});\n    });\n});\n\nexport const registerCreditCardForm = ({id, ...props}) => {\n    creditCardForms[id] = props;\n}\n\nexport const getCreditCardForm = (id) => {\n    return creditCardForms.hasOwnProperty(id) ? creditCardForms[id] : {};\n}\n\nexport const getRoute = (route) => {\n    return routes?.[route] ? routes[route] : console.log(`${route} is not a valid route`);\n}\n\nexport const ensureSuccessResponse = (responseTypes, data = {}) => {\n    return {type: responseTypes.SUCCESS, ...data};\n}\n\n/**\n * Returns a formatted error object used by observers\n * @param responseTypes\n * @param error\n * @returns {{type: *, message: *}}\n */\nexport const ensureErrorResponse = (responseTypes, error, options = {}) => {\n    return {type: responseTypes.ERROR, message: getErrorMessage(error), ...options}\n};\n\n/**\n * Return a customized error message.\n * @param error\n */\nexport const getErrorMessage = (error) => {\n    if (typeof error == 'string') {\n        return error;\n    }\n    if (error?.code && messages?.[error.code]) {\n        return messages[error.code];\n    }\n    if (error?.statusCode) {\n        return messages?.[error.statusCode] ? messages[error.statusCode] : error.statusMessage;\n    }\n    return error.message;\n}\n\n/**\n * Return a Stripe formatted billing_details object from a WC address\n * @param billingAddress\n */\nexport const getBillingDetailsFromAddress = (billingAddress) => {\n    let billing_details = {\n        name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n        address: {\n            city: billingAddress.city || null,\n            country: billingAddress.country || null,\n            line1: billingAddress.address_1 || null,\n            line2: billingAddress.address_2 || null,\n            postal_code: billingAddress.postcode || null,\n            state: billingAddress.state || null\n        }\n    }\n    if (billingAddress?.phone) {\n        billing_details.phone = billingAddress.phone;\n    }\n    if (billingAddress?.email) {\n        billing_details.email = billingAddress.email;\n    }\n    return billing_details;\n}\n\nexport const getSettings = (name) => (key) => {\n    if (key) {\n        return getSetting(name)[key];\n    }\n    return getSetting(name);\n}\n\nexport class StripeError extends Error {\n    constructor(error) {\n        super(error.message);\n        this.error = error;\n    }\n}\n\n/**\n * Returns true if the provided value is empty.\n * @param value\n * @returns {boolean}\n */\nexport const isEmpty = (value) => {\n    if (typeof value === 'string') {\n        return value.length == 0 || value == '';\n    }\n    if (Array.isArray(value)) {\n        return array.length == 0;\n    }\n    if (typeof value === 'object') {\n        return Object.keys(value).length == 0;\n    }\n    if (typeof value === 'undefined') {\n        return true;\n    }\n    return true;\n}\n\nexport const removeNumberPrecision = (value, unit) => {\n    return value / 10 ** unit;\n}\n\n/**\n *\n * @param address\n * @param country\n */\nexport const isAddressValid = (address, exclude = []) => {\n    const fields = getLocaleFields(address.country);\n    for (const [key, value] of Object.entries(address)) {\n        if (!exclude.includes(key) && fields?.[key] && fields[key].required) {\n            if (isEmpty(value)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport const getLocaleFields = (country) => {\n    let localeFields = {...countryLocale.default};\n    if (country && countryLocale?.[country]) {\n        localeFields = Object.entries(countryLocale[country]).reduce((locale, [key, value]) => {\n            locale[key] = {...locale[key], ...value}\n            return locale;\n        }, localeFields);\n        ['phone', 'shipping-phone', 'email'].forEach(key => {\n            let node = document.getElementById(key);\n            if (node) {\n                localeFields[key] = {required: node.required};\n            }\n        });\n    }\n    return localeFields;\n}\n\n/**\n * Return true if the field is required by the cart\n * @param field\n * @param country\n * @returns {boolean|*}\n */\nexport const isFieldRequired = (field, country = false) => {\n    const fields = getLocaleFields(country);\n    return [field] in fields && fields[field].required;\n}\n\nexport const getSelectedShippingOption = (id) => {\n    const result = id.match(SHIPPING_OPTION_REGEX);\n    if (result) {\n        const {1: packageIdx, 2: rate} = result;\n        return [rate, packageIdx];\n    }\n    return [];\n}\n\nexport const hasShippingRates = (shippingRates) => {\n    return shippingRates.map(rate => {\n        return rate.shipping_rates.length > 0;\n    }).filter(Boolean).length > 0;\n}\n\n/**\n * Return true if the customer is logged in.\n * @param customerId\n * @returns {boolean}\n */\nexport const isUserLoggedIn = (customerId) => {\n    return customerId > 0;\n}\n\nconst syncPaymentIntentWithOrder = async (order_id, client_secret) => {\n    try {\n        await apiFetch({\n            url: routes['sync/intent'],\n            method: 'POST',\n            data: {order_id, client_secret}\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const handleCardAction = async (\n    {\n        redirectUrl,\n        responseTypes,\n        name,\n        method = 'handleCardAction',\n        savePaymentMethod = false,\n        data = {}\n    }) => {\n    try {\n        let match = redirectUrl.match(/#response=(.+)/)\n        if (match) {\n            let {type, client_secret, order_id, order_key} = JSON.parse(window.atob(decodeURIComponent(match[1])));\n            const stripe = await initStripe;\n            let result;\n            if (type === 'intent') {\n                result = await stripe[method](client_secret);\n            } else {\n                result = await stripe.confirmCardSetup(client_secret);\n            }\n            if (result.error) {\n                return ensureErrorResponse(responseTypes, result.error);\n            }\n            // success so finish processing order then redirect to thank you page\n            data = {...data, order_id, order_key, [`${name}_save_source_key`]: savePaymentMethod};\n            let response = await apiFetch({\n                url: getRoute('process/payment'),\n                method: 'POST',\n                data\n            })\n            if (response.messages) {\n                return ensureErrorResponse(responseTypes, response.messages);\n            }\n            return ensureSuccessResponse(responseTypes, {\n                redirectUrl: response.redirect\n            });\n        } else {\n            return ensureSuccessResponse(responseTypes);\n        }\n    } catch (err) {\n        console.log(err);\n        return ensureErrorResponse(responseTypes, err);\n    }\n}\n\n/**\n * Convert a payment wallet address to a WC cart address.\n * @param address_mappings\n * @returns {function(*, *=): {}}\n */\nexport const toCartAddress = (address_mappings = PAYMENT_REQUEST_ADDRESS_MAPPINGS) => (address, args = {}) => {\n    const cartAddress = {};\n    address = {...address, ...filterEmptyValues(args)};\n    for (let [key, cartKey] of Object.entries(address_mappings)) {\n        if (address?.[key]) {\n            if (typeof cartKey === 'function') {\n                cartKey(cartAddress, address[key]);\n            } else {\n                cartAddress[cartKey] = address[key];\n            }\n        }\n    }\n    return cartAddress;\n}\n\n/**\n * Given a WC formatted address, return only the intermediate address values\n * @param address\n * @param fields\n */\nexport const getIntermediateAddress = (address, fields = ['city', 'postcode', 'state', 'country']) => {\n    const intermediateAddress = {};\n    for (let key of fields) {\n        intermediateAddress[key] = address[key];\n    }\n    return intermediateAddress;\n}\n\n/**\n *\n * @param values\n * @returns {{}|{[p: string]: *}}\n */\nexport const filterEmptyValues = (values) => {\n    return Object.keys(values).filter(key => Boolean(values[key])).reduce((obj, key) => ({\n        ...obj,\n        [key]: values[key]\n    }), {});\n}\n\nexport const formatPrice = (price, currencyCode) => {\n    const {prefix, suffix, decimalSeparator, minorUnit, thousandSeparator} = getCurrency(currencyCode);\n    if (price == '' || price === undefined) {\n        return price;\n    }\n\n    price = typeof price === 'string' ? parseInt(price, 10) : price;\n    price = price / 10 ** minorUnit;\n    price = price.toString().replace('.', decimalSeparator);\n    let fractional = '';\n    const index = price.indexOf(decimalSeparator);\n    if (index < 0) {\n        if (minorUnit > 0) {\n            price += `${decimalSeparator}${new Array(minorUnit + 1).join('0')}`;\n        }\n    } else {\n        fractional = price.substr(index + 1);\n        if (fractional.length < minorUnit) {\n            price += new Array(minorUnit - fractional.length + 1).join('0');\n        }\n    }\n\n    // separate out price and decimals so thousands separator can be added.\n    const match = price.match(new RegExp(`(\\\\d+)\\\\${decimalSeparator}(\\\\d+)`));\n    if (match) {\n        ({1: price, 2: fractional} = match);\n    }\n    price = price.replace(new RegExp(`\\\\B(?=(\\\\d{3})+(?!\\\\d))`, 'g'), `${thousandSeparator}`);\n    price = fractional?.length > 0 ? price + decimalSeparator + fractional : price;\n    price = prefix + price + suffix;\n    return price;\n}\n\nexport const getShippingOptions = (shippingRates) => {\n    let options = [];\n    shippingRates.forEach((shippingPackage, idx) => {\n        // sort by selected rate\n        shippingPackage.shipping_rates.sort((rate) => {\n            return rate.selected ? -1 : 1;\n        });\n        let rates = shippingPackage.shipping_rates.map(rate => {\n            let txt = document.createElement('textarea');\n            txt.innerHTML = rate.name;\n            let price = formatPrice(rate.price, rate.currency_code);\n            return {\n                id: getShippingOptionId(idx, rate.rate_id),\n                label: txt.value,\n                //detail: `${price}`,\n                amount: parseInt(rate.price, 10)\n            }\n        });\n        options = [...options, ...rates];\n    });\n    return options;\n}\n\nexport const getShippingOptionId = (packageId, rateId) => `${packageId}:${rateId}`\n\nexport const getDisplayItems = (cartItems, {minorUnit}) => {\n    let items = [];\n    const keys = ['total_tax', 'total_shipping'];\n    cartItems.forEach(item => {\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\n            items.push({\n                label: item.label,\n                pending: false,\n                amount: item.value\n            });\n        }\n    })\n    return items;\n}\n\nconst canPay = {};\n\nexport const canMakePayment = ({country, currency, total}, callback) => {\n    return new Promise((resolve, reject) => {\n        const key = [country, currency, total.amount].reduce((key, value) => `${key}-${value}`);\n        if (!currency) {\n            return resolve(false);\n        }\n        if (key in canPay) {\n            return resolve(canPay[key]);\n        }\n        return initStripe.then(stripe => {\n            if (stripe.error) {\n                return reject(stripe.error);\n            }\n            const request = stripe.paymentRequest({\n                country,\n                currency,\n                total\n            });\n            request.canMakePayment().then(result => {\n                canPay[key] = callback(result);\n                return resolve(canPay[key]);\n            });\n        }).catch(reject);\n    });\n};\n\nexport const registerLocalPaymentMethod = (paymentMethod) => {\n    localPaymentMethods.push(paymentMethod);\n}\n\nexport const getLocalPaymentMethods = () => localPaymentMethods;\n\nexport const cartContainsPreOrder = () => {\n    const data = getSetting('stripePaymentData');\n    return data && data.pre_order;\n}\n\nexport const cartContainsSubscription = () => {\n    const data = getSetting('stripePaymentData');\n    return data && data.subscription;\n}\n\nexport const getDefaultSourceArgs = ({type, amount, billingData, currency, returnUrl}) => {\n    return {\n        type,\n        amount,\n        currency,\n        owner: getBillingDetailsFromAddress(billingData),\n        redirect: {\n            return_url: returnUrl\n        }\n    }\n}\n\nexport const isTestMode = () => {\n    return getSetting('stripeGeneralData').mode === 'test';\n}\n\nconst getCacheKey = (key) => `${CACHE_PREFIX}${key}`;\n\nexport const storeInCache = (key, value) => {\n    const exp = Math.floor(new Date().getTime() / 1000) + (60 * 15);\n    if ('sessionStorage' in window) {\n        sessionStorage.setItem(getCacheKey(key), JSON.stringify({value, exp}));\n    }\n}\n\nexport const getFromCache = (key) => {\n    if ('sessionStorage' in window) {\n        try {\n            const item = JSON.parse(sessionStorage.getItem(getCacheKey(key)));\n            if (item) {\n                const {value, exp} = item;\n                if (Math.floor(new Date().getTime() / 1000) > exp) {\n                    deleteFromCache(getCacheKey(key));\n                } else {\n                    return value;\n                }\n            }\n        } catch (err) {\n        }\n    }\n    return null;\n}\n\nexport const deleteFromCache = (key) => {\n    if ('sessionStorage' in window) {\n        sessionStorage.removeItem(getCacheKey(key));\n    }\n}\n\nexport const versionCompare = (ver1, ver2, compare) => {\n    switch (compare) {\n        case '<':\n            return ver1 < ver2;\n        case '>':\n            return ver1 > ver2;\n        case '<=':\n            return ver1 <= ver2;\n        case '>=':\n            return ver1 >= ver2;\n        case '=':\n            return ver1 == ver2;\n    }\n    return false;\n}\n\nexport const isCartPage = () => getSetting('stripeGeneralData').page === 'cart';\n\nexport const isCheckoutPage = () => getSetting('stripeGeneralData').page === 'checkout';\n\nexport const isNextActionRequired = (url) => {\n    let match = url.match(/#response=(.+)/);\n    let args = null;\n    if (match) {\n        args = JSON.parse(window.atob(decodeURIComponent(match[1])));\n    }\n    return args;\n}\n\nexport const DEFAULT_SHIPPING_ADDRESS = {\n    'first_name': '',\n    'last_name': '',\n    'company': '',\n    'address_1': '',\n    'address_2': '',\n    'city': '',\n    'state': '',\n    'postcode': '',\n    'country': '',\n    'phone': '',\n}\n\nexport const DEFAULT_BILLING_ADDRESS = {\n    ...DEFAULT_SHIPPING_ADDRESS,\n    'email': ''\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["module","exports","arr","len","length","i","arr2","Array","isArray","arrayLikeToArray","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","Class","Reflect","construct","a","push","Function","bind","prototype","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","obj","_extends","assign","source","hasOwnProperty","call","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","__esModule","toString","indexOf","sham","Proxy","Date","e","iter","Symbol","iterator","from","_arr","_n","_d","_e","_s","_i","next","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","keys","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","n","slice","name","test","isNativeFunction","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","React","emptyFunction","emptyFunctionWithReset","resetWarningCache","propTypes","shim","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","factoryWithThrowingShims","ownKeys","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","usePrevious","ref","useRef","useEffect","current","isUnknownObject","raw","PLAIN_OBJECT_STR","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","every","extractAllowedOptionsUpdates","options","prevOptions","immutableKeys","reduce","newOptions","isUpdated","includes","console","warn","concat","validateStripe","maybeStripe","elements","createToken","createPaymentMethod","confirmCardPayment","parseStripeProp","isPromise","tag","stripePromise","stripe","ElementsContext","createContext","displayName","CartElementContext","Elements","_ref","rawStripeProp","children","parsed","useMemo","_React$useState2","useState","cart","setCart","_React$useState4","cartState","setCartState","_React$useState6","ctx","setContext","isMounted","safeSetContext","prevStripe","updates","update","anyStripe","_registerWrapper","registerAppInfo","version","url","createElement","Provider","useElementsContextWithUseCase","useCaseMessage","useCase","parseElementsContext","useContext","useCartElementContextWithUseCase","parseCartElementContext","ElementsConsumer","_ref2","useCallbackReference","cb","noop","createElementComponent","type","isServer","str","charAt","toUpperCase","Element","id","className","_ref$options","_ref$onBlur","onBlur","_ref$onFocus","onFocus","_ref$onReady","onReady","_ref$onChange","onChange","_ref$onEscape","onEscape","_ref$onClick","onClick","_ref$onLoadError","onLoadError","_ref$onLoaderStart","onLoaderStart","_ref$onNetworksChange","onNetworksChange","_ref$onCheckout","onCheckout","_ref$onLineItemClick","onLineItemClick","elementRef","domNode","_useCartElementContex","callOnReady","callOnBlur","callOnFocus","callOnClick","callOnChange","callOnEscape","callOnLoadError","callOnLoaderStart","callOnNetworksChange","callOnCheckout","callOnLineItemClick","useLayoutEffect","mount","on","event","destroy","__elementType","window","AuBankAccountElement","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","P24BankElement","EpsBankElement","PaymentElement","PaymentRequestButtonElement","LinkAuthenticationElement","AddressElement","ShippingAddressElement","CartElement","PaymentMethodMessagingElement","AffirmMessageElement","AfterpayClearpayMessageElement","useCartElement","useCartElementState","useElements","useStripe","factory","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","initStripe","startTime","registerWrapper","stripePromise$1","params","Stripe","script","scripts","document","querySelectorAll","src","findScript","queryString","advancedFraudSignals","headOrBody","head","body","appendChild","injectScript","addEventListener","loadCalled","loadStripe","_len","_key","now","Installments","paymentMethodName","cardFormComplete","addPaymentMethodData","getPaymentMethod","installments","setInstallments","installment","setInstallment","loading","setLoading","paymentMethod","apiFetch","getRoute","method","data","payment_method_id","payment_method","result","catch","log","finally","__","Loader","InstallmentOptions","_stripe_installment_plan","isLoading","OPTIONS","disabled","map","dangerouslySetInnerHTML","__html","text","classnames","getSetting","paymentText","buttonText","assetsUrl","sprintf","title","icons","components","Label","PaymentMethodLabel","Icons","PaymentMethodIcons","align","getData","content","Content","desc","el","childNodes","classList","add","Description","RadioControlOption","checked","label","onCheckoutAfterProcessingWithSuccess","responseTypes","billingAddress","currentData","unsubscribe","redirectUrl","isNextActionRequired","processPaymentIntent","processSetupIntent","useCallback","client_secret","order_id","order_key","collectBankAccountForPayment","clientSecret","payment_method_type","payment_method_data","billing_details","first_name","last_name","email","response","paymentIntent","status","confirmUsBankAccountPayment","stripe_ach_token_key","messages","ensureSuccessResponse","redirect","code","ensureErrorResponse","collectBankAccountForSetup","setupIntent","confirmUsBankAccountSetup","getSettings","ACHPaymentContent","eventRegistration","emitResponse","billing","onSubmit","onCheckoutAfterProcessingWithError","onPaymentProcessing","useProcessCheckoutError","subscriber","useProcessPayment","billingData","Mandate","ACHComponent","registerPaymentMethod","ariaLabel","canMakePayment","cartTotals","currency_code","PaymentMethod","savedTokenComponent","edit","placeOrderButtonLabel","supports","showSavedCards","showSaveOption","features","ApplePayContent","ApplePayButton","onClose","shippingData","activePaymentMethod","noticeContexts","useStripeError","exportedValues","useExportedValues","useExpressBreakpointWidth","width","setPaymentMethod","useProcessPaymentIntent","useAfterProcessingPayment","messageContext","EXPRESS_PAYMENTS","paymentRequest","usePaymentRequest","canPay","applePay","handleClick","preventDefault","show","style","ApplePayEdit","registerExpressPaymentMethod","currency","total_price","country","toLowerCase","total","amount","parseInt","Bootstrap","CardIcon","htmlFor","registerCreditCardForm","breakpoint","component","classes","focus","empty","invalid","eventChange","onComplete","cardType","setCardType","elementOrder","container","setContainer","getCreditCardForm","CardForm","postalCodeEnabled","elementStatus","setElementOrder","useBreakpointWidth","getCardIconSrc","cloneElement","brand","complete","idx","nextElement","getElement","SimpleForm","card","cardOptions","postalCode","postcode","hidePostalCode","isFieldRequired","iconStyle","PaymentElementComponent","cartTotal","mode","formComplete","setFormComplete","installmentsActive","shouldSavePayment","useDeferredPaymentIntent","PAYMENTS","fields","billingDetails","address","wallets","googlePay","CreditCardContent","setError","CreditCardElement","getPaymentMethodArgs","elType","useSetupIntent","removeSetupIntent","getCreatePaymentMethodArgs","Tag","CustomCardForm","StripeCardForm","state","hasError","errorInfo","setState","componentStack","Component","publishableKey","setErrorMessage","checkoutStatus","merchantInfo","merchantId","merchantName","buttonContainer","buttonType","buildPaymentRequest","usePaymentsClient","button","removeButton","append","parameters","allowedAuthMethods","allowedCardNetworks","assuranceDetailsRequired","apiVersion","apiVersionMinor","errorMessage","processingCountry","totalPriceLabel","shippingRates","emailRequired","isEmpty","allowedPaymentMethods","tokenizationSpecification","gateway","BASE_PAYMENT_METHOD","shippingAddressRequired","needsShipping","transactionInfo","getTransactionInfo","callbackIntents","BASE_PAYMENT_REQUEST","billingAddressRequired","billingAddressParameters","format","phoneNumberRequired","phone","shippingOptionRequired","shippingOptionParameters","getShippingOptionParameters","shippingOptions","environment","paymentsClient","setPaymentsClient","setButton","currentBilling","currentShipping","setAddressData","paymentData","paymentMethodData","toCartAddress","phoneNumber","shippingAddress","parentElement","firstChild","removeChild","loadPaymentData","JSON","parse","tokenizationData","token","getBillingDetailsFromAddress","StripeError","statusCode","getErrorMessage","createButton","querySelector","remove","paymentOptions","paymentDataCallbacks","onPaymentAuthorized","transactionState","onPaymentDataChanged","shipping","shippingOptionData","selectedRates","getSelectedShippingOption","shipping_method","page_id","paymentRequestUpdate","setSelectedRates","google","payments","api","PaymentsClient","isReadyToPayRequest","isReadyToPay","GooglePayContent","ValidationInputError","useErrorMessage","GooglePayEdit","long","isCartPage","cartTotalItems","countryCode","currencyCode","totalPriceStatus","totalPrice","removeNumberPrecision","minorUnit","displayItems","getDisplayItems","newTransactionInfo","newShippingOptionParameters","unit","items","item","price","getShippingOptions","defaultSelectedOptionId","option","shift","shippingPackage","shipping_rates","rate","selected","getShippingOptionId","rate_id","rates","txt","innerHTML","formatPrice","description","mapAddressToCartAddress","split","join","pop","address1","address2","locality","administrativeArea","unsubscribeAfterProcessingWithSuccess","handleCardAction","savePaymentMethod","innerWidth","windowWidth","setWindowWidth","getMaxWidth","maxWidth","getFromCache","setMaxWidth","storeInCache","clientWidth","handleResize","removeEventListener","getElementById","parentNode","getSuccessResponse","meta","submit","confirmPayment","confirmParams","onShippingRateSuccess","onShippingRateFail","onShippingRateSelectSuccess","handler","setHandler","onShippingChanged","paymentEvents","setPaymentEvent","addPaymentEvent","execute","removePaymentEvent","isSelectingRate","shippingRatesLoading","success","hasShippingRates","unsubscribeShippingRateSuccess","unsubscribeShippingRateSelectSuccess","unsubscribeShippingRateFail","hasInvalidAddress","mapToCartAddress","setPaymentRequest","paymentRequestOptions","pending","requestPayerName","requestPayerEmail","requestPayerPhone","requestShipping","onShippingAddressChange","intermediateAddress","updateWith","newData","setShippingAddress","onShippingOptionChange","shippingOption","onPaymentMethodReceived","paymentResponse","payerName","payerEmail","payerPhone","processingResponse","paymentDetails","stripeErrorMessage","ERROR","message","generalData","paymentType","currentPaymentMethodArgs","paymentMethodId","isOlderVersion","DEFAULT_BILLING_ADDRESS","DEFAULT_SHIPPING_ADDRESS","unsubscribeProcessingPayment","confirmCardSetup","setSetupIntent","createSetupIntent","intent","cartContainsPreOrder","cartContainsSubscription","deleteFromCache","enabled","icon","contains","removeElement","iconEl","link","setLink","linkData","linkAutofillModal","launch","recipient","stripe_cc_token_key","stripe_cc_save_source_key","LinkComponent","paymentMethodCreation","payment_method_types","LinkCheckout","linkIcon","useLink","useLinkIcon","display","setOptions","updateOptions","detail","requirements","accountCountry","dispatchEvent","CustomEvent","LocalPaymentIntentContent","OffsiteNotice","confirmationMethod","isAvailable","available","billingCountry","requiredParams","requiredParamObj","countries","isCartEligible","isEligible","AfterpayPaymentMethod","settings","currency_minor_unit","BecsPaymentMethod","BLIKPaymentMethod","PaymentMethodContent","showTimer","setShowTimer","onCheckoutValidationBeforeProcessing","codes","setCodes","carry","return_url","order","confirmBlikPayment","blik","payment_method_options","last_payment_error","decodeURI","order_received_url","Instructions","onTimeout","InputCodes","keyCode","refs","setRef","onInput","onKeyDown","InputCode","maxLength","currentTarget","Timer","count","setCount","setInterval","clearInterval","taxId","setTaxId","isActive","setIsActive","callback","boleto","tax_id","wc_stripe_boleto_tax_id","isTestMode","currentBillingData","match","atob","decodeURIComponent","getSourceArgs","setSource","isValid","setIsValid","currentValues","getSourceArgsInternal","getDefaultSourceArgs","returnUrl","getSuccessData","sourceId","createSource","msg","KonbiniPaymentMethod","usePhoneAsConfirmation","usePhone","confirmKonbiniPayment","konbini","confirmation_number","billing_phone","LocalPaymentIntentMethod","LocalPaymentSourceMethod","useCreateSource","LocalPaymentElementContainer","useValidateCheckout","useAfterProcessLocalPayment","PAYMENT","LocalPaymentSourceContent","PayNowPaymentMethod","confirmPayNowPayment","SepaPaymentMethod","sofort","WeChatComponent","WeChatPaymentMethod","size","deleteSourceFromStorage","QRCodeComponent","wechat","qr_code_url","height","isAddressValid","colorDark","colorLight","correctLevel","QRCode","CorrectLevel","H","createSourceTimeoutId","clearTimeout","setTimeout","PaymentRequestContent","PaymentRequestButton","paymentRequestButton","PaymentRequestEdit","canvas","scale","devicePixelRatio","getContext","beginPath","arc","Math","PI","fillStyle","fill","handleSuccessResult","stripeParams","countryLocale","SHIPPING_OPTION_REGEX","routes","creditCardForms","localPaymentMethods","PAYMENT_REQUEST_ADDRESS_MAPPINGS","addressLine","address_1","address_2","line1","line2","city","region","postal_code","route","SUCCESS","statusMessage","exclude","getLocaleFields","entries","required","localeFields","default","locale","field","packageIdx","Boolean","customerId","address_mappings","cartAddress","filterEmptyValues","cartKey","values","getCurrency","prefix","suffix","decimalSeparator","thousandSeparator","fractional","index","replace","substr","RegExp","sort","packageId","rateId","cartItems","pre_order","subscription","owner","getCacheKey","exp","floor","getTime","sessionStorage","setItem","stringify","getItem","removeItem","ver1","ver2","compare","page","hasOwn","classNames","argType","inner"],"sourceRoot":""}