{"version":3,"file":"rml_gutenberg.lite.js","mappings":"qCACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDR,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFf,EAAyBM,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,GAAO,G,YCL9D,MAAM,EAA+BC,M,aCArC,MAAM,EAA+BC,GCArC,SAASC,IAAiS,OAApRA,EAAWd,OAAOe,OAASf,OAAOe,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAIpB,KAAOuB,EAAcrB,OAAOM,UAAUC,eAAeC,KAAKa,EAAQvB,KAAQmB,EAAOnB,GAAOuB,EAAOvB,GAAU,CAAE,OAAOmB,CAAQ,EAAUH,EAASQ,MAAMC,KAAMJ,UAAY,CAKlV,MAAMK,EAAW,8BACf,kBACEC,GACE,EAAAC,QACJ,EACEC,EAAC,IACDC,EAAG,KACHC,EACAC,iBAAkBC,EAA4B,UAC9CC,EAAS,aACTC,EAAY,cACZC,EAAa,cACbC,EAAa,WACbC,EAAU,OACVC,EAAM,QACNC,EAAO,OACPC,EAAM,YACNC,GACE,EAAAC,YACJ,UACEC,EAAS,SACTC,GACE,EAAAC,SACJ,kBACEC,EACAf,iBAAkBgB,GAChB,EAAAC,QACJ,GACEC,GACE,EAAAC,KACAnB,EAAmBC,GAAgCe,EACnDI,EAAc,CAAC,CACnBvC,MAAO,aACPwC,MAAOH,EAAG,oBACT,CACDrC,MAAO,QACPwC,MAAOH,EAAG,eACT,CACDrC,MAAO,OACPwC,MAAOH,EAAG,UAOZ,MAAMI,UAA4BV,EAChCW,cACEC,SAASnC,WACTI,KAAKgC,MAAQ,CACXC,OAAO,EACPC,KAAM,GAEV,CAKAC,0BACE,MAAM,KACJD,SACQE,OAAOC,IAAIC,QAAQ,CAC3BC,SAAU,CACRC,KAAM,WAGVN,EAAKO,QAAQ,CACXC,IAAK,EACLC,KAAMC,QAAQC,OAAOC,KAAKC,cAE5Bb,EAAKO,QAAQ,CACXC,QAAIM,EACJL,KAAM,MAER3C,KAAKiD,SAAS,CACZf,OACAD,OAAO,GAEX,CACAiB,SACE,SACOC,GACDnD,KAAKoD,OACT,MACEnB,EAAK,KACLC,GACElC,KAAKgC,MACX,OAAQC,EAIW,kBAAoBlB,EAAS,MAJnB,kBAAoBF,EAAYtB,EAAS,CACpEqC,MAAOgB,QAAQC,OAAOC,KAAKO,QAC1BF,EAAM,CACPjB,KAAMA,IAEV,EAmFFhC,EAAkBD,EAAU,CAC1BqD,MAAO,6BACPC,YAAa,2CACbC,KAAmB,kBAAoBnD,EAAK,CAC1CoD,QAAS,YACTC,MAAO,8BACO,kBAAoBpD,EAAM,CACxCqD,KAAM,OACNxF,EAAG,oBACY,kBAAoBiC,EAAG,KAAmB,kBAAoBE,EAAM,CACnFnC,EAAG,oDACY,kBAAoBmC,EAAM,CACzCnC,EAAG,0BACY,kBAAoBmC,EAAM,CACzCnC,EAAG,+BAELyF,SAAU,SACVC,SAAU,CACRC,OAAO,GAETC,WAAY,CACVC,IAAK,CACHC,KAAM,SACNC,QAAS,GAEXC,QAAS,CACPF,KAAM,SACNC,QAAS,GAEXE,UAAW,CACTH,KAAM,UACNC,SAAS,GAEXG,SAAU,CACRJ,KAAM,UACNC,SAAS,GAEXI,OAAQ,CACNL,KAAM,SACNC,QAAS,QAEXK,eAAgB,CACdN,KAAM,SACNC,QAAS,IAGbM,KAAMvD,EA3HR,cAA0BE,EACxBW,cACEC,SAASnC,WACTI,KAAKyE,OAAST,GAAOhE,KAAKoD,MAAMsB,cAAc,CAC5CV,KAAMA,IAERhE,KAAK2E,UAAYL,GAAUtE,KAAKoD,MAAMsB,cAAc,CAClDJ,WAEFtE,KAAK4E,iBAAmBT,GAAWnE,KAAKoD,MAAMsB,cAAc,CAC1DP,YAEFnE,KAAK6E,gBAAkB,IAAM7E,KAAKoD,MAAMsB,cAAc,CACpDN,WAAYpE,KAAKoD,MAAMW,WAAWK,YAEpCpE,KAAK8E,eAAiB,IAAM9E,KAAKoD,MAAMsB,cAAc,CACnDL,UAAWrE,KAAKoD,MAAMW,WAAWM,WAEnCrE,KAAK+E,aAAe,IAAM/E,KAAKoD,MAAMsB,cAAc,CACjDH,gBAAgB,IAAIS,MAAOC,YAE7BjF,KAAKkD,OAAS,KAEZ,MAAM,WACFa,GACE/D,KAAKoD,OACT,IACEY,EAAG,QACHG,EAAU,EAAC,UACXC,EAAS,SACTC,EAAQ,OACRC,GACEP,EACN,OAAoB,kBAAoB3C,EAAU,KAAmB,kBAAoBE,EAAmB,KAAmB,kBAAoBb,EAAW,CAC5J6C,MAAO7B,EAAG,qBACI,kBAAoBI,EAAqB,CACvDzC,MAAO4E,EACPkB,SAAUlF,KAAKyE,SACA,kBAAoB/D,EAAc,CACjDkB,MAAOH,EAAG,WACVrC,MAAO+E,EACPe,SAAUlF,KAAK4E,iBACfO,IAAK,IACLC,IAAK,MACU,kBAAoBzE,EAAe,CAClDiB,MAAOH,EAAG,eACV4D,UAAWjB,EACXc,SAAUlF,KAAK6E,kBACA,kBAAoBlE,EAAe,CAClDiB,MAAOH,EAAG,WACV4D,UAAWhB,EACXa,SAAUlF,KAAK8E,iBACA,kBAAoBlE,EAAe,CAClDgB,MAAOH,EAAG,WACVrC,MAAOkF,EACPY,SAAUlF,KAAK2E,UACfW,QAAS3D,IACM,kBAAoBX,EAAQ,CAC3CuE,WAAW,EACXC,QAASxF,KAAK+E,cACbnC,QAAQC,OAAOC,KAAK2C,iBAA+B,kBAAoBlF,EAAkB,CAC1FmF,MAAOzF,EACP8D,WAAYA,KACTC,GAAoB,kBAAoBlD,EAAQ,CACnD6E,OAAQ,QACRC,eAAe,GACD,kBAAoB,IAAK,KAAMhD,QAAQC,OAAOC,KAAK+C,uBAAuB,EAE5F7F,KAAKgC,MAAQ,CACX8D,SAAS,IAAId,MAAOC,UAExB,IAqDAc,KAAI,IAEK,O","sources":["webpack://devowl-local-files/real-media-library/default-lite/webpack/bootstrap","webpack://devowl-local-files/real-media-library/default-lite/webpack/runtime/compat get default export","webpack://devowl-local-files/real-media-library/default-lite/webpack/runtime/define property getters","webpack://devowl-local-files/real-media-library/default-lite/webpack/runtime/hasOwnProperty shorthand","webpack://devowl-local-files/real-media-library/default-lite/webpack/runtime/make namespace object","webpack://devowl-local-files/real-media-library/default-lite/external var \"React\"","webpack://devowl-local-files/real-media-library/default-lite/external var \"wp\"","webpack://devowl-local-files/real-media-library/default-lite/src/rml_gutenberg.jsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = React;","const __WEBPACK_NAMESPACE_OBJECT__ = wp;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n/* global rmlOpts */\n\nimport React from \"react\";\nimport { blocks, components, element, editor, i18n } from \"wp\";\nconst BLOCK_ID = \"real-media-library/gallery\",\n  {\n    registerBlockType\n  } = blocks,\n  {\n    G,\n    SVG,\n    Path,\n    ServerSideRender: ServerSideRenderWpLower6Dot2,\n    PanelBody,\n    RangeControl,\n    ToggleControl,\n    SelectControl,\n    TreeSelect,\n    Notice,\n    Spinner,\n    Button,\n    withNotices\n  } = components,\n  {\n    Component,\n    Fragment\n  } = element,\n  {\n    InspectorControls,\n    ServerSideRender: ServerSideRenderWpGreaterEqual6Dot2\n  } = editor,\n  {\n    __\n  } = i18n;\nconst ServerSideRender = ServerSideRenderWpLower6Dot2 || ServerSideRenderWpGreaterEqual6Dot2;\nconst linkOptions = [{\n  value: \"attachment\",\n  label: __(\"Attachment Page\")\n}, {\n  value: \"media\",\n  label: __(\"Media File\")\n}, {\n  value: \"none\",\n  label: __(\"None\")\n}];\n\n/**\n * Control to select a folder. You do not have to fill the items, it is\n * automatically filled and retrieved from the server.\n */\nclass SelectFolderControl extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      $busy: true,\n      tree: []\n    };\n  }\n\n  /**\n   * Load the RML tree.\n   */\n  async componentDidMount() {\n    const {\n      tree\n    } = await window.rml.request({\n      location: {\n        path: \"/tree\"\n      }\n    });\n    tree.unshift({\n      id: -1,\n      name: rmlOpts.others.lang.unorganized\n    });\n    tree.unshift({\n      id: undefined,\n      name: \"-\"\n    });\n    this.setState({\n      tree,\n      $busy: false\n    });\n  }\n  render() {\n    const {\n        ...rest\n      } = this.props,\n      {\n        $busy,\n        tree\n      } = this.state;\n    return !$busy ? /*#__PURE__*/React.createElement(TreeSelect, _extends({\n      label: rmlOpts.others.lang.folder\n    }, rest, {\n      tree: tree\n    })) : /*#__PURE__*/React.createElement(Spinner, null);\n  }\n}\n\n/**\n * Gallery edit view with inspector controls like the normal gallery block.\n */\nclass GalleryEdit extends Component {\n  constructor() {\n    super(...arguments);\n    this.setFid = fid => this.props.setAttributes({\n      fid: +fid\n    });\n    this.setLinkTo = linkTo => this.props.setAttributes({\n      linkTo\n    });\n    this.setColumnsNumber = columns => this.props.setAttributes({\n      columns\n    });\n    this.toggleImageCrop = () => this.props.setAttributes({\n      imageCrop: !this.props.attributes.imageCrop\n    });\n    this.toggleCaptions = () => this.props.setAttributes({\n      captions: !this.props.attributes.captions\n    });\n    this.handleReload = () => this.props.setAttributes({\n      lastEditReload: new Date().getTime()\n    });\n    this.render = () => {\n      // Collect data\n      const {\n          attributes\n        } = this.props,\n        {\n          fid,\n          columns = 3,\n          imageCrop,\n          captions,\n          linkTo\n        } = attributes;\n      return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(InspectorControls, null, /*#__PURE__*/React.createElement(PanelBody, {\n        title: __(\"Gallery Settings\")\n      }, /*#__PURE__*/React.createElement(SelectFolderControl, {\n        value: fid,\n        onChange: this.setFid\n      }), /*#__PURE__*/React.createElement(RangeControl, {\n        label: __(\"Columns\"),\n        value: columns,\n        onChange: this.setColumnsNumber,\n        min: \"1\",\n        max: \"8\"\n      }), /*#__PURE__*/React.createElement(ToggleControl, {\n        label: __(\"Crop Images\"),\n        checked: !!imageCrop,\n        onChange: this.toggleImageCrop\n      }), /*#__PURE__*/React.createElement(ToggleControl, {\n        label: __(\"Caption\"),\n        checked: !!captions,\n        onChange: this.toggleCaptions\n      }), /*#__PURE__*/React.createElement(SelectControl, {\n        label: __(\"Link To\"),\n        value: linkTo,\n        onChange: this.setLinkTo,\n        options: linkOptions\n      }), /*#__PURE__*/React.createElement(Button, {\n        isPrimary: true,\n        onClick: this.handleReload\n      }, rmlOpts.others.lang.reloadContent))), /*#__PURE__*/React.createElement(ServerSideRender, {\n        block: BLOCK_ID,\n        attributes: attributes\n      }), !fid && /*#__PURE__*/React.createElement(Notice, {\n        status: \"error\",\n        isDismissible: false\n      }, /*#__PURE__*/React.createElement(\"p\", null, rmlOpts.others.lang.gutenBergBlockSelect)));\n    };\n    this.state = {\n      refresh: new Date().getTime()\n    };\n  }\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-library/src/gallery/index.js\n */\nregisterBlockType(BLOCK_ID, {\n  title: \"Real Media Library Gallery\",\n  description: \"Display folder images in a rich gallery.\",\n  icon: /*#__PURE__*/React.createElement(SVG, {\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(Path, {\n    fill: \"none\",\n    d: \"M0 0h24v24H0V0z\"\n  }), /*#__PURE__*/React.createElement(G, null, /*#__PURE__*/React.createElement(Path, {\n    d: \"M20 4v12H8V4h12m0-2H8L6 4v12l2 2h12l2-2V4l-2-2z\"\n  }), /*#__PURE__*/React.createElement(Path, {\n    d: \"M12 12l1 2 3-3 3 4H9z\"\n  }), /*#__PURE__*/React.createElement(Path, {\n    d: \"M2 6v14l2 2h14v-2H4V6H2z\"\n  }))),\n  category: \"common\",\n  supports: {\n    align: true\n  },\n  attributes: {\n    fid: {\n      type: \"number\",\n      default: 0\n    },\n    columns: {\n      type: \"number\",\n      default: 3\n    },\n    imageCrop: {\n      type: \"boolean\",\n      default: true\n    },\n    captions: {\n      type: \"boolean\",\n      default: true\n    },\n    linkTo: {\n      type: \"string\",\n      default: \"none\"\n    },\n    lastEditReload: {\n      type: \"number\",\n      default: 0\n    }\n  },\n  edit: withNotices(GalleryEdit),\n  save() {\n    // Rendering in PHP, see general\\Gutenberg\n    return null;\n  }\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","React","wp","_extends","assign","bind","target","i","arguments","length","source","apply","this","BLOCK_ID","registerBlockType","blocks","G","SVG","Path","ServerSideRender","ServerSideRenderWpLower6Dot2","PanelBody","RangeControl","ToggleControl","SelectControl","TreeSelect","Notice","Spinner","Button","withNotices","components","Component","Fragment","element","InspectorControls","ServerSideRenderWpGreaterEqual6Dot2","editor","__","i18n","linkOptions","label","SelectFolderControl","constructor","super","state","$busy","tree","async","window","rml","request","location","path","unshift","id","name","rmlOpts","others","lang","unorganized","undefined","setState","render","rest","props","folder","title","description","icon","viewBox","xmlns","fill","category","supports","align","attributes","fid","type","default","columns","imageCrop","captions","linkTo","lastEditReload","edit","setFid","setAttributes","setLinkTo","setColumnsNumber","toggleImageCrop","toggleCaptions","handleReload","Date","getTime","onChange","min","max","checked","options","isPrimary","onClick","reloadContent","block","status","isDismissible","gutenBergBlockSelect","refresh","save"],"sourceRoot":""}