(()=>{var e={779:(e,t)=>{var r;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=s.apply(null,r);a&&e.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},334:()=>{},28:(e,t,r)=>{"use strict";r.d(t,{P:()=>d});var n=r(896),s=r(307),i=r(18),a=r(818),o=r(694),l=r(736),c=r(168);r(462);const __=l.__,u="isInsertingPagePattern",p="automattic/full-site-editing/inserting-pattern";function d(e){const{setOpenState:t}=(0,a.useDispatch)(c.I),{setUsedPageOrPatternsModal:r}=(0,a.useDispatch)("automattic/wpcom-welcome-guide"),{replaceInnerBlocks:l}=(0,a.useDispatch)("core/block-editor"),{editPost:d}=(0,a.useDispatch)("core/editor"),{toggleFeature:g}=(0,a.useDispatch)("core/edit-post"),{disableTips:m}=(0,a.useDispatch)("core/nux"),h=(0,a.useSelect)((e=>{const{isOpen:t,isPatternPicker:r}=e(c.I);return{isOpen:t(),isWelcomeGuideActive:e("core/edit-post").isFeatureActive("welcomeGuide"),areTipsEnabled:!!e("core/nux")&&e("core/nux").areTipsEnabled(),...r()&&{title:__("Choose a Pattern","full-site-editing"),description:__("Pick a pre-defined layout or continue with a blank page","full-site-editing")}}}),[]),{getMeta:f,postContentBlock:_}=(0,a.useSelect)((e=>({getMeta:()=>e("core/editor").getEditedPostAttribute("meta"),postContentBlock:e("core/editor").getBlocks().find((e=>"a8c/post-content"===e.name))})),[]),b=(0,s.useCallback)((e=>{const t=f();d({meta:{...t,_starter_page_template:e}})}),[d,f]),v=(0,s.useCallback)(((e,t)=>{(0,o.addFilter)(u,p,(()=>!0)),e&&d({title:e}),l(_?_.clientId:"",t,!1),(0,o.removeFilter)(u,p)}),[d,_,l]),{isWelcomeGuideActive:y,areTipsEnabled:w}=h,P=(0,s.useCallback)((()=>{y?g("welcomeGuide"):w&&m()}),[w,m,y,g]),k=(0,s.useCallback)((()=>{r(),t("CLOSED")}),[t,r]);return(0,s.createElement)(i.Z,(0,n.Z)({},h,{onClose:k,savePatternChoice:b,insertPattern:v,hideWelcomeGuide:P},e))}},168:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(818);const s=(0,n.createReduxStore)("automattic/starter-page-layouts",{reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CLOSED",{type:t,...r}=arguments.length>1?arguments[1]:void 0;return"SET_IS_OPEN"===t?r.openState:e},actions:{setOpenState:e=>({type:"SET_IS_OPEN",openState:e||"CLOSED"})},selectors:{isOpen:e=>"CLOSED"!==e,isPatternPicker:e=>"OPEN_FOR_BLANK_CANVAS"===e}});(0,n.register)(s)},18:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(666),s=r(307),i=r(981),a=r(609),o=r(333),l=r(736),c=r(779),u=r.n(c),p=r(819),d=r(531),g=r(988),m=r(480),h=r(656),f=r(884),_=r(958);const __=l.__;class b extends s.Component{constructor(e){super(e),(0,n.Z)(this,"getFormattedPatternsByPatternSlugs",(0,p.memoize)((e=>{const t=e.reduce(((e,t)=>{let{name:r,description:n="",html:s,pattern_meta:a}=t;const o=null!=a&&a.viewport_width?Number(a.viewport_width):1280;return e[r]={name:r,title:n,blocks:s?(0,i.parse)((0,h.Z)(s,this.props.siteInformation)):[],viewportWidth:Math.max(o,320)},e}),{});return this.filterPatternsWithMissingBlocks(t)}))),(0,n.Z)(this,"getBlocksForSelection",(e=>{const t=this.getBlocksByPatternSlug(e);return(0,m.Z)(t,(function(e){return"core/button"===e.name&&void 0!==e.attributes.url&&(e.attributes.url="#"),e}))})),(0,n.Z)(this,"setPattern",(e=>{if((0,f.E2)(e),this.props.savePatternChoice(e),"blank"===e)return this.props.insertPattern("",[]),void this.props.onClose();const t=this.props.patterns.find((t=>t.name===e)),r=((null==t?void 0:t.categories)||{}).hasOwnProperty("home"),n=this.getBlocksForSelection(e),s=r?null:(null==t?void 0:t.title)||"";n&&n.length?(this.props.insertPattern(s,n),this.props.onClose()):this.props.onClose()})),(0,n.Z)(this,"handleCategorySelection",(e=>{this.setState({selectedCategory:e})})),(0,n.Z)(this,"closeModal",(e=>{"blur"!==e.type?((0,f.GI)(),this.props.onClose()):e.stopPropagation()})),(0,n.Z)(this,"getPatternGroups",(()=>{if(!this.props.patterns.length)return null;const e={};for(const t of this.props.patterns)for(const r in t.categories)r in e||(e[r]=t.categories[r]);return(0,g.x)(["featured","about","blog","home","gallery","services","contact"],e)})),(0,n.Z)(this,"getPatternsForGroup",(e=>{if(!this.props.patterns.length)return null;if("blank"===e)return[{name:"blank",title:"Blank",html:"",ID:null}];const t=[];for(const r of this.props.patterns)for(const n in r.categories)n===e&&t.push(r);return t})),(0,n.Z)(this,"getPatternCategories",(()=>{const e=this.getPatternGroups();if(!e)return null;const t=[];for(const r in e)t.push({slug:r,name:e[r].title});return t})),(0,n.Z)(this,"renderPatternGroup",(()=>{const{selectedCategory:e}=this.state;if(!e)return null;const t=this.getPatternsForGroup(e);return null!=t&&t.length?this.renderPatternsList(t):null})),(0,n.Z)(this,"renderPatternsList",(e=>{if(!e.length)return null;const t=this.getFormattedPatternsByPatternSlugs(this.props.patterns),r=Object.keys(t),n=(i=r,e.filter((e=>i.includes(e.name))));var i;return n.length?(0,s.createElement)(_.Z,{label:__("Layout","full-site-editing"),patterns:n.map((e=>t[e.name])),onPatternSelect:this.setPattern}):null})),this.state={selectedCategory:this.getDefaultSelectedCategory()}}filterPatternsWithMissingBlocks(e){return Object.entries(e).reduce(((e,t)=>{let[r,n]=t;return(0,d.Z)(n.blocks)&&n.blocks.length||(e[r]=n),e}),{})}componentDidMount(){this.props.isOpen&&this.trackCurrentView()}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.trackCurrentView(),(this.props.isWelcomeGuideActive||this.props.areTipsEnabled)&&this.props.hideWelcomeGuide()}trackCurrentView(){(0,f.Fk)("add-page")}getDefaultSelectedCategory(){const e=this.getPatternCategories();return null!=e&&e.length?e[0].slug:null}getBlocksByPatternSlug(e){var t,r;return(null===(t=this.getFormattedPatternsByPatternSlugs(this.props.patterns))||void 0===t||null===(r=t[e])||void 0===r?void 0:r.blocks)??[]}render(){var e,t;const{selectedCategory:r}=this.state,{isOpen:n,instanceId:i}=this.props;return n?(0,s.createElement)(a.Modal,{title:"",className:"page-pattern-modal",onRequestClose:this.closeModal,aria:{labelledby:`page-pattern-modal__heading-${i}`,describedby:`page-pattern-modal__description-${i}`}},(0,s.createElement)("div",{className:"page-pattern-modal__inner"},(0,s.createElement)("div",{className:"page-pattern-modal__sidebar"},(0,s.createElement)("h1",{id:`page-pattern-modal__heading-${i}`,className:u()("page-pattern-modal__heading",{"page-pattern-modal__heading--default":!this.props.title})},this.props.title||__("Add a page","full-site-editing")),(0,s.createElement)("p",{id:`page-pattern-modal__description-${i}`,className:"page-pattern-modal__description"},this.props.description||__("Pick a pre-defined layout or start with a blank page.","full-site-editing")),(0,s.createElement)("div",{className:"page-pattern-modal__button-container"},(0,s.createElement)(a.Button,{isSecondary:!0,onClick:()=>this.setPattern("blank"),className:"page-pattern-modal__blank-button"},__("Blank page","full-site-editing")),(0,s.createElement)("select",{className:"page-pattern-modal__mobile-category-dropdown",value:r??void 0,onChange:e=>this.handleCategorySelection(e.currentTarget.value)},null===(e=this.getPatternCategories())||void 0===e?void 0:e.map((e=>{let{slug:t,name:r}=e;return(0,s.createElement)("option",{key:t,value:t},r)})))),(0,s.createElement)(a.VisuallyHidden,{as:"h2",id:`page-pattern-modal__list-heading-${i}`},__("Page categories","full-site-editing")),(0,s.createElement)(a.NavigableMenu,{className:"page-pattern-modal__category-list",orientation:"vertical","aria-labelledby":`page-pattern-modal__list-heading-${i}`,onNavigate:(e,t)=>this.handleCategorySelection(t.dataset.slug??null)},null===(t=this.getPatternCategories())||void 0===t?void 0:t.map((e=>{let{slug:t,name:n}=e;return(0,s.createElement)(a.MenuItem,{key:t,isTertiary:!0,"aria-selected":t===r,"data-slug":t,onClick:()=>this.handleCategorySelection(t),className:"page-pattern-modal__category-button",tabIndex:t===r?void 0:-1},(0,s.createElement)("span",{className:"page-pattern-modal__category-item-selection-wrapper"},n))})))),(0,s.createElement)("div",{className:"page-pattern-modal__pattern-list-container"},this.renderPatternGroup()))):null}}const v=(0,o.withInstanceId)(b)},958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(307),s=r(175),i=r(609),a=r(333);const o=()=>{},l=(0,n.memo)((0,a.withInstanceId)((e=>{let{instanceId:t,label:r,patterns:l=[],onPatternSelect:c=o}=e;const u=(0,a.useAsyncList)(l);return Array.isArray(l)&&l.length?(0,n.createElement)(i.BaseControl,{id:`pattern-selector-control__${t}`,label:r,className:"pattern-selector-control"},(0,n.createElement)(s.__experimentalBlockPatternsList,{blockPatterns:l,shownPatterns:u,onClickPattern:e=>c(e.name)})):null})))},531:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function e(t){return!!t.find((t=>"core/missing"===t.name||!(!t.innerBlocks||!t.innerBlocks.length)&&e(t.innerBlocks)))}},988:(e,t,r)=>{"use strict";function n(e,t){const r=Object.keys(t),n=e.filter((e=>r.includes(e))),s=r.filter((t=>!e.includes(t)));return n.concat(s.sort()).reduce(((e,r)=>(e[r]=t[r],e)),{})}r.d(t,{x:()=>n})},480:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(981);const s=function e(t,r){return t.map((t=>((t=r((0,n.cloneBlock)(t))).innerBlocks&&t.innerBlocks.length&&(t.innerBlocks=e(t.innerBlocks,r)),t)))}},656:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(736);const _x=n._x,s={Address:_x("123 Main St","default address","full-site-editing"),Phone:_x("555-555-5555","default phone number","full-site-editing"),CompanyName:_x("Your Company Name","default company name","full-site-editing"),Vertical:_x("Business","default vertical name","full-site-editing")},i={CompanyName:"title",Address:"address",Phone:"phone",Vertical:"vertical"};function a(e,t){return e in t}const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?e.replace(/{{(\w+)}}/g,((e,r)=>{const n=a(r,s)?s[r]:"",o=a(r,i)?i[r]:"";return t[o]||n||r})):""}},884:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,Fk:()=>i,GI:()=>a,E2:()=>o}),window._tkq=window._tkq||[];let n=null;const s=e=>{n=e,window._tkq.push(["identifyUser",e.userid,e.username])},i=e=>{n&&window._tkq.push(["recordEvent","a8c_full_site_editing_template_selector_view",{blog_id:n.blogid,source:e}])},a=()=>{n&&window._tkq.push(["recordEvent","a8c_full_site_editing_template_selector_dismiss",{blog_id:n.blogid}])},o=e=>{n&&window._tkq.push(["recordEvent","a8c_full_site_editing_template_selector_template_selected",{blog_id:n.blogid,pattern:e}])}},819:e=>{"use strict";e.exports=window.lodash},175:e=>{"use strict";e.exports=window.wp.blockEditor},981:e=>{"use strict";e.exports=window.wp.blocks},609:e=>{"use strict";e.exports=window.wp.components},333:e=>{"use strict";e.exports=window.wp.compose},818:e=>{"use strict";e.exports=window.wp.data},307:e=>{"use strict";e.exports=window.wp.element},694:e=>{"use strict";e.exports=window.wp.hooks},736:e=>{"use strict";e.exports=window.wp.i18n},462:e=>{"use strict";e.exports=window.wp.nux},817:e=>{"use strict";e.exports=window.wp.plugins},666:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(795);function s(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},896:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})},745:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(522);function s(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!==(0,n.Z)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},795:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(522),s=r(745);function i(e){var t=(0,s.Z)(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},522:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:()=>n})}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n);var e=r(307),t=r(884),s=r(818),i=r(817),a=r(28),o=r(168);r(334);const{templates:l=[],tracksUserData:c,screenAction:u}=window.starterPageTemplatesConfig??{};c&&(0,t.Z)(c),"add"===u&&(0,s.dispatch)(o.I).setOpenState("OPEN_FROM_ADD_PAGE"),(0,i.registerPlugin)("page-patterns",{render:()=>(0,e.createElement)(a.P,{patterns:l}),icon:void 0})})(),window.EditingToolkit=n})();
//# sourceMappingURL=starter-page-templates.min.js.map